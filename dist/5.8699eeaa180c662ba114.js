(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1136:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,u,c,l,i,s,d=n(r(49)),f=n(r(136)),p=n(r(50)),m=n(r(91)),h=n(r(12)),y=n(r(13)),v=n(r(74)),g=(n(r(92)),r(5)),E=n(r(16)),_=n(r(849)),O=r(289),b=(a=function(){function e(){var t=this;(0,h.default)(this,e),(0,m.default)(this,"list",o,this),(0,m.default)(this,"count",u,this),(0,m.default)(this,"exceptionCount",c,this),(0,m.default)(this,"healthyCount",l,this),(0,m.default)(this,"detail",i,this),(0,m.default)(this,"isLoading",s,this),this.getListUrl=function(e){var r=e.cluster;return"".concat(t.apiVersion,"/klusters/").concat(r,"/components")},this.getDetailUrl=function(e){var r=e.cluster,n=e.name;return"".concat(t.getListUrl({cluster:r}),"/").concat(n)}}var t,r;return(0,y.default)(e,[{key:"fetchList",value:(r=(0,p.default)(d.default.mark((function e(t){var r,n,a,o,u;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get(this.getListUrl(t));case 3:r=e.sent,n=(0,_.default)(r,"namespace"),a={kubernetes:(0,E.default)(n,"kube-system",[]),kubesphere:(0,E.default)(n,"kubesphere-system",[]),istio:(0,E.default)(n,"istio-system",[]),monitoring:(0,E.default)(n,"kubesphere-monitoring-system",[]),logging:(0,E.default)(n,"kubesphere-logging-system",[]),devops:(0,E.default)(n,"kubesphere-devops-system",[])},this.list={data:a,isLoading:!1},o={},u={},Object.entries(a).forEach((function(e){var t=(0,f.default)(e,2),r=t[0];t[1].forEach((function(e){var t=(0,O.getComponentStatus)(e);"Warning"===t&&(o[r]=o[r]||0,o[r]+=1),"Healthy"===t&&(u[r]=u[r]||0,u[r]+=1)}))})),this.exceptionCount=o,this.healthyCount=u;case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchDetail",value:(t=(0,p.default)(d.default.mark((function e(t){var r,n,a;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,n=t.name,this.isLoading=!0,e.next=4,request.get(this.getDetailUrl({cluster:r,name:n}));case 4:a=e.sent,this.detail=a,this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/resources.kubesphere.io/v1alpha2"}},{key:"totalCount",get:function(){var e=this.count,t=e.kubesphere+e.kubernetes+e.openpitrix;return isNaN(t)?0:t}}]),e}(),o=(0,v.default)(a.prototype,"list",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},isLoading:!0}}}),u=(0,v.default)(a.prototype,"count",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,v.default)(a.prototype,"exceptionCount",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=(0,v.default)(a.prototype,"healthyCount",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=(0,v.default)(a.prototype,"detail",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=(0,v.default)(a.prototype,"isLoading",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,v.default)(a.prototype,"fetchList",[g.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchList"),a.prototype),(0,v.default)(a.prototype,"fetchDetail",[g.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchDetail"),a.prototype),a);t.default=b},1138:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(19)),u=n(r(20)),c=n(r(18));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var i=function(e){(0,o.default)(r,e);var t=l(r);function r(){var e;(0,a.default)(this,r);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).module="customresourcedefinitions",e}return r}(n(r(277)).default);t.default=i},1140:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClusterResourceStatus",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ServiceComponentStatus",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ETCDStatus",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ETCDNodes",{enumerable:!0,get:function(){return c.default}});var a=n(r(2739)),o=n(r(2742)),u=n(r(2745)),c=n(r(2748))},1383:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var n=r(2643),a=n.keys().filter((function(e){return"./index.js"!==e})),o={},u=0;u<a.length;u+=1)Object.assign(o,n(a[u]).default);var c=o;t.default=c},1389:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(12)),u=a(n(13)),c=a(n(19)),l=a(n(20)),i=a(n(18)),s=a(n(0)),d=a(n(16)),f=a(n(1)),p=a(n(833)),m=n(25),h=a(n(274)),y=n(5),v=n(58);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var E=function(e){(0,c.default)(n,e);var r=g(n);function n(e){var a;return(0,o.default)(this,n),(a=r.call(this,e)).groupOptionRenderer=function(e){return s.default.createElement(s.default.Fragment,null,s.default.createElement(m.Tag,{type:v.CLUSTER_GROUP_TAG_TYPE[e.value]},t("ENV_".concat(e.label.toUpperCase()))),"  ",e.label)},a.providerOptionRenderer=function(e){return s.default.createElement(s.default.Fragment,null,s.default.createElement(m.Icon,{name:e.icon,type:"light",size:20}),e.label)},a.handleOk=function(e){(0,a.props.onOk)(e)},a.handleRegionSelect=function(e){a.setState({region:e})},a.state={region:(0,d.default)(e.detail,'metadata.labels["topology.kubernetes.io/region"]',""),formData:(0,p.default)((0,y.toJS)(e.detail._originData))},a}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props,r=e.visible,n=e.isSubmitting,a=e.onCancel,o=this.state.formData;return s.default.createElement(h.default.Form,{data:o,width:691,title:t("EDIT_INFORMATION"),description:t("EDIT_CLUSTER_INFO_DESC"),icon:"cluster",onOk:this.handleOk,okText:t("OK"),onCancel:a,visible:r,isSubmitting:n},s.default.createElement(m.Form.Item,{label:t("CLUSTER_NAME"),desc:t("NAME_DESC")},s.default.createElement(m.Input,{name:"metadata.name",disabled:!0})),s.default.createElement(m.Form.Item,{label:t("TAG"),desc:t("CLUSTER_TAG_DESC")},s.default.createElement(m.Select,{name:"metadata.labels['cluster.kubesphere.io/group']",options:v.CLUSTER_PRESET_GROUPS,optionRenderer:this.groupOptionRenderer,placeholder:" "})),s.default.createElement(m.Form.Item,{label:t("PROVIDER"),desc:t("CLUSTER_PROVIDER_DESC")},s.default.createElement(m.Select,{name:"spec.provider",options:v.CLUSTER_PROVIDERS,optionRenderer:this.providerOptionRenderer,placeholder:" "})),s.default.createElement(m.Form.Item,{label:t("DESCRIPTION"),desc:t("DESCRIPTION_DESC")},s.default.createElement(m.TextArea,{name:"metadata.annotations['kubesphere.io/description']",maxLength:256})))}},{key:"regions",get:function(){return(0,d.default)(globals.config,"regionZones",[]).map((function(e){return{label:e.alias,value:e.name}}))}},{key:"zones",get:function(){var e=this,t=(0,d.default)(globals.config,"regionZones",[]).find((function(t){return t.name===e.state.region}));return t&&t.zones?t.zones.map((function(e){return{label:e.alias,value:e.name}})):[]}}]),n}(s.default.Component);r.default=E,E.propTypes={detail:f.default.object,visible:f.default.bool,onOk:f.default.func,onCancel:f.default.func,isSubmitting:f.default.bool},E.defaultProps={visible:!1,onOk:function(){},onCancel:function(){},isSubmitting:!1}},1390:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,u,c,l=n(r(91)),i=n(r(12)),s=n(r(135)),d=n(r(19)),f=n(r(20)),p=n(r(18)),m=n(r(74)),h=(n(r(92)),r(5)),y=n(r(1134));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var g=["node_cpu_utilisation","node_load1","node_memory_utilisation","node_disk_size_utilisation","node_disk_inode_utilisation","node_pod_utilisation"],E=["node_cpu_utilisation","node_cpu_usage","node_cpu_total","node_memory_utilisation","node_memory_usage_wo_cache","node_memory_total","node_disk_size_utilisation","node_disk_size_usage","node_disk_size_capacity","node_pod_utilisation","node_pod_running_count","node_pod_quota","node_disk_inode_utilisation","node_disk_inode_total","node_disk_inode_usage","node_load1$"],_=(a=function(e){(0,d.default)(r,e);var t=v(r);function r(){var e;(0,i.default)(this,r);for(var n=arguments.length,a=new Array(n),d=0;d<n;d++)a[d]=arguments[d];return e=t.call.apply(t,[this].concat(a)),(0,l.default)(e,"sort_metric_options",o,(0,s.default)(e)),(0,l.default)(e,"sort_metric",u,(0,s.default)(e)),(0,l.default)(e,"metrics_filter",c,(0,s.default)(e)),e.resource="nodes",e}return r}(y.default),o=(0,m.default)(a.prototype,"sort_metric_options",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g}}),u=(0,m.default)(a.prototype,"sort_metric",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g[0]}}),c=(0,m.default)(a.prototype,"metrics_filter",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.join("|")}}),a);t.default=_},1394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLUSTER_CREATING_STEPS=void 0;t.CLUSTER_CREATING_STEPS=["Init Nodes","Pull Images","Init etcd Cluster","Init Control Plane","Join Nodes","Install Addons"]},1395:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(49)),u=n(r(50)),c=n(r(12)),l=n(r(13)),i=n(r(19)),s=n(r(20)),d=n(r(18)),f=n(r(74)),p=r(5);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var h=(a=function(e){(0,i.default)(n,e);var t,r=m(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).module="accessors",e}return(0,l.default)(n,[{key:"fetchDetail",value:(t=(0,u.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get(this.getDetailUrl(t));case 3:return r=e.sent,this.detail=r,this.isLoading=!1,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"silentPatch",value:function(e,t){return this.submitting(request.patch(this.getDetailUrl(e),t,{},(function(e,t){return e||t})))}}]),n}(n(r(277)).default),(0,f.default)(a.prototype,"fetchDetail",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchDetail"),a.prototype),(0,f.default)(a.prototype,"silentPatch",[p.action],Object.getOwnPropertyDescriptor(a.prototype,"silentPatch"),a.prototype),a);t.default=h},1396:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(49)),u=n(r(21)),c=n(r(50)),l=n(r(12)),i=n(r(13)),s=n(r(19)),d=n(r(20)),f=n(r(18)),p=n(r(74)),m=r(5);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var g=(a=function(e){(0,s.default)(n,e);var t,r=v(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).module="volumesnapshotcontents",e}return(0,i.default)(n,[{key:"fetchDetail",value:(t=(0,c.default)(o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get(this.getDetailUrl(t));case 3:return r=e.sent,n=y(y({},t),this.mapper(r)),this.detail=n,this.isLoading=!1,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"resourceKind",get:function(){return"VolumeSnapshotContent"}},{key:"apiVersion",get:function(){return"apis/snapshot.storage.k8s.io/v1"}}]),n}(n(r(277)).default),(0,p.default)(a.prototype,"fetchDetail",[m.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchDetail"),a.prototype),a);t.default=g},1397:function(e,t,r){e.exports={wrapper:"_7Y1PQK32lHq_nx8invFr0",title:"_5BsEswWpOXBRPzjAZKp1l",list:"_1-TRSuTGmycV9Jbf6f7cpA",item:"_1pTjLQ2gTmTYiDPkGxZqs2",icon:"_2cbC1jSIwrgYRS-VGF7pLk",status:"_2WFWmQJcW69bXrhE9fKVNp",info:"JQMG4HZH7ovOKnUMWyvnA",tag:"_2eqdBFa45ohBJ99HTLfZZX",emtpy:"_1Pwr7wYX9Uxhe5lB9-IvjM"}},1405:function(e,t,r){"use strict";r.r(t),r.d(t,"ReactComponent",(function(){return l}));var n=r(71),a=r.n(n),o=r(0),u=r.n(o),c=u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("path",{fill:"#FFF",d:"M40 20.95c0-3.376-2.09-6.294-5.192-7.442.131-.714.197-1.438.196-2.164C35.004 5.082 29.943 0 23.706 0c-3.624 0-7.02 1.738-9.143 4.721a5.878 5.878 0 00-3.657-1.246c-3.298 0-6.008 2.689-6.008 6.033 0 .721.13 1.443.36 2.099C2.122 12.689 0 15.705 0 19.049a7.93 7.93 0 005.224 7.476 11.64 11.64 0 00-.195 2.163c0 6.23 5.06 11.312 11.265 11.312 3.657 0 7.02-1.77 9.143-4.721a6.002 6.002 0 003.69 1.278c3.297 0 6.008-2.688 6.008-6.032 0-.722-.131-1.443-.36-2.099 3.07-1.115 5.225-4.13 5.225-7.475z"}),u.a.createElement("path",{fill:"#F4BD19",d:"M15.38 17.726l8.98 4.092 9.08-7.921c.131-.658.198-1.327.196-1.997 0-5.565-4.539-10.082-10.131-10.082-3.356 0-6.48 1.637-8.355 4.386l-1.514 7.791 1.744 3.732z"}),u.a.createElement("path",{fill:"#3CBEB1",d:"M6.56 26.097a10.3 10.3 0 00-.196 2.02c0 5.537 4.557 10.065 10.13 10.065a10.21 10.21 0 008.394-4.398l1.476-7.752-2-3.779-8.984-4.071-8.82 7.915z"}),u.a.createElement("path",{fill:"#E9478C",d:"M5.764 11.246l6.429 1.481 1.443-7.172c-.893-.673-1.96-1.01-3.094-1.01-2.784 0-5.087 2.223-5.087 4.984 0 .572.103 1.178.309 1.717z"}),u.a.createElement("path",{fill:"#2C458F",d:"M5.473 12.727c-2.7.884-4.564 3.534-4.564 6.413 0 2.814 1.703 5.333 4.275 6.315l8.452-7.787-1.542-3.37-6.621-1.57z"}),u.a.createElement("path",{fill:"#95C63D",d:"M25.455 34.41a5.115 5.115 0 003.072 1.045c2.796 0 5.11-2.223 5.11-4.984 0-.606-.104-1.178-.311-1.717l-6.456-1.481-1.415 7.138z"}),u.a.createElement("path",{fill:"#176655",d:"M27.192 25.702l6.505 1.57c2.653-.915 4.485-3.533 4.485-6.412 0-2.814-1.674-5.3-4.2-6.315l-8.527 7.722 1.737 3.435z"})),l=function(e){return u.a.createElement("svg",a()({viewBox:"0 0 40 40",width:"1em",height:"1em"},e),c)};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iI0ZGRiIgZD0iTTQwIDIwLjk1YzAtMy4zNzYtMi4wOS02LjI5NC01LjE5Mi03LjQ0Mi4xMzEtLjcxNC4xOTctMS40MzguMTk2LTIuMTY0QzM1LjAwNCA1LjA4MiAyOS45NDMgMCAyMy43MDYgMGMtMy42MjQgMC03LjAyIDEuNzM4LTkuMTQzIDQuNzIxYTUuODc4IDUuODc4IDAgMCAwLTMuNjU3LTEuMjQ2Yy0zLjI5OCAwLTYuMDA4IDIuNjg5LTYuMDA4IDYuMDMzIDAgLjcyMS4xMyAxLjQ0My4zNiAyLjA5OUMyLjEyMiAxMi42ODkgMCAxNS43MDUgMCAxOS4wNDlhNy45MyA3LjkzIDAgMCAwIDUuMjI0IDcuNDc2Yy0uMTMuNjg4LS4xOTUgMS40MS0uMTk1IDIuMTYzIDAgNi4yMyA1LjA2IDExLjMxMiAxMS4yNjUgMTEuMzEyIDMuNjU3IDAgNy4wMi0xLjc3IDkuMTQzLTQuNzIxYTYuMDAyIDYuMDAyIDAgMCAwIDMuNjkgMS4yNzhjMy4yOTcgMCA2LjAwOC0yLjY4OCA2LjAwOC02LjAzMiAwLS43MjItLjEzMS0xLjQ0My0uMzYtMi4wOTkgMy4wNy0xLjExNSA1LjIyNS00LjEzIDUuMjI1LTcuNDc1eiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNGNEJEMTkiIGQ9Ik0xNS4zOCAxNy43MjZsOC45OCA0LjA5MiA5LjA4LTcuOTIxYy4xMzEtLjY1OC4xOTgtMS4zMjcuMTk2LTEuOTk3IDAtNS41NjUtNC41MzktMTAuMDgyLTEwLjEzMS0xMC4wODItMy4zNTYgMC02LjQ4IDEuNjM3LTguMzU1IDQuMzg2bC0xLjUxNCA3Ljc5MSAxLjc0NCAzLjczMnoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjM0NCRUIxIiBkPSJNNi41NiAyNi4wOTdhMTAuMyAxMC4zIDAgMCAwLS4xOTYgMi4wMmMwIDUuNTM3IDQuNTU3IDEwLjA2NSAxMC4xMyAxMC4wNjVhMTAuMjEgMTAuMjEgMCAwIDAgOC4zOTQtNC4zOThsMS40NzYtNy43NTItMi0zLjc3OS04Ljk4NC00LjA3MS04LjgyIDcuOTE1eiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiNFOTQ3OEMiIGQ9Ik01Ljc2NCAxMS4yNDZsNi40MjkgMS40ODEgMS40NDMtNy4xNzJjLS44OTMtLjY3My0xLjk2LTEuMDEtMy4wOTQtMS4wMS0yLjc4NCAwLTUuMDg3IDIuMjIzLTUuMDg3IDQuOTg0IDAgLjU3Mi4xMDMgMS4xNzguMzA5IDEuNzE3eiIvPgogICAgICAgIDxwYXRoIGZpbGw9IiMyQzQ1OEYiIGQ9Ik01LjQ3MyAxMi43MjdjLTIuNy44ODQtNC41NjQgMy41MzQtNC41NjQgNi40MTMgMCAyLjgxNCAxLjcwMyA1LjMzMyA0LjI3NSA2LjMxNWw4LjQ1Mi03Ljc4Ny0xLjU0Mi0zLjM3LTYuNjIxLTEuNTd6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0iIzk1QzYzRCIgZD0iTTI1LjQ1NSAzNC40MWE1LjExNSA1LjExNSAwIDAgMCAzLjA3MiAxLjA0NWMyLjc5NiAwIDUuMTEtMi4yMjMgNS4xMS00Ljk4NCAwLS42MDYtLjEwNC0xLjE3OC0uMzExLTEuNzE3bC02LjQ1Ni0xLjQ4MS0xLjQxNSA3LjEzOHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjMTc2NjU1IiBkPSJNMjcuMTkyIDI1LjcwMmw2LjUwNSAxLjU3YzIuNjUzLS45MTUgNC40ODUtMy41MzMgNC40ODUtNi40MTIgMC0yLjgxNC0xLjY3NC01LjMtNC4yLTYuMzE1bC04LjUyNyA3LjcyMiAxLjczNyAzLjQzNXoiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},1406:function(e,t,r){"use strict";r.r(t),r.d(t,"ReactComponent",(function(){return l}));var n=r(71),a=r.n(n),o=r(0),u=r.n(o),c=u.a.createElement("path",{fill:"#231F20",d:"M9.057 3.472c-.453-.453-1.057-.68-1.736-.68-.68 0-1.283.302-1.66.68-.453.453-.68 1.056-.68 1.736 0 .679.302 1.283.68 1.735.452.453 1.056.68 1.66.68.679 0 1.283-.302 1.736-.68.452-.452.679-1.056.679-1.735 0-.68-.302-1.283-.68-1.736zM7.32 36.982c.679 0 1.283-.303 1.736-.68.452-.453.679-1.057.679-1.736 0-.68-.302-1.283-.68-1.736-.452-.453-1.056-.68-1.735-.68-.68 0-1.283.303-1.66.68-.453.453-.68 1.057-.68 1.736 0 .68.302 1.283.68 1.736.377.377.98.68 1.66.68zm13.132-7.397a2.152 2.152 0 001.434-1.132l.075-.076c.302-.528.378-1.207.227-1.735-.151-.604-.529-1.133-1.132-1.51-.529-.302-1.208-.377-1.812-.226a2.152 2.152 0 00-1.434 1.132 2.71 2.71 0 00-.226 1.887c.15.603.528 1.132 1.132 1.509.453.226 1.132.302 1.736.15zM9.81 17.358c-.603-.603-1.51-1.056-2.49-1.056-.981 0-1.812.377-2.49 1.056-.605.604-.982 1.51-.982 2.491 0 .981.377 1.887.981 2.49.604.604 1.51 1.057 2.49 1.057.982 0 1.812-.377 2.491-1.056.604-.68.981-1.51.981-2.49 0-.982-.377-1.812-.98-2.492zm-1.434-4.15c1.434.226 2.642.905 3.623 1.886.15.151.302.302.453.529l2.415-1.434c-.302-.981-.302-2.038-.076-3.02C15.17 9.888 16 8.68 17.208 8h.075c1.208-.68 2.642-.83 3.925-.528a5.407 5.407 0 013.17 2.49 5.759 5.759 0 01.528 4c-.378 1.283-1.208 2.49-2.415 3.17l-.302.226c-1.132.529-2.415.68-3.547.302-.982-.226-1.812-.83-2.491-1.585l-2.415 1.434a6.26 6.26 0 01.453 2.416c0 .83-.151 1.66-.453 2.415l2.415 1.434c.68-.755 1.585-1.283 2.49-1.585a4.829 4.829 0 013.925.528h.076c1.207.755 1.962 1.887 2.34 3.17.376 1.283.226 2.717-.53 4l-.075.075c-.754 1.208-1.811 2.038-3.094 2.415a4.829 4.829 0 01-3.925-.528 5.581 5.581 0 01-2.415-3.17c-.226-.98-.226-2.037.076-3.019l-2.566-1.51-.453.454c-.981.98-2.189 1.66-3.623 1.887v2.792a5.41 5.41 0 012.566 1.434c.906.981 1.51 2.264 1.51 3.698 0 1.434-.604 2.793-1.51 3.698-.98.981-2.264 1.51-3.698 1.51-1.434 0-2.717-.604-3.698-1.51-.905-.98-1.51-2.264-1.51-3.698 0-1.434.605-2.792 1.51-3.698a5.41 5.41 0 012.566-1.434v-2.792c-1.434-.227-2.641-.906-3.622-1.887a6.8 6.8 0 01-1.963-4.755c0-1.887.755-3.547 1.963-4.755.98-.98 2.188-1.66 3.622-1.886v-2.793a5.41 5.41 0 01-2.566-1.434C2.642 8 2.037 6.717 2.037 5.283c0-1.434.605-2.792 1.51-3.698C4.453.604 5.811 0 7.245 0c1.434 0 2.717.604 3.698 1.585.906.981 1.51 2.264 1.51 3.698 0 1.434-.604 2.792-1.51 3.698a5.41 5.41 0 01-2.566 1.434v2.793zm13.51-1.887c-.378-.604-.906-.981-1.434-1.132-.604-.151-1.283-.076-1.811.226-.604.302-.982.906-1.133 1.51a2.76 2.76 0 00.227 1.886c.302.604.83.981 1.434 1.132.604.151 1.283.076 1.811-.226.528-.377.906-.906 1.057-1.434.226-.68.15-1.358-.151-1.962z"}),l=function(e){return u.a.createElement("svg",a()({viewBox:"0 0 26 40",width:"1em",height:"1em"},e),c)};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDI2IDQwIj4KICAgIDxwYXRoIGZpbGw9IiMyMzFGMjAiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTkuMDU3IDMuNDcyYy0uNDUzLS40NTMtMS4wNTctLjY4LTEuNzM2LS42OC0uNjggMC0xLjI4My4zMDItMS42Ni42OC0uNDUzLjQ1My0uNjggMS4wNTYtLjY4IDEuNzM2IDAgLjY3OS4zMDIgMS4yODMuNjggMS43MzUuNDUyLjQ1MyAxLjA1Ni42OCAxLjY2LjY4LjY3OSAwIDEuMjgzLS4zMDIgMS43MzYtLjY4LjQ1Mi0uNDUyLjY3OS0xLjA1Ni42NzktMS43MzUgMC0uNjgtLjMwMi0xLjI4My0uNjgtMS43MzZ6TTcuMzIgMzYuOTgyYy42NzkgMCAxLjI4My0uMzAzIDEuNzM2LS42OC40NTItLjQ1My42NzktMS4wNTcuNjc5LTEuNzM2IDAtLjY4LS4zMDItMS4yODMtLjY4LTEuNzM2LS40NTItLjQ1My0xLjA1Ni0uNjgtMS43MzUtLjY4LS42OCAwLTEuMjgzLjMwMy0xLjY2LjY4LS40NTMuNDUzLS42OCAxLjA1Ny0uNjggMS43MzYgMCAuNjguMzAyIDEuMjgzLjY4IDEuNzM2LjM3Ny4zNzcuOTguNjggMS42Ni42OHptMTMuMTMyLTcuMzk3YTIuMTUyIDIuMTUyIDAgMCAwIDEuNDM0LTEuMTMybC4wNzUtLjA3NmMuMzAyLS41MjguMzc4LTEuMjA3LjIyNy0xLjczNS0uMTUxLS42MDQtLjUyOS0xLjEzMy0xLjEzMi0xLjUxLS41MjktLjMwMi0xLjIwOC0uMzc3LTEuODEyLS4yMjZhMi4xNTIgMi4xNTIgMCAwIDAtMS40MzQgMS4xMzIgMi43MSAyLjcxIDAgMCAwLS4yMjYgMS44ODdjLjE1LjYwMy41MjggMS4xMzIgMS4xMzIgMS41MDkuNDUzLjIyNiAxLjEzMi4zMDIgMS43MzYuMTV6TTkuODEgMTcuMzU4Yy0uNjAzLS42MDMtMS41MS0xLjA1Ni0yLjQ5LTEuMDU2LS45ODEgMC0xLjgxMi4zNzctMi40OSAxLjA1Ni0uNjA1LjYwNC0uOTgyIDEuNTEtLjk4MiAyLjQ5MSAwIC45ODEuMzc3IDEuODg3Ljk4MSAyLjQ5LjYwNC42MDQgMS41MSAxLjA1NyAyLjQ5IDEuMDU3Ljk4MiAwIDEuODEyLS4zNzcgMi40OTEtMS4wNTYuNjA0LS42OC45ODEtMS41MS45ODEtMi40OSAwLS45ODItLjM3Ny0xLjgxMi0uOTgtMi40OTJ6bS0xLjQzNC00LjE1YzEuNDM0LjIyNiAyLjY0Mi45MDUgMy42MjMgMS44ODYuMTUuMTUxLjMwMi4zMDIuNDUzLjUyOWwyLjQxNS0xLjQzNGMtLjMwMi0uOTgxLS4zMDItMi4wMzgtLjA3Ni0zLjAyQzE1LjE3IDkuODg4IDE2IDguNjggMTcuMjA4IDhoLjA3NWMxLjIwOC0uNjggMi42NDItLjgzIDMuOTI1LS41MjhhNS40MDcgNS40MDcgMCAwIDEgMy4xNyAyLjQ5Yy42NzkgMS4yODMuODMgMi43MTcuNTI4IDQtLjM3OCAxLjI4My0xLjIwOCAyLjQ5LTIuNDE1IDMuMTdsLS4zMDIuMjI2Yy0xLjEzMi41MjktMi40MTUuNjgtMy41NDcuMzAyLS45ODItLjIyNi0xLjgxMi0uODMtMi40OTEtMS41ODVsLTIuNDE1IDEuNDM0Yy4zMDIuNzU1LjQ1MyAxLjUxLjQ1MyAyLjQxNiAwIC44My0uMTUxIDEuNjYtLjQ1MyAyLjQxNWwyLjQxNSAxLjQzNGMuNjgtLjc1NSAxLjU4NS0xLjI4MyAyLjQ5LTEuNTg1YTQuODI5IDQuODI5IDAgMCAxIDMuOTI1LjUyOGguMDc2YzEuMjA3Ljc1NSAxLjk2MiAxLjg4NyAyLjM0IDMuMTcuMzc2IDEuMjgzLjIyNiAyLjcxNy0uNTMgNGwtLjA3NS4wNzVjLS43NTQgMS4yMDgtMS44MTEgMi4wMzgtMy4wOTQgMi40MTVhNC44MjkgNC44MjkgMCAwIDEtMy45MjUtLjUyOCA1LjU4MSA1LjU4MSAwIDAgMS0yLjQxNS0zLjE3Yy0uMjI2LS45OC0uMjI2LTIuMDM3LjA3Ni0zLjAxOWwtMi41NjYtMS41MS0uNDUzLjQ1NGMtLjk4MS45OC0yLjE4OSAxLjY2LTMuNjIzIDEuODg3djIuNzkyYTUuNDEgNS40MSAwIDAgMSAyLjU2NiAxLjQzNGMuOTA2Ljk4MSAxLjUxIDIuMjY0IDEuNTEgMy42OTggMCAxLjQzNC0uNjA0IDIuNzkzLTEuNTEgMy42OTgtLjk4Ljk4MS0yLjI2NCAxLjUxLTMuNjk4IDEuNTEtMS40MzQgMC0yLjcxNy0uNjA0LTMuNjk4LTEuNTEtLjkwNS0uOTgtMS41MS0yLjI2NC0xLjUxLTMuNjk4IDAtMS40MzQuNjA1LTIuNzkyIDEuNTEtMy42OThhNS40MSA1LjQxIDAgMCAxIDIuNTY2LTEuNDM0di0yLjc5MmMtMS40MzQtLjIyNy0yLjY0MS0uOTA2LTMuNjIyLTEuODg3YTYuOCA2LjggMCAwIDEtMS45NjMtNC43NTVjMC0xLjg4Ny43NTUtMy41NDcgMS45NjMtNC43NTUuOTgtLjk4IDIuMTg4LTEuNjYgMy42MjItMS44ODZ2LTIuNzkzYTUuNDEgNS40MSAwIDAgMS0yLjU2Ni0xLjQzNEMyLjY0MiA4IDIuMDM3IDYuNzE3IDIuMDM3IDUuMjgzYzAtMS40MzQuNjA1LTIuNzkyIDEuNTEtMy42OThDNC40NTMuNjA0IDUuODExIDAgNy4yNDUgMGMxLjQzNCAwIDIuNzE3LjYwNCAzLjY5OCAxLjU4NS45MDYuOTgxIDEuNTEgMi4yNjQgMS41MSAzLjY5OCAwIDEuNDM0LS42MDQgMi43OTItMS41MSAzLjY5OGE1LjQxIDUuNDEgMCAwIDEtMi41NjYgMS40MzR2Mi43OTN6bTEzLjUxLTEuODg3Yy0uMzc4LS42MDQtLjkwNi0uOTgxLTEuNDM0LTEuMTMyLS42MDQtLjE1MS0xLjI4My0uMDc2LTEuODExLjIyNi0uNjA0LjMwMi0uOTgyLjkwNi0xLjEzMyAxLjUxYTIuNzYgMi43NiAwIDAgMCAuMjI3IDEuODg2Yy4zMDIuNjA0LjgzLjk4MSAxLjQzNCAxLjEzMi42MDQuMTUxIDEuMjgzLjA3NiAxLjgxMS0uMjI2LjUyOC0uMzc3LjkwNi0uOTA2IDEuMDU3LTEuNDM0LjIyNi0uNjguMTUtMS4zNTgtLjE1MS0xLjk2MnoiLz4KPC9zdmc+Cg=="},1407:function(e,t,r){"use strict";r.r(t),r.d(t,"ReactComponent",(function(){return l}));var n=r(71),a=r.n(n),o=r(0),u=r.n(o),c=u.a.createElement("image",{width:40,height:36,href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAA B3RJTUUH4wIOCBciGOtzFQAAB29JREFUWMPNmGuMVVcVx/9r73PuY+4wFMkEAYsCUoNjbCgt6PhF qjGG1vqhRY3GxqDgB00/mTb2NZmSgBiiNdBIWqk1pA9tqEJoqNRIDY8ZqA+YAkEBmQ5MZ+6duTP3 zn2dc/bea/nhDIQy7wFpd7LvTe7euft3/mut/1nnkIgAAFpPI1HrvPRAoVQ8NfdM0zstLWB8CAaJ CFpPI+Hy2X2k/LujIMrVysH2XDa/9aX1y/s/HICHctuMtT9iyxDSACmEtehYuVh+rOAvPfCHNXAf GOBTh/JNzLbDOKvYMhwL2DHIS8AaW6yWo609nb0/3/3wF0ofBKAC3A9ERF27YKMIIm5muj7x+NxF H9354M6TS6m1VU3nkOsCFOGvjLUojmFNhGQ6+fVMJrN77eI1965qfcu7yQrSgok2mTCAUrTETyZf /sTCOU9+rnVfw00ElPrJbGQTAZA6P518YuGt81+84/HXPn5zAGnym4UdxEWob5hx78IFi96864k3 7vt/A9JTh7LinMCyw9VV7Bhg5+BE4JxAHINZ4DjeQ9rDYKESdvdmd/T1lTZceGZN76QPJaKmNb+Y VT8Yfdr5cpsitQAiPghd5Lm29t2PdlzZu+Fwjq11ZJmnBMjMABRKgUHXxd6zUWi3QOHVjk33DI4F 9dmf/LnR6/zvCq9WXk1svyjsFivlJUQExjgQETxf5QC16ei+h38lAqGNbxeLYa3WYN3UFGRmsBMI gFI1Qnc2DzbmlDD2K3C7WOlV1jFBp0WrpQjtSm8wd5cUC0sUAGGGwEFY0FCfwne/8Xl0XRrEnv0n oJQuakWrj+x95IhXK1fb/FRylXO1xHRyRESQSfmYM6se2f6hJmjdRM4CygKeFihNKoqgcj2Q8hAE PHxbIgAKDMaMmRl8ddVncPJMD3bvPwEolbGCh+6879nj9P0//nvFnFkzX/Igi421cG5qCrIImAUQ ID9QRN9AEUoAJRQzFIeAnm7AGECN4fMEzGuciWoQYaBQhVYE0joQ0a/rf76ytXvH0a6wvq7uyxri MQtEBCKxOgJAhj+u/Hb19/C6iCCZTMBEBlFkoBRBBgvAe+8B7GI4olGngFAo1RAYgfYTcAQDoUGl aLYCgJe3v7rjdHf+xap4RtMUfGcUJWbPnolkwo/henuHIxk3IGNNpTzoZIpJ638YkUcVsIpc3TJX Mcs9AJADLXbOxj2PlazctqRxRvMtmjSRTCMhAd/3kdYaYTYLIhrOtTGGIkC0OLY5dm5jueZ+d/7N R4rvu+bLDSsA3P5M+x2pVPpPczOpj81PeZTwFNgxDAvEjp+DwnHIK5Uqst19cD09QKUSh/FamQkQ BjiyEgTV82yCdWcPbnpr1KBcDQgAy7e3r9OJzNMp6+o+klSYnU4i5SmAEcM5hh2tSADUqiF6LvbC WAeEEaS3N07QYUgRgbCDrdYQBoFwaM4IYe2F9s3tI8CIqKmpyR/RmdC/Ol5Qy+/8kvH8+y9VQi9b CpHxFBp8jYznQWsCEcWpdVkdBZjIoq+3H8bYOLSpJCSVhiuXYlcIA9gohAlDwDlR0JeU568717Zx VDgAdKqxkUcoCADNW9uWcSq9F8zz2Lq4gWWGZkAD0AT4IGhFAMcWVMnmUS1XQcNKKRCigUFU3j0X m7JInI1EIKWHtO+tP3do0+8nSutRjantoebjsHYveb4BCIriKQBCFlRCh0ItQr4UIF8KkOvKodRf BEcWEllI5CCRg04m40oViVUnApEfkqe3TQZuTEAREQRuF6wJYqz3pTiI4vCSUnBDZUi5AlLXFoNA +QnodBqCWD1R2pFHf9EuvXkycGMCAgBq5RNO0A2lhu14JKUbHIIrDI1SqZdzSUElkoAAQiQE6iQf Pz3b3jJ03YBlM1BRgn6QGsUQCXZwCHagiImG0jq+ItJV+N6G83/72TuThRsXUJcDgTihaxybALjC EGy+gAmbXQIgACkNEF7oPJzcORW4cQEz8z6ZFKJZEKHLpwkEJl+IlZvMHVFigwfhSP0tmSdFWqb8 tmLMJzTn5FNEar44q0AK4iKYXAG2VJn0n7MT2LDWKQrrTr7RMjBVuHEVpLrk/eT7GZACBzVE2QG4 am3SjzDKS8BVy92G7YPvtm85PR24MQGbf9m2AinvWxJFCVMcgukbhIui8Wr+GrgkhF2XOPPNrkMb D04XDhglxCu3dSykhszTrmbmmnw/XCUAMWIrkQk6HCIonQA7e8y44Icnd/34+PXAjVCw+bm3m9l3 r4Sl8sogl1UuDMf0uBFs2geRts6a5yQyXzv52+9dN9wVBVf8+u+L2Nr1DF7rgnKjq9YAkuF+bnzV SHsgIUDcMXJuw/Hnv7P3RoBdAVy27fC3WXgzWM3nKCBEdoJwEkh5ICKwNQzGUWHzbIRg15nn197w N2CeJBMnYHge2JDyfEA0hBzgGEQMkACKQeQBxkIoMiLoFGcOQvBaPlc40L1nffVGg12RQ0Rw+5a/ 3s3iViPkW0HIAJqIGTAOiFjIhmVn6QKcvaAD7hgQ9Z+Lv1kzLV+b6vgfNH/FZ+VqV34AAAAldEVY dGRhdGU6Y3JlYXRlADIwMTktMDItMTRUMDA6MjM6MzQrMDg6MDD/HpXnAAAAJXRFWHRkYXRlOm1v ZGlmeQAyMDE5LTAyLTE0VDAwOjIzOjM0KzA4OjAwjkMtWwAAAABJRU5ErkJggg=="}),l=function(e){return u.a.createElement("svg",a()({viewBox:"0 0 40 36",width:"1em",height:"1em"},e),c)};t.default="data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjM2cHgiIHZpZXdCb3g9IjAgMCA0MCAzNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNDAgMzYiIHhtbDpzcGFjZT0icHJlc2VydmUiPiAgPGltYWdlIGlkPSJpbWFnZTAiIHdpZHRoPSI0MCIgaGVpZ2h0PSIzNiIgeD0iMCIgeT0iMCIKICAgIGhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ2dBQUFBa0NBWUFBQUQ3UEhnV0FBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOCkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUEKQjNSSlRVVUg0d0lPQ0JjaUdPdHpGUUFBQjI5SlJFRlVXTVBObUd1TVZWY1Z4LzlyNzNQdVkrNHdGTWtFQVlzQ1VvTmpiQ2d0NlBoRgpxakdHMXZxaFJZM0d4cURnQjAwL21UYjJOWm1TZ0JpaU5kQklXcWsxcEE5dHFFSm9xTlJJRFk4WnFBK1lBa0VCbVE1TVorNmR1VFAzCnpuMmRjL2JlYS9uaERJUXk3d0ZwZDdMdlRlN2V1ZnQzL211dC8xbm5rSWdBQUZwUEkxSHJ2UFJBb1ZROE5mZE0wenN0TFdCOENBYUoKQ0ZwUEkrSHkyWDJrL0x1aklNclZ5c0gyWERhLzlhWDF5L3MvSElDSGN0dU10VDlpeXhEU0FDbUV0ZWhZdVZoK3JPQXZQZkNITlhBZgpHT0JUaC9KTnpMYkRPS3ZZTWh3TDJESElTOEFhVzZ5V282MDluYjAvMy8zd0Ywb2ZCS0FDM0E5RVJGMjdZS01JSW01bXVqN3grTnhGCkg5MzU0TTZUUzZtMVZVM25rT3NDRk9HdmpMVW9qbUZOaEdRNitmVk1Kck43N2VJMTk2NXFmY3U3eVFyU2dvazJtVENBVXJURVR5WmYKL3NUQ09VOStyblZmdzAwRWxQckpiR1FUQVpBNlA1MThZdUd0ODErODQvSFhQbjV6QUdueW00VWR4RVdvYjVoeDc4SUZpOTY4NjRrMwo3dnQvQTlKVGg3TGluTUN5dzlWVjdCaGc1K0JFNEp4QUhJTlo0RGplUTlyRFlLRVNkdmRtZC9UMWxUWmNlR1pONzZRUEphS21OYitZClZUOFlmZHI1Y3BzaXRRQWlQZ2hkNUxtMjl0MlBkbHpadStGd2pxMTFaSm1uQk1qTUFCUktnVUhYeGQ2elVXaTNRT0hWamszM0RJNEYKOWRtZi9MblI2L3p2Q3E5V1hrMXN2eWpzRml2bEpVUUV4amdRRVR4ZjVRQzE2ZWkraDM4bEFxR05ieGVMWWEzV1lOM1VGR1Jtc0JNSQpnRkkxUW5jMkR6Ym1sREQySzNDN1dPbFYxakZCcDBXcnBRanRTbTh3ZDVjVUMwc1VBR0dHd0VGWTBGQ2Z3bmUvOFhsMFhSckVudjBuCm9KUXVha1dyait4OTVJaFhLMWZiL0ZSeWxYTzF4SFJ5UkVTUVNmbVlNNnNlMmY2aEptamRSTTRDeWdLZUZpaE5Lb3FnY2oyUThoQUUKUEh4YklnQUtETWFNbVJsOGRkVm5jUEpNRDNidlB3RW9sYkdDaCs2ODc5bmo5UDAvL252Rm5Ga3pYL0lnaTQyMWNHNXFDcklJbUFVUQpJRDlRUk45QUVVb0FKUlF6RkllQW5tN0FHRUNONGZNRXpHdWNpV29RWWFCUWhWWUUwam9RMGEvcmY3Nnl0WHZIMGE2d3ZxN3V5eHJpCk1RdEVCQ0t4T2dKQWhqK3UvSGIxOS9DNmlDQ1pUTUJFQmxGa29CUkJCZ3ZBZSs4QjdHSTRvbEduZ0ZBbzFSQVlnZllUY0FRRG9VR2wKYUxZQ2dKZTN2N3JqZEhmK3hhcDRSdE1VZkdjVUpXYlBub2xrd28vaGVudUhJeGszSUdOTnBUem9aSXBKNjM4WWtVY1ZzSXBjM1RKWApNY3M5QUpBRExYYk94ajJQbGF6Y3RxUnhSdk10bWpTUlRDTWhBZC8za2RZYVlUWUxJaHJPdFRHR0lrQzBPTFk1ZG01anVlWitkLzdOClI0cnZ1K2JMRFNzQTNQNU0reDJwVlBwUGN6T3BqODFQZVpUd0ZOZ3hEQXZFanArRHduSElLNVVxc3QxOWNEMDlRS1VTaC9GYW1Ra1EKQmppeUVnVFY4MnlDZFdjUGJucHIxS0JjRFFnQXk3ZTNyOU9Kek5NcDYrbytrbFNZblU0aTVTbUFFY001aGgydFNBRFVxaUY2THZiQwpXQWVFRWFTM04wN1FZVWdSZ2JDRHJkWVFCb0Z3YU00SVllMkY5czN0SThDSXFLbXB5Ui9SbWRDL09sNVF5Ky84a3ZIOCt5OVZRaTliCkNwSHhGQnA4all6blFXc0NFY1dwZFZrZEJaaklvcSszSDhiWU9MU3BKQ1NWaGl1WFlsY0lBOWdvaEFsRHdEbFIwSmVVNTY4NzE3WngKVkRnQWRLcXhrVWNvQ0FETlc5dVdjU3E5Rjh6ejJMcTRnV1dHWmtBRDBBVDRJR2hGQU1jV1ZNbm1VUzFYUWNOS0tSQ2lnVUZVM2owWAptN0pJbkkxRUlLV0h0Tyt0UDNkbzArOG5TdXRSamFudG9lYmpzSFl2ZWI0QkNJcmlLUUJDRmxSQ2gwSXRRcjRVSUY4S2tPdktvZFJmCkJFY1dFbGxJNUNDUmcwNG00MG9WaVZVbkFwRWZrcWUzVFFadVRFQVJFUVJ1RjZ3SllxejNwVGlJNHZDU1VuQkRaVWk1QWxMWEZvTkEKK1Fub2RCcUNXRDFSMnBGSGY5RXV2WGt5Y0dNQ0FnQnE1Uk5PMEEybGh1MTRKS1ViSElJckRJMVNxWmR6U1VFbGtvQUFRaVFFNmlRZgpQejNiM2pKMDNZQmxNMUJSZ242UUdzVVFDWFp3Q0hhZ2lJbUcwanErSXRKVitONkc4My83MlR1VGhSc1hVSmNEZ1RpaGF4eWJBTGpDCkVHeStnQW1iWFFJZ0FDa05FRjdvUEp6Y09SVzRjUUV6OHo2WkZLSlpFS0hMcHdrRUpsK0lsWnZNSFZGaWd3ZmhTUDB0bVNkRldxYjgKdG1MTUp6VG41Rk5FYXI0NHEwQUs0aUtZWEFHMlZKbjBuN01UMkxEV0tRcnJUcjdSTWpCVnVIRVZwTHJrL2VUN0daQUNCelZFMlFHNAphbTNTanpES1M4QlZ5OTJHN1lQdnRtODVQUjI0TVFHYmY5bTJBaW52V3hKRkNWTWNndWtiaEl1aThXcitHcmdraEYyWE9QUE5ya01iCkQwNFhEaGdseEN1M2RTeWtoc3pUcm1ibW1udy9YQ1VBTVdJcmtRazZIQ0lvblFBN2U4eTQ0SWNuZC8zNCtQWEFqVkN3K2JtM205bDMKcjRTbDhzb2dsMVV1RE1mMHVCRnMyZ2VSdHM2YTV5UXlYenY1Mis5ZE45d1ZCVmY4K3UrTDJOcjFERjdyZ25LanE5WUFrdUYrYm56VgpTSHNnSVVEY01YSnV3L0hudjdQM1JvQmRBVnkyN2ZDM1dYZ3pXTTNuS0NCRWRvSndFa2g1SUNLd05RekdVV0h6YklSZzE1bm4xOTd3Ck4yQ2VKQk1uWUhnZTJKRHlmRUEwaEJ6Z0dFUU1rQUNLUWVRQnhrSW9NaUxvRkdjT1F2QmFQbGM0MEwxbmZmVkdnMTJSUTBSdys1YS8KM3MzaVZpUGtXMEhJQUpxSUdUQU9pRmpJaG1WbjZRS2N2YUFEN2hnUTlaK0x2MWt6TFYrYjZ2Z2ZOSC9GWitWcVYzNEFBQUFsZEVWWQpkR1JoZEdVNlkzSmxZWFJsQURJd01Ua3RNREl0TVRSVU1EQTZNak02TXpRck1EZzZNREQvSHBYbkFBQUFKWFJGV0hSa1lYUmxPbTF2ClpHbG1lUUF5TURFNUxUQXlMVEUwVkRBd09qSXpPak0wS3pBNE9qQXdqa010V3dBQUFBQkpSVTVFcmtKZ2dnPT0iIC8+Cjwvc3ZnPgo="},1408:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(56)),o=n(r(21)),u=n(r(12)),c=n(r(13)),l=n(r(939)),i=n(r(19)),s=n(r(20)),d=n(r(18)),f=n(r(277));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var y={es:{logstashFormat:!0,timeKey:"@timestamp",logstashPrefix:"ks-logstash-log"}},v="kubesphere-logging-system",g={logging:"kube.*",events:"kube_events",auditing:"kube_auditing"},E=function(e){(0,i.default)(r,e);var t=h(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).module="outputs",e.getDetailUrl=function(t){var r=t.name,n=t.cluster;return"".concat(e.getListUrl({namespace:v,cluster:n}),"/").concat(r)},e}return(0,c.default)(r,[{key:"fetch",value:function(e){this.fetchListByK8s(m({namespace:v},e))}},{key:"create",value:function(e){var t=e.Name,n=e.enabled,u=void 0===n||n,c=e.cluster,i=e.component,s=(0,a.default)(e,["Name","enabled","cluster","component"]),f={apiVersion:"logging.kubesphere.io/v1alpha2",kind:"Output",metadata:{name:"".concat(t,"-").concat(i),namespace:v,labels:{"logging.kubesphere.io/enabled":"".concat(u),"logging.kubesphere.io/component":i}},spec:(0,o.default)({match:g[i]},t,m(m({},y[t]),s))};return(0,l.default)((0,d.default)(r.prototype),"create",this).call(this,f,{cluster:c,namespace:v})}},{key:"apiVersion",get:function(){return"apis/logging.kubesphere.io/v1alpha2"}}]),r}(f.default);t.default=E},1409:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(16)),u=n(1405),c=n(1406),l=n(1407),i=a(n(1103)),s=a(n(1104)),d=a(n(1105)),f=function(e){return"".concat((0,o.default)(e,"Host"),":").concat((0,o.default)(e,"Port"))},p={es:{ICON:u.ReactComponent,title:"Elasticsearch",pathGetter:f,Form:i.default,get description(){return t("ES_DESC")}},kafka:{ICON:c.ReactComponent,title:"Kafka",pathGetter:function(e){return(0,o.default)(e,"Brokers")},Form:s.default,get description(){return t("KAFKA_DESC")}},forward:{ICON:l.ReactComponent,title:"Fluentd",pathGetter:f,Form:d.default,get description(){return t("FLUENTD_DESC")}}};r.default=p},1449:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(71)),u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(135)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=a(n(1)),h=a(n(3)),y=a(n(16)),v=a(n(32)),g=n(725),E=a(n(275)),_=n(735),O=a(n(2934));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var S=function(e){(0,s.default)(n,e);var r=b(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={activeTab:(0,y.default)((0,i.default)(e),"props.tabs[0].key","")},e.getLastValue=function(e,t){var r=(0,y.default)(e,"[0].values",[]);return(0,g.getValueByUnit)(r[r.length-1][1],t)},e.handleTabClick=function(t){return e.setState({activeTab:t.currentTarget.dataset.key})},e}return(0,l.default)(n,[{key:"renderTabList",value:function(){var e=this,r=this.props.tabs,n=this.state.activeTab;return(0,v.default)(r)?null:p.default.createElement("div",{className:O.default.tabHeader},r.map((function(r){return p.default.createElement("div",{key:r.key,className:(0,h.default)(O.default.tabHeaderItem,(0,u.default)({},O.default.active,r.key===n)),"data-key":r.key,onClick:e.handleTabClick},p.default.createElement(E.default,{icon:r.icon,title:r.data?"".concat(e.getLastValue(r.data,r.unit),"%"):"-",description:t("".concat(r.title,"_SCAP"))}))})))}},{key:"renderTabContent",value:function(){var e=this.props.tabs,t=this.state.activeTab,r=e.find((function(e){return e.key===t}));if(!r||!r.data)return null;var n=(0,g.getAreaChartOps)(r);return p.default.createElement("div",{className:O.default.tabContent},p.default.createElement(_.SimpleArea,(0,o.default)({width:"100%",height:200,theme:"dark",yAxis:{hide:!0,domain:[0,100]}},n)))}},{key:"render",value:function(){return p.default.createElement("div",{className:O.default.wrapper},this.renderTabList(),this.renderTabContent())}}]),n}(p.default.Component);r.default=S,S.propTypes={tabs:m.default.array},S.defaultProps={tabs:[]}},2643:function(e,t,r){var n={"./cluster.js":2644,"./index.js":1383};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=2643},2644:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(49)),u=a(n(109)),c=a(n(50)),l=a(n(21)),i=a(n(56)),s=a(n(73)),d=a(n(782)),f=n(25),p=a(n(274)),m=a(n(2645)),h=a(n(770));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v={"cluster.visibility.edit":{on:function(e){var r,n=e.store,a=e.success,v=e.cluster,g=(0,i.default)(e,["store","success","cluster"]),E=new h.default,_=p.default.open(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({onOk:(r=(0,c.default)(o.default.mark((function e(r){var c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",p.default.close(_));case 2:return e.next=4,n.patch({name:n.detail.name},{metadata:{labels:{"cluster.kubesphere.io/visibility":r.public?"public":"private"}}});case 4:return c=[],r.addWorkspaces&&r.addWorkspaces.forEach((function(e){var t={},r=e.clusters||[];(0,s.default)(t,"spec.placement.clusters",(0,d.default)([].concat((0,u.default)(r),[{name:v.name}]),"name")),c.push(E.patch(e,t))})),r.deleteWorkspaces&&r.deleteWorkspaces.forEach((function(e){var t={},r=e.clusters||[];(0,s.default)(t,"spec.placement.clusters",r.filter((function(e){return e.name!==v.name}))),c.push(E.patch(e,t))})),e.next=9,Promise.all(c);case 9:p.default.close(_),a&&a(),f.Notify.success({content:t("UPDATE_SUCCESSFUL")});case 12:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),modal:m.default,store:n,cluster:v},g))}}};r.default=v},2645:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(109)),u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=a(n(16)),h=a(n(290)),y=n(25),v=a(n(274)),g=a(n(760)),E=a(n(770)),_=a(n(2646)),O=a(n(2648));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(e=r.call.apply(r,[this].concat(a))).state={allWorkspaces:[],authedWorkspaces:[],addWorkspaces:[],deleteWorkspaces:[],isPublic:"public"===(0,m.default)(e.props,"cluster.visibility"),showUnAuthTip:!1,showConfirm:!1},e.workspaceStore=new E.default,e.authedWorkspaceStore=new E.default,e.handleOk=function(){var t=e.state,r=t.allWorkspaces,n=t.authedWorkspaces,a=(0,p.toJS)(e.authedWorkspaceStore.list.data),o=(0,h.default)(r,"name"),u=(0,h.default)(n,"name"),c=(0,h.default)(a,"name"),l=n.filter((function(e){return!c[e.name]})),i=a.filter((function(e){return!u[e.name]})).map((function(e){return o[e.name]}));e.setState({addWorkspaces:l,deleteWorkspaces:i},(function(){e.state.deleteWorkspaces.length>0?e.setState({showConfirm:!0}):e.handleConfirm()}))},e.handleConfirm=function(){var t=e.props.onOk,r=e.state,n=r.addWorkspaces,a=r.deleteWorkspaces;t({public:r.isPublic,addWorkspaces:n,deleteWorkspaces:a})},e.hideConfirm=function(){e.setState({showConfirm:!1})},e.handleSearch=function(t){e.fetchWorkspaces({name:t})},e.fetchWorkspaces=function(t){e.workspaceStore.fetchList(S(S({},t),{},{limit:-1})).then((function(){e.setState({allWorkspaces:(0,p.toJS)(e.workspaceStore.list.data)})}))},e.fetchAuthedWorkspaces=function(t){var r=e.props.cluster,n=void 0===r?{}:r;e.authedWorkspaceStore.fetchList(S(S({},t),{},{limit:-1,cluster:n.name,labelSelector:"kubefed.io/managed=true"})).then((function(){e.setState({authedWorkspaces:(0,o.default)((0,p.toJS)(e.authedWorkspaceStore.list.data))})}))},e.handleWorkspaceAuth=function(t){e.setState((function(e){var r=e.authedWorkspaces;return{authedWorkspaces:[].concat((0,o.default)(r),[t])}}))},e.handleWorkspaceUnAuth=function(t){e.setState((function(e){return{authedWorkspaces:e.authedWorkspaces.filter((function(e){return e.name!==t.name})),showUnAuthTip:!0}}))},e.handlePublicChange=function(t){e.setState({isPublic:t})},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchWorkspaces(),this.fetchAuthedWorkspaces()}},{key:"render",value:function(){var e=this,r=this.props,n=r.visible,a=r.onCancel,o=this.state,u=o.allWorkspaces,c=o.authedWorkspaces,l=o.showUnAuthTip,i=o.isPublic,s=o.showConfirm,d=o.deleteWorkspaces,p=d.map((function(e){return e.name})).join(", "),m=1===d.length?t.html("REMOVE_WORKSPACE_CONFIRM_SI",{resource:p}):t.html("REMOVE_WORKSPACE_CONFIRM_PL",{resource:p});return f.default.createElement(v.default,{visible:n,onCancel:a,onOk:this.handleOk,width:960,icon:"key",title:t("EDIT_VISIBILITY"),description:t("EDIT_VISIBILITY_DESC")},f.default.createElement(y.Alert,{className:"margin-b12",type:"warning",message:t("HOST_CLUSTER_VISIBILITY_WARNING")}),l&&f.default.createElement(y.Alert,{className:"margin-b12",type:"error",message:t("CLUSTER_VISIBILITY_REMOVE_WARNING")}),f.default.createElement("div",{className:O.default.wrapper},f.default.createElement(y.Columns,null,f.default.createElement(y.Column,{className:"is-half"},f.default.createElement("div",{className:O.default.title},t("UNAUTHORIZED")),f.default.createElement("div",{className:O.default.content},f.default.createElement("div",{className:O.default.search},f.default.createElement(y.InputSearch,{name:"name",onSearch:this.handleSearch,placeholder:t("SEARCH")})),f.default.createElement("div",{className:O.default.list},u.map((function(t){return f.default.createElement(_.default,{key:t.name,data:t,type:"all",onClick:e.handleWorkspaceAuth,disabled:c.find((function(e){return e.name===t.name}))})}))),f.default.createElement("div",{className:O.default.footer},f.default.createElement(y.Toggle,{checked:i,onChange:this.handlePublicChange}),f.default.createElement("span",null,t("SET_PUBLIC_CLUSTER")),f.default.createElement(y.Tooltip,{content:t("CLUSTER_VISIBILITY_A2")},f.default.createElement(y.Icon,{name:"information"}))))),f.default.createElement(y.Column,null,f.default.createElement("div",{className:O.default.title},t("AUTHORIZED")),f.default.createElement("div",{className:O.default.content},f.default.createElement("div",{className:O.default.authedList},c.map((function(t){return f.default.createElement(_.default,{key:t.name,data:t,type:"authed",onClick:e.handleWorkspaceUnAuth})}))),f.default.createElement("div",{className:O.default.footer}))))),f.default.createElement(g.default,{visible:s,onOk:this.handleConfirm,onCancel:this.hideConfirm,resource:p,title:t("REMOVE_WORKSPACE_CONFIRM_TITLE"),desc:m}))}}]),n}(f.default.Component);r.default=T},2646:function(e,r,n){"use strict";var a=n(72),o=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(n(21)),c=o(n(12)),l=o(n(13)),i=o(n(19)),s=o(n(20)),d=o(n(18)),f=a(n(0)),p=o(n(3)),m=n(25),h=o(n(275)),y=o(n(2647));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var g=function(e){(0,i.default)(n,e);var r=v(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleClick=function(){var t=e.props,r=t.data;(0,t.onClick)(r)},e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,r=e.data,n=e.type,a=e.disabled;return r.name===globals.config.systemWorkspace?null:f.default.createElement("div",{className:(0,p.default)(y.default.wrapper,(0,u.default)({},y.default.disabled,a)),onClick:a?null:this.handleClick},!a&&"authed"===n&&f.default.createElement(m.Icon,{name:"chevron-left",size:20}),f.default.createElement(h.default,{className:y.default.title,icon:"enterprise",title:r.name,description:r.description||"-",ellipsis:!0}),f.default.createElement(h.default,{className:y.default.manager,title:r.manager,description:t("MANAGER")}),!a&&"authed"!==n&&f.default.createElement(m.Icon,{name:"chevron-right",size:20}))}}]),n}(f.Component);r.default=g},2647:function(e,t,r){e.exports={wrapper:"_1qjLklC2JUMbrIwB1g79Hk",disabled:"_1H1hQxC4CBLI54qDMSBxda",title:"_39HEUMTKtnJRkqWNY8ncIH",manager:"_29St8pjb_Msm4R7o-VJCEM"}},2648:function(e,t,r){e.exports={wrapper:"_1SbLbTFQFqcmexUmc7grjB",title:"_2JIUF6KDW0q8OuRAbzwbFy",content:"_3KsLjWUYDHjA6iBRaPIyOv",search:"qlBBKXQBG5hybwbhVbU-r",list:"_2McNE4ZD_UKTIxC59RzC6L",authedList:"_33baKvp6rG0kolft8ThzKb",footer:"rKEIrcFvmBNM5P5SjduSX"}},2649:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(109)),o=r(634),u=n(r(1384)),c=n(r(1387)),l=n(r(2653)),i=n(r(2654)),s=n(r(2661)),d=n(r(2665)),f=n(r(2690)),p=n(r(2691)),m=n(r(2698)),h=n(r(2699)),y=n(r(2706)),v=n(r(2708)),g=n(r(2710)),E=n(r(2714)),_=n(r(2715)),O=n(r(2716)),b=n(r(2718)),S=n(r(2719)),C=n(r(2720)),T=n(r(2721)),k=n(r(2722)),R=n(r(2724)),D=n(r(2725)),A=n(r(2726)),M=n(r(2727)),N=n(r(2728)),P=n(r(2729)),I=n(r(2765)),w=n(r(2778)),L=n(r(2779)),j=n(r(2780)),x=n(r(2783)),U=n(r(2785)),V=n(r(2786)),Y=n(r(2787)),F=n(r(2788)),H=n(r(2795)),z=n(r(2798)),G=n(r(3021)),B="/clusters/:cluster",W=[{path:"/clusters",component:s.default,redirect:globals.app.isMultiCluster?null:{from:"/clusters",to:"/clusters/default/overview",exact:!0},exact:!0},{path:B,component:l.default,routes:[].concat((0,a.default)(z.default),[{path:"".concat(B,"/kubeConfig"),component:U.default,exact:!0},{path:"",component:i.default,routes:[{path:"".concat(B,"/overview"),component:d.default,exact:!0},{path:"".concat(B,"/nodes"),component:y.default},{path:"".concat(B,"/edgenodes"),component:v.default,exact:!0},{path:"".concat(B,"/components"),component:g.default,exact:!0},{path:"".concat(B,"/projects"),component:E.default,exact:!0},{path:"".concat(B,"/customresources"),component:_.default,exact:!0},{path:"".concat(B,"/deployments"),component:O.default,exact:!0},{path:"".concat(B,"/statefulsets"),component:b.default,exact:!0},{path:"".concat(B,"/daemonsets"),component:S.default,exact:!0},{path:"".concat(B,"/jobs"),component:C.default,exact:!0},{path:"".concat(B,"/cronjobs"),component:T.default,exact:!0},{path:"".concat(B,"/pods"),component:k.default,exact:!0},{path:"".concat(B,"/services"),component:R.default,exact:!0},{path:"".concat(B,"/ingresses"),component:D.default,exact:!0},{path:"".concat(B,"/secrets"),component:A.default,exact:!0},{path:"".concat(B,"/configmaps"),component:M.default,exact:!0},{path:"".concat(B,"/serviceaccounts"),component:N.default,exact:!0},{path:"".concat(B,"/storageclasses"),component:f.default,exact:!0},{path:"".concat(B,"/volumes"),component:h.default},{path:"".concat(B,"/volume-snapshots"),component:p.default},{path:"".concat(B,"/volume-snapshot-classes"),component:m.default},{path:"".concat(B,"/monitor-cluster"),component:P.default},{path:"".concat(B,"/monitor-resource"),component:I.default},{path:"".concat(B,"/alerts"),component:u.default},{path:"".concat(B,"/alert-rules"),component:c.default},{path:"".concat(B,"/base-info"),component:j.default,exact:!0},{path:"".concat(B,"/visibility"),component:x.default,exact:!0},{path:"".concat(B,"/members"),component:w.default,exact:!0},{path:"".concat(B,"/roles"),component:L.default,exact:!0},{path:"".concat(B,"/storageclasses"),component:f.default,exact:!0},{path:"".concat(B,"/snapshots/:namespace?"),component:p.default},{path:"".concat(B,"/networkpolicies"),component:V.default,exact:!0},{path:"".concat(B,"/ippools"),component:Y.default,exact:!0},{path:"".concat(B,"/log-collections/:component"),component:F.default},{path:"".concat(B,"/custom-monitoring"),component:H.default,exact:!0},{path:"".concat(B,"/gateways/:component"),component:G.default,exact:!0},(0,o.getIndexRoute)({path:B,to:"".concat(B,"/overview"),exact:!0}),(0,o.getIndexRoute)({path:"".concat(B,"/workloads"),to:"".concat(B,"/deployments"),exact:!0}),(0,o.getIndexRoute)({path:"".concat(B,"/log-collections"),to:"".concat(B,"/log-collections/logging"),exact:!0}),(0,o.getIndexRoute)({path:"".concat(B,"/gateways"),to:"".concat(B,"/gateways/cluster"),exact:!0}),(0,o.getIndexRoute)({path:"*",to:"/404",exact:!0})]}])}];t.default=W},2653:function(e,t,r){"use strict";var n=r(6),a=r(72);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=n(r(49)),c=n(r(21)),l=n(r(50)),i=n(r(12)),s=n(r(13)),d=n(r(19)),f=n(r(20)),p=n(r(18)),m=a(r(0)),h=r(70),y=n(r(73)),v=n(r(16)),g=n(r(191)),E=r(25),_=r(634),O=n(r(637));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=(0,h.inject)("rootStore")(o=(0,h.observer)(o=function(e){(0,d.default)(n,e);var t,r=C(n);function n(e){var t;return(0,i.default)(this,n),(t=r.call(this,e)).store=new O.default,t}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.init(this.props.match.params)}},{key:"componentDidUpdate",value:function(e){e.match.params.cluster!==this.cluster&&this.init(this.props.match.params)}},{key:"init",value:(t=(0,l.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.initializing=!0,!t.cluster){e.next=10;break}return e.next=4,Promise.all([this.store.fetchDetail({name:t.cluster}),this.props.rootStore.getRules({cluster:t.cluster})]);case 4:if(!this.store.detail.isReady){e.next=7;break}return e.next=7,this.store.fetchProjects({cluster:t.cluster});case 7:(0,y.default)(globals,"clusterConfig.".concat(t.cluster),this.store.detail.configz),""===(0,v.default)(this.store.detail.configz,"ksVersion")&&(0,y.default)(globals,"need_rebuild_".concat(this.cluster,"_nav"),!0),globals.app.cacheHistory(this.props.match.url,S({type:"Cluster"},(0,g.default)(this.store.detail,["name","aliasName","group","isHost"])));case 10:this.store.initializing=!1;case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){return this.store.initializing?m.default.createElement(E.Loading,{className:"ks-page-loading"}):m.default.createElement(h.Provider,{clusterStore:this.store},(0,_.renderRoutes)(this.props.route.routes))}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(m.Component))||o)||o;t.default=T},2654:function(e,t,r){"use strict";var n=r(6),a=r(72);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=n(r(49)),c=n(r(50)),l=n(r(12)),i=n(r(13)),s=n(r(19)),d=n(r(20)),f=n(r(18)),p=a(r(0)),m=r(70),h=n(r(650)),y=n(r(16)),v=n(r(738)),g=r(634),E=r(656),_=n(r(2655));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var b=(0,m.inject)("rootStore","clusterStore")(o=(0,m.observer)(o=function(e){(0,s.default)(r,e);var t=O(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).enterCluster=function(){var t=(0,c.default)(u.default.mark((function t(r){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.routing.push("/clusters/".concat(r,"/overview")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchConfigz=(0,h.default)((0,c.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.clusterStore.fetchClusterConfigz({cluster:e.cluster});case 2:t.sent&&(globals.app.getClusterNavs(e.cluster),(0,v.default)(globals,"need_rebuild_".concat(e.cluster,"_nav")),e.forceUpdate());case 4:case"end":return t.stop()}}),t)}))),3e3),e}return(0,i.default)(r,[{key:"componentDidUpdate",value:function(){(0,y.default)(globals,"need_rebuild_".concat(this.cluster,"_nav"),!1)&&this.fetchConfigz()}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.route,n=e.location,a=this.props.clusterStore.detail;return p.default.createElement("div",{className:"ks-page"},p.default.createElement("div",{className:"ks-page-side"},p.default.createElement(_.default,{icon:a.icon,value:this.cluster,onChange:this.enterCluster}),p.default.createElement(E.Nav,{className:"ks-page-nav",navs:globals.app.getClusterNavs(this.cluster),location:n,match:t,disabled:!a.isReady})),p.default.createElement("div",{className:"ks-page-main"},(0,g.renderRoutes)(r.routes)))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"routing",get:function(){return this.props.rootStore.routing}}]),r}(p.Component))||o)||o;t.default=b},2655:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(12)),u=a(n(13)),c=a(n(19)),l=a(n(20)),i=a(n(18)),s=a(n(0)),d=a(n(1)),f=n(25),p=a(n(2656)),m=a(n(2660));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=function(e){(0,c.default)(n,e);var r=h(n);function n(e){var t;return(0,o.default)(this,n),(t=r.call(this,e)).showSelect=function(){t.setState({showSelect:!0})},t.hideSelect=function(){t.setState({showSelect:!1})},t.handleSelect=function(e){var r=t.props.onChange;t.hideSelect(),r(e)},t.state={showSelect:!1},t}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.value,r=this.state.showSelect;return s.default.createElement("div",null,s.default.createElement("div",{className:m.default.titleWrapper,onClick:globals.app.isMultiCluster?this.showSelect:null},s.default.createElement("div",{className:m.default.icon},s.default.createElement(f.Icon,{name:"cluster",size:40,type:"light"})),s.default.createElement("div",{className:m.default.text},s.default.createElement("div",{className:"h6"},e),s.default.createElement("p",null,t("CLUSTER")))),s.default.createElement(p.default,{visible:r,onChange:this.handleSelect,onCancel:this.hideSelect}))}}]),n}(s.default.Component);r.default=y,y.propTypes={value:d.default.string,onChange:d.default.func},y.defaultProps={value:"",onChange:function(){}}},2656:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=a(n(16)),m=n(5),h=n(70),y=n(25),v=a(n(274)),g=a(n(826)),E=a(n(637)),_=a(n(2657)),O=a(n(2659));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var C=(0,h.observer)(o=function(e){(0,i.default)(n,e);var r=S(n);function n(e){var t;return(0,c.default)(this,n),(t=r.call(this,e)).fetchData=function(e){t.store.fetchList(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))},t.handleSearch=function(e){t.fetchData({name:e})},t.handleRefresh=function(){t.fetchData()},t.handleOnEnter=function(e){var r=t.props.onChange;localStorage.setItem("".concat(globals.user.username,"-cluster"),e),r&&r(e)},t.store=new E.default,t}return(0,l.default)(n,[{key:"render",value:function(){var e=this,r=this.props,n=r.visible,a=r.onCancel,o=this.store.list,u=o.data,c=o.total,l=o.page,i=o.isLoading,s=(0,p.default)(this.store.list,"filters.name");return f.default.createElement(v.default,{bodyClassName:O.default.body,visible:n,onCancel:a,width:960,icon:"cluster",title:t("CLUSTER_PL"),description:t("CLUSTER_DESC"),hideFooter:!0},f.default.createElement("div",{className:O.default.bar},f.default.createElement(y.Columns,null,f.default.createElement(y.Column,null,f.default.createElement(y.InputSearch,{value:s,placeholder:t("SEARCH_BY_NAME"),onSearch:this.handleSearch})),f.default.createElement(y.Column,{className:"is-narrow"},f.default.createElement(y.Button,{icon:"refresh",type:"flat",onClick:this.handleRefresh})))),f.default.createElement("div",{className:O.default.list},f.default.createElement(g.default,{wrapperClassName:O.default.listWrapper,data:(0,m.toJS)(u),total:c,page:l,loading:i,onFetch:this.fetchData},u.map((function(t){return f.default.createElement(_.default,{key:t.uid,data:t,onEnter:e.handleOnEnter})})))))}}]),n}(f.default.Component))||o;r.default=C},2657:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(12)),u=a(n(13)),c=a(n(19)),l=a(n(20)),i=a(n(18)),s=a(n(0)),d=a(n(652)),f=n(37),p=a(n(749)),m=a(n(2658));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=function(e){(0,c.default)(n,e);var r=h(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(e=r.call.apply(r,[this].concat(a))).handleClick=function(){var t=e.props,r=t.data,n=t.onEnter;n&&n(r.name)},e}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.data,r=[{title:e.nodeCount,description:t("NODE_COUNT")},{title:e.kubernetesVersion,description:t("KUBERNETES_VERSION")},{title:e.provider,description:t("PROVIDER"),className:m.default.provider},{title:e.createTime?(0,f.getLocalTime)(e.createTime).format("YYYY-MM-DD HH:mm:ss"):"-",description:t("CREATION_TIME")}],n=s.default.createElement(p.default,{cluster:e});return s.default.createElement(d.default.Item,{className:m.default.wrapper,titleClass:m.default.title,title:n,details:r,onClick:this.handleClick})}}]),n}(s.default.Component);r.default=y},2658:function(e,t,r){e.exports={wrapper:"_2Lode7HM8EDFFVhYFyaKDB",title:"_1TrzLjzp9IdaoC7yHaLErO",name:"_1Nwhfvxq3E2WV9FPkzpMtC",provider:"_3WBLNLVRyv6lKNuMyxRtF9"}},2659:function(e,t,r){e.exports={body:"_1RTLEdY9FM03im0aOqBKgH",bar:"_3PbrhVYlitIrw-qNbZXc_M",list:"_1q4q-CLhBU4R_CHF8wnZN5",listWrapper:"-sqcjNosxLIk_3sysZ2z4"}},2660:function(e,t,r){e.exports={titleWrapper:"_3RhKP-A-gZG4DnvnI3IRpc",icon:"EQnf3YFM9Jqw0hfrcKXXF",text:"_3z-J8CgVKtWJ0tBdoVrCAe",arrow:"cfP2QWNky57_okT8J4avy",dropdown:"uj8NIs7tEZXjUJuIyAn5x",bottom:"_16S4ynhanFf33CRQsJ9lJ_"}},2661:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(49)),c=a(n(50)),l=a(n(21)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(32)),h=a(n(294)),y=a(n(0)),v=n(70),g=n(25),E=a(n(724)),_=a(n(751)),O=a(n(2662)),b=a(n(637)),S=n(635),C=a(n(1389)),T=a(n(2664));function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var A=(0,v.inject)("rootStore")(o=(0,v.observer)(o=(0,S.trigger)(o=function(e){(0,d.default)(n,e);var r=D(n);function n(e){var a;return(0,i.default)(this,n),(a=r.call(this,e)).initData=function(){a.fetchHostData(),a.fetchData()},a.fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.store.fetchList(R(R({},e),{},{limit:10,labelSelector:"!cluster-role.kubesphere.io/host"}))},a.fetchHostData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.hostStore.fetchList(R(R({},e),{},{labelSelector:"cluster-role.kubesphere.io/host=",limit:-1}))},a.showAddCluster=function(){a.trigger("cluster.add",{module:"clusters",success:a.routing.push})},a.handlePagination=function(e){a.fetchData({page:e})},a.handleRefresh=function(){a.fetchData({page:1})},a.handleSearch=function(e){a.fetchData({name:e}),a.fetchHostData({name:e})},a.enterCluster=function(){var e=(0,c.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.routing.push("/clusters/".concat(t,"/overview"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getItemActions=function(e){return[{key:"pen",icon:"pen",text:t("EDIT_INFORMATION"),show:!0,onClick:function(e){a.trigger("resource.baseinfo.edit",{detail:e,modal:C.default,success:a.initData})}},{key:"data",icon:"data",text:t("UPDATE_KUBECONFIG"),show:!e.isHost,onClick:function(e){a.trigger("cluster.updateKubeConfig",{detail:e,success:a.initData})}},{key:"trash",icon:"trash",text:t("UNBIND_CLUSTER"),show:!e.isHost,onClick:function(e){a.trigger("cluster.unbind",{detail:e,success:a.initData})}}].filter((function(e){return e.show}))},a.store=new b.default,a.hostStore=new b.default,a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.initData()}},{key:"renderList",value:function(){var e=this,r=this.store.list,n=r.data,a=r.page,o=r.total,u=r.limit,c=r.filters,l=r.isLoading,i=this.hostStore.list,s=i.data,d=i.isLoading,f=i.filters;if((0,m.default)(n)&&!l&&(0,m.default)(c)&&!d&&(0,m.default)(f)&&(0,m.default)(s))return y.default.createElement(_.default,{icon:"cluster",title:t("NO_CLUSTER_TIP"),desc:t("NO_CLUSTER_TIP_DESC"),actions:this.isOperation?y.default.createElement(g.Button,{type:"control",onClick:this.showAddCluster},t("ADD_CLUSTER")):null});if(l||d)return y.default.createElement(g.Loading,{className:T.default.loading});if(!l&&(0,m.default)(n)&&!d&&(0,m.default)(s))return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",{className:"h6 margin-b12"},t("Cluster List")," ",y.default.createElement("span",{className:T.default.total},o)),y.default.createElement("div",{className:T.default.noData},y.default.createElement("img",{src:"/assets/empty-card.svg",alt:""}),y.default.createElement("p",null,t("NO_RESOURCE_FOUND"))));var p=(0,h.default)(n,(function(e){return e.expiredDay}));return y.default.createElement("ul",{className:T.default.cards},!(0,m.default)(s)&&y.default.createElement("div",{className:"margin-b12"},y.default.createElement("div",{className:"h6"},1===s.length?t("HOST_CLUSTER_TCAP"):t("HOST_CLUSTER_PL_TCAP")),s.map((function(t){return y.default.createElement(O.default,{key:t.name,data:t,onEnter:e.enterCluster,isOperation:e.isOperation,itemActions:e.getItemActions(t)})}))),!(0,m.default)(p)&&y.default.createElement("div",null,y.default.createElement("div",{className:"h6"},t("Member Clusters")," ",y.default.createElement("span",{className:T.default.total},o)),p.map((function(t){return y.default.createElement(O.default,{key:t.name,data:t,onEnter:e.enterCluster,isOperation:e.isOperation,itemActions:e.getItemActions(t)})})),y.default.createElement("div",{className:"text-right margin-t12"},y.default.createElement(g.Pagination,{page:a,total:o,limit:u,onChange:this.handlePagination}))))}},{key:"renderSearch",value:function(){return y.default.createElement("div",{className:T.default.searchPanel},y.default.createElement(g.InputSearch,{className:T.default.search,onSearch:this.handleSearch,placeholder:t("SEARCH_BY_NAME")}),y.default.createElement(g.Button,{type:"flat",icon:"refresh",onClick:this.handleRefresh,"data-test":"cluster-refresh"}),this.enabledActions.includes("create")&&y.default.createElement(g.Button,{type:"control",onClick:this.showAddCluster,"data-test":"cluster-create"},t("ADD_CLUSTER")))}},{key:"render",value:function(){return y.default.createElement("div",{className:T.default.wrapper},y.default.createElement(E.default,{className:T.default.banner,icon:"cluster",title:t("CLUSTER_MANAGEMENT"),description:t("CLUSTER_DESC"),extra:this.renderSearch()}),this.renderList())}},{key:"authKey",get:function(){return"clusters"}},{key:"enabledActions",get:function(){return globals.app.getActions({module:this.authKey})}},{key:"isOperation",get:function(){return this.enabledActions.includes("create")}},{key:"routing",get:function(){return this.props.rootStore.routing}}]),n}(y.default.Component))||o)||o)||o;r.default=A},2662:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(12)),u=a(n(13)),c=a(n(19)),l=a(n(20)),i=a(n(18)),s=a(n(0)),d=n(25),f=a(n(275)),p=n(37),m=a(n(749)),h=a(n(3)),y=a(n(2663));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var g=function(e){(0,c.default)(n,e);var r=v(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(e=r.call.apply(r,[this].concat(a))).handleClick=function(){var t=e.props,r=t.data,n=t.onEnter;n&&n(r.name)},e.renderMore=function(t){if(!e.props.isOperation)return null;var r=e.renderMoreMenu(t);return s.default.createElement(d.Dropdown,{content:r,trigger:"click",placement:"bottomRight"},s.default.createElement(d.Button,{icon:"more",type:"flat"}))},e.renderMoreMenu=function(t){var r=e.props.itemActions.map((function(e){return s.default.createElement(d.Menu.MenuItem,{key:e.key},s.default.createElement(d.Icon,{name:e.icon})," ",s.default.createElement("span",{"data-test":"table-item-".concat(e.key)},e.text))}));return r.every((function(e){return null===e}))?null:s.default.createElement(d.Menu,{onClick:e.handleMoreMenuClick(t)},r)},e.handleMoreMenuClick=function(t){return function(r,n){var a=e.props.itemActions.find((function(e){return e.key===n}));a&&a.onClick&&a.onClick(t)}},e}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.data,r=e.expiredDay,n=r&&r<0,a=r&&r<=10&&r>=0;return s.default.createElement("li",{className:y.default.wrapper,"data-test":"cluster-item"},s.default.createElement(d.Columns,null,s.default.createElement(d.Column,{className:"is-3"},s.default.createElement(m.default,{cluster:e,onClick:this.handleClick,isExpired:n})),s.default.createElement(d.Column,{className:"is-2"},s.default.createElement(f.default,{title:e.nodeCount,description:t("NODE_COUNT")})),s.default.createElement(d.Column,{className:"is-2"},s.default.createElement(f.default,{title:e.kubernetesVersion,description:t("KUBERNETES_VERSION")})),s.default.createElement(d.Column,{className:"is-2"},s.default.createElement(f.default,{title:e.provider,description:t("PROVIDER")})),s.default.createElement(d.Column,{className:"is-2"},a?s.default.createElement(f.default,{title:s.default.createElement("span",null,t.html("LAST_KUBE_CONFIG_EXPIRED",{count:parseInt(r,10)})),description:t("EXPIRE_DATE")}):s.default.createElement(f.default,{title:(0,p.getLocalTime)(e.createTime).format("YYYY-MM-DD HH:mm:ss"),description:t("CREATION_TIME")})),s.default.createElement(d.Column,{className:(0,h.default)("is-1",y.default.options)},this.renderMore(e))))}}]),n}(s.default.Component);r.default=g},2663:function(e,t,r){e.exports={wrapper:"_3qaPLN3flFkd7vdbb-a06X",icon:"_2nvnLCPMiMLWLpzmB_ss4Y",indicator:"_1korY3RT8tulRRgwANoA8l",group:"_2FFcxBZefuDpc8WshcrThZ",options:"_15s8_iioN5RvbWBdWUbE7i"}},2664:function(e,t,r){e.exports={searchPanel:"JXASYiU6D6Vir-77S8jPn",search:"_2kZ_paFfCDfS54sVYxO5uP",banner:"Bcl945VYxNKukjCmwWYbH",wrapper:"_1akEUPD--PdefXH7mMFzRh",cards:"_1oOVvfOwX0wdLxlAHCW05L",total:"_23AMlY-PP_B8q-EWe9Nusy",noData:"_1Naiqed2b_IbMjwTPBJalB",loading:"_3jc3swHeh4UBUKxi7Knl9E"}},2665:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(2666)),p=n(r(2683));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var h=(0,d.inject)("clusterStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=m(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return this.cluster.detail.isReady?s.default.createElement(f.default,{match:this.props.match}):s.default.createElement(p.default,{store:this.cluster,match:this.props.match})}},{key:"cluster",get:function(){return this.props.clusterStore}}]),r}(s.default.Component))||a)||a;t.default=h},2666:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=r(25),p=n(r(749)),m=n(r(2667)),h=n(r(2669)),y=n(r(2671)),v=n(r(2676)),g=n(r(2679)),E=n(r(2681));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var O=(0,d.inject)("clusterStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=_(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.cluster.fetchVersion(this.props.match.params)}},{key:"render",value:function(){var e=this.props.match,t=this.cluster.detail;return s.default.createElement("div",null,s.default.createElement(p.default,{className:"margin-b12",cluster:t,size:"large",noStatus:!0}),s.default.createElement(f.Columns,null,s.default.createElement(f.Column,null,globals.app.isMultiCluster&&s.default.createElement(h.default,{cluster:t,version:this.cluster.version}),s.default.createElement(E.default,{cluster:e.params.cluster}),s.default.createElement(v.default,{cluster:e.params.cluster}),globals.app.isPlatformAdmin&&s.default.createElement(m.default,{cluster:e.params.cluster})),s.default.createElement(f.Column,{className:"is-narrow is-4"},s.default.createElement(g.default,{cluster:e.params.cluster}),s.default.createElement(y.default,{cluster:e.params.cluster}))))}},{key:"cluster",get:function(){return this.props.clusterStore}}]),r}(s.default.Component))||a)||a;t.default=O},2667:function(e,r,n){"use strict";var a=n(72),o=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(n(12)),c=o(n(13)),l=o(n(19)),i=o(n(20)),s=o(n(18)),d=a(n(0)),f=o(n(723)),p=o(n(275)),m=n(638),h=o(n(2668));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var v=function(e){(0,l.default)(n,e);var r=y(n);function n(){var e;(0,u.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleTool=function(t){window.open(t.currentTarget.dataset.url,t.currentTarget.dataset.title,e.getWindowOpts())},e}return(0,c.default)(n,[{key:"getWindowOpts",value:function(){return(0,m.createCenterWindowOpt)({width:1200,height:800,scrollbars:1,resizable:1})}},{key:"render",value:function(){var e=this.props.cluster;return d.default.createElement(f.default,{title:t("Tools")},d.default.createElement("div",{className:h.default.level},d.default.createElement("div",{className:"margin-r12","data-title":"KubeCtl","data-url":"/terminal/kubectl/".concat(e),onClick:this.handleTool},d.default.createElement(p.default,{icon:"terminal",title:"kubectl",description:t("KUBECTL_DESC")})),d.default.createElement("div",{"data-title":"KubeConfig","data-url":"/clusters/".concat(e,"/kubeConfig"),onClick:this.handleTool},d.default.createElement(p.default,{icon:"data",title:"kubeconfig",description:t("KUBECONFIG_DESC")}))))}}]),n}(d.Component);r.default=v},2668:function(e,t,r){e.exports={level:"_7jLDaj4UuqLC0FWLjpwWf"}},2669:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=o(n(0)),p=a(n(16)),m=n(70),h=a(n(723)),y=a(n(275)),v=a(n(2670));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var E=(0,m.inject)("rootStore")(u=function(e){(0,i.default)(n,e);var r=g(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleClick=function(){var t=e.props,r=t.cluster;t.rootStore.routing.push("/clusters/".concat(r.name,"/visibility"))},e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,r=e.cluster,n=e.version;return f.default.createElement(h.default,{title:t("BASIC_INFORMATION")},f.default.createElement("div",{className:v.default.level},f.default.createElement(y.default,{title:r.provider,description:t("PROVIDER")}),f.default.createElement(y.default,{title:r.kubernetesVersion||n,description:t("KUBERNETES_VERSION")}),f.default.createElement(y.default,{title:(0,p.default)(r,"configz.ksVersion","-"),description:t("KUBESPHERE_VERSION")}),f.default.createElement(y.default,{title:"public"===r.visibility?t("VISIBILITY_PUBLIC"):t("VISIBILITY_PARTIAL"),description:t("CLUSTER_VISIBILITY_SCAP"),onClick:this.handleClick})))}}]),n}(f.Component))||u;r.default=E},2670:function(e,t,r){e.exports={level:"_1FOMscQVAI8cyABa4Bk5SV"}},2671:function(e,r,n){"use strict";var a=n(72),o=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(n(12)),c=o(n(13)),l=o(n(19)),i=o(n(20)),s=o(n(18)),d=a(n(0)),f=o(n(723)),p=o(n(2672)),m=o(n(2673)),h=o(n(2675));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var v=function(e){(0,l.default)(n,e);var r=y(n);function n(){return(0,u.default)(this,n),r.apply(this,arguments)}return(0,c.default)(n,[{key:"render",value:function(){return d.default.createElement(f.default,{title:t("NODE_PL")},d.default.createElement("div",{className:h.default.status},d.default.createElement(p.default,null)),d.default.createElement(m.default,this.props))}}]),n}(d.Component);r.default=v},2672:function(e,t,r){"use strict";var n=r(72),a=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(12)),u=a(r(13)),c=a(r(19)),l=a(r(20)),i=a(r(18)),s=n(r(0));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var f=function(e){(0,c.default)(r,e);var t=d(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement("div",null)}}]),r}(s.Component);t.default=f},2673:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(16)),m=o(n(0)),h=n(70),y=n(276),v=n(25),g=a(n(275)),E=a(n(1390)),_=a(n(2674));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C={limit:5,page:1,sort_type:"desc"},T=(0,h.observer)(u=function(e){(0,s.default)(n,e);var r=S(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=new E.default(b(b({},C),{},{cluster:e.cluster})),e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.store.fetchAll()}},{key:"render",value:function(){var e=this,r=this.store.data;return m.default.createElement("div",null,m.default.createElement("div",{className:_.default.header},m.default.createElement("div",null,t("TOP_5_FOR_RSC_USAGE")),m.default.createElement(v.Select,{className:_.default.select,value:this.store.sort_metric,onChange:this.store.changeSortMetric,options:this.options})),m.default.createElement("div",{className:_.default.list},r.map((function(r){return m.default.createElement("div",{key:r.node},m.default.createElement(v.Icon,{name:"nodes",size:40,className:"margin-r12"}),m.default.createElement(g.default,{title:m.default.createElement(y.Link,{to:"/clusters/".concat(e.cluster,"/nodes/").concat(r.node)},r.node,"master"===r.role&&m.default.createElement("span",{className:_.default.label},t("CONTROL_PLANE"))),description:(0,p.default)(r,"host_ip","-")}),m.default.createElement(g.default,{className:_.default.cpu,title:"".concat(Math.round(100*(Number((0,p.default)(r,e.store.sort_metric))||0)),"%"),description:t(e.store.sort_metric.toUpperCase())}))}))),m.default.createElement("div",{className:_.default.footer},m.default.createElement(y.Link,{to:"/clusters/".concat(this.cluster,"/monitor-cluster/ranking")},m.default.createElement(v.Button,null,t("VIEW_MORE")))))}},{key:"cluster",get:function(){return this.props.cluster}},{key:"options",get:function(){return this.store.sort_metric_options.map((function(e){return{value:e,label:t("SORT_BY_".concat(e.toUpperCase()))}}))}}]),n}(m.Component))||u;r.default=T},2674:function(e,t,r){e.exports={header:"CR3-cribiG7gxguBgQFjt",select:"_34QX9DzrKbc3inNF2eO1_Q",list:"_3Q9YnLX1LbEiaO6mDiYpaO",cpu:"_9abIYDDz3hAFSCfVwZOu9",footer:"_2hhxBPLBr4erqOU4S1pjKE",label:"_1oTBmnSw7qnQvDsgD9ofsm"}},2675:function(e,t,r){},2676:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=o(n(0)),m=n(70),h=a(n(16)),y=a(n(989)),v=a(n(988)),g=a(n(1391)),E=a(n(1392)),_=a(n(1135)),O=n(25),b=a(n(723)),S=n(725),C=a(n(845)),T=a(n(1393)),k=a(n(2678));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var D={cpu_usage:"cluster_cpu_usage",cpu_total:"cluster_cpu_total",memory_usage:"cluster_memory_usage_wo_cache",memory_total:"cluster_memory_total",disk_size_usage:"cluster_disk_size_usage",disk_size_capacity:"cluster_disk_size_capacity",pod_count:"cluster_pod_running_count",pod_capacity:"cluster_pod_quota"},A=(0,m.observer)(u=function(e){(0,s.default)(n,e);var r=R(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).monitorStore=new C.default({cluster:e.props.cluster}),e.getValue=function(e){return(0,h.default)(e,"value[1]",0)},e.fetchData=function(){e.monitorStore.fetchMetrics({metrics:Object.values(D),last:!0})},e.getResourceOptions=function(){var r=(0,S.getLastMonitoringData)(e.metrics);return[{name:"CPU",unitType:"cpu",used:e.getValue(r[D.cpu_usage]),total:e.getValue(r[D.cpu_total])},{name:t("MEMORY"),unitType:"memory",used:e.getValue(r[D.memory_usage]),total:e.getValue(r[D.memory_total])},{name:t("POD"),unitType:"",used:e.getValue(r[D.pod_count]),total:e.getValue(r[D.pod_capacity])},{name:t("DISK"),unitType:"disk",used:e.getValue(r[D.disk_size_usage]),total:e.getValue(r[D.disk_size_capacity])}]},e.getRadarOptions=function(e){return e.map((function(e){return{name:e.name,usage:Math.round(100*e.used/(e.total||e.used))}}))},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.getResourceOptions(),r=this.getRadarOptions(e);return p.default.createElement(b.default,{title:t("RESOURCE_USAGE")},p.default.createElement(O.Loading,{spinning:this.monitorStore.isLoading},p.default.createElement("div",{className:k.default.wrapper},p.default.createElement("div",{className:k.default.chart},p.default.createElement(E.default,{cx:180,cy:158,width:360,height:316,data:r},p.default.createElement(g.default,{gridType:"circle"}),p.default.createElement(v.default,{dataKey:"name"}),p.default.createElement(y.default,{domain:[0,100]}),p.default.createElement(_.default,{dataKey:"usage",stroke:"#345681",fill:"#1c2d4267"}))),p.default.createElement("div",{className:k.default.list},e.map((function(e){return p.default.createElement(T.default,(0,c.default)({key:e.name},e))}))))))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.Component))||u;r.default=A},2678:function(e,t,r){e.exports={wrapper:"_3U1G1yRfHGwV6Wv19k91Oz",chart:"_1jM9tHJGbN2uRHKOr1Ev7m",list:"_2ommj4bnUBiiVFnj4wt5Dk"}},2679:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(49)),l=a(n(21)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=o(n(0)),y=a(n(16)),v=n(70),g=n(25),E=a(n(723)),_=a(n(275)),O=n(725),b=a(n(866)),S=a(n(2680));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var R={request_latencies_total:"apiserver_request_latencies",request_rate:"apiserver_request_rate",schedule_attempts_count:"scheduler_schedule_attempts"},D=(0,v.observer)(u=function(e){(0,f.default)(n,e);var r=k(n);function n(e){var t;(0,s.default)(this,n),(t=r.call(this,e)).fetchData=(0,i.default)(c.default.mark((function e(){var r,n,a=arguments;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},n=T({last:!0},r),e.next=4,t.apiStore.fetchMetrics(T({metrics:[R.request_latencies_total,R.request_rate]},n));case 4:return e.next=6,t.schedulerStore.fetchMetrics(T({metrics:[R.schedule_attempts_count]},n));case 6:case"end":return e.stop()}}),e)}))),t.getSpecificData=function(e){return((0,y.default)(t.metrics,"".concat(R[e],".data.result"))||[]).reduce((function(e,t){return T(T({},e),{},(0,l.default)({},(0,y.default)(t,"metric.result"),(0,y.default)(t,"value[1]",0)))}),{})};var a=e.cluster;return t.apiStore=new b.default({module:"apiserver",cluster:a}),t.schedulerStore=new b.default({module:"scheduler",cluster:a}),t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.metrics,r=Number((0,y.default)(e,"".concat(R.request_rate,".data.result[0].value[1]"),0)).toFixed(3),n=(0,O.getValueByUnit)((0,y.default)(e,"".concat(R.request_latencies_total,".data.result[0].value[1]")),"ms"),a=this.getSpecificData("schedule_attempts_count");return h.default.createElement(E.default,{title:t("KUBERNETES_STATUS")},h.default.createElement(g.Loading,{spinning:this.schedulerStore.isLoading},h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:S.default.level},h.default.createElement(_.default,{title:"".concat(r," times/s"),description:t("API_REQUESTS_PER_SECOND")}),h.default.createElement(_.default,{title:"".concat(n," ms"),description:t("API_REQUEST_LATENCY")})),h.default.createElement("div",{className:S.default.level},h.default.createElement(_.default,{title:a.scheduled,description:1===a.scheduled?t("SCHEDULING_OPERATION"):t("SCHEDULING_OPERATIONS")}),h.default.createElement(_.default,{title:a.error,description:1===a.error?t("SCHEDULING_FAILURE"):t("SCHEDULING_FAILURES")})))))}},{key:"metrics",get:function(){var e=this.apiStore.data,t=this.schedulerStore.data;return T(T({},e),t)}}]),n}(h.Component))||u;r.default=D},2680:function(e,t,r){e.exports={level:"_2UJuf7ZQGgEclggVm__94Z"}},2681:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=o(n(0)),p=n(70),m=n(276),h=n(25),y=a(n(723)),v=n(58),g=a(n(1136)),E=a(n(2682));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var O=(0,p.observer)(u=function(e){(0,i.default)(n,e);var r=_(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=new g.default,e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.cluster;this.store.fetchList({cluster:e})}},{key:"render",value:function(){var e=this.props.cluster;return f.default.createElement(y.default,{title:t("SYSTEM_COMPONENT_PL")},f.default.createElement("div",{className:E.default.icons},this.configs.filter((function(e){return!e.disabled})).map((function(t){return f.default.createElement("span",{key:t.type,"data-tooltip":t.title},f.default.createElement(m.Link,{to:"/clusters/".concat(e,"/components?type=").concat(t.type)},f.default.createElement(h.Icon,{name:v.COMPONENT_ICON_MAP[t.type],size:44,clickable:!0})))}))))}},{key:"configs",get:function(){var e=this.props.cluster;return[{type:"kubesphere",title:"Xcloud"},{type:"kubernetes",title:"Kubernetes"},{type:"istio",title:"Istio",disabled:!globals.app.hasClusterModule(e,"servicemesh")},{type:"monitoring",title:t("MONITORING"),disabled:!globals.app.hasClusterModule(e,"monitoring")},{type:"logging",title:t("LOGGING"),disabled:!globals.app.hasClusterModule(e,"logging")},{type:"devops",title:"DevOps",disabled:!globals.app.hasClusterModule(e,"devops")}]}}]),n}(f.Component))||u;r.default=O},2682:function(e,t,r){e.exports={icons:"_1HMNRQGnyInJB3yb8aAvOH",iconImg:"_33iMPJKU8Pl2biEd0-mmvx",imgBox:"_2hX-W6a0JOWA-RRzhzLJVr"}},2683:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(16)),p=o(n(0)),m=n(5),h=n(70),y=n(25),v=a(n(723)),g=a(n(275)),E=a(n(795)),_=n(638),O=n(635),b=a(n(1e3)),S=a(n(2684)),C=a(n(2689));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var k=(0,h.inject)("rootStore")(u=(0,h.observer)(u=(0,O.trigger)(u=function(e){(0,i.default)(n,e);var r=T(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).kubekeyClusterStore=new b.default,e.websocket=e.props.rootStore.websocket,e.initWebsocket=function(){var t=e.props,r=t.store,n=t.match,a=r.getWatchUrl({name:n.params.cluster});a&&(e.websocket.watch(a),e.disposer=(0,m.reaction)((function(){return e.websocket.message}),(function(e){"MODIFIED"===e.type&&r.fetchDetail(r.detail)})))},e.handleCopy=function(){(0,_.copyToClipboard)((0,m.toJS)(e.props.store.agent)),y.Notify.success({content:t("COPY_SUCCESSFUL")})},e.showEditYAML=function(){var t=e.kubekeyClusterStore;e.trigger("resource.yaml.edit",{store:t,detail:(0,m.toJS)(t.detail)})},e.rerun=function(){e.kubekeyClusterStore.patch(e.kubekeyClusterStore.detail,{spec:{rerunTrigger:(new Date).getTime()}})},e.handleMenuClick=function(t,r){switch(r){case"edit-yaml":e.showEditYAML();break;case"rerun":e.rerun()}},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.store.detail,t=e.name,r=e.conditions;"True"===(0,f.default)(r,"Initialized.status")&&this.props.store.fetchAgent({cluster:t}),this.initWebsocket()}},{key:"componentWillUnmount",value:function(){this.websocket.close(),this.disposer&&this.disposer()}},{key:"renderMenu",value:function(){return p.default.createElement(y.Menu,{onClick:this.handleMenuClick},p.default.createElement(y.Menu.MenuItem,{key:"edit-yaml"},p.default.createElement(y.Icon,{name:"pen"})," ",t("EDIT_YAML")),p.default.createElement(y.Menu.MenuItem,{key:"rerun"},p.default.createElement(y.Icon,{name:"refresh"})," ",t("RERUN")))}},{key:"render",value:function(){var e=this.props.store,r=e.detail,n=e.isAgentLoading,a=e.agent,o=r.kkName,u=r.conditions,c=r.connectionType;return"False"===(0,f.default)(u,"Initialized.status")?p.default.createElement(v.default,null,p.default.createElement("div",{className:C.default.title},p.default.createElement(y.Loading,{size:28}),p.default.createElement(g.default,{title:t("CLUSTER_INIT_FAILED"),description:(0,f.default)(u,"Initialized.reason")}))):o?p.default.createElement(v.default,{className:C.default.wrapper},p.default.createElement("div",{className:C.default.title},p.default.createElement(g.default,{icon:"cluster",title:t("CREATING_CLUSTER"),description:t.html("CREATING_CLUSTER_DESC")}),p.default.createElement("div",{className:C.default.action},p.default.createElement(y.Dropdown,{theme:"dark",content:this.renderMenu(),placement:"bottomRight"},p.default.createElement(y.Button,{type:"flat",icon:"more"})))),p.default.createElement(S.default,{name:o,store:this.kubekeyClusterStore})):p.default.createElement(v.default,{className:C.default.wrapper},p.default.createElement("div",{className:C.default.title},p.default.createElement(y.Loading,{size:28}),p.default.createElement(g.default,{title:t("WAIT_FOR_CLUSTER"),description:t("WAIT_FOR_CLUSTER_DESC")})),"proxy"===c&&p.default.createElement("div",{className:C.default.content},p.default.createElement("div",{className:C.default.card},p.default.createElement(g.default,{title:t.html("CLUSTER_AGENT_TIP_1")})),p.default.createElement("div",{className:C.default.card},p.default.createElement(g.default,{className:"margin-b12",title:t.html("CLUSTER_AGENT_TIP_2")}),p.default.createElement(y.Button,{className:C.default.copy,onClick:this.handleCopy},t("COPY")),p.default.createElement(y.Loading,{spinning:n},a?p.default.createElement(E.default,{mode:"yaml",className:C.default.editor,options:this.editOptions,value:a}):null)),p.default.createElement("div",{className:C.default.card},p.default.createElement(g.default,{title:t.html("CLUSTER_AGENT_TIP_3"),description:t.html("CLUSTER_AGENT_TIP_3_DESC")}))),o&&p.default.createElement(S.default,{name:o}))}},{key:"editOptions",get:function(){return{width:"100%",height:"100%",readOnly:!0}}}]),n}(p.Component))||u)||u)||u;r.default=k},2684:function(e,t,r){"use strict";var n=r(6),a=r(72);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=n(r(12)),c=n(r(13)),l=n(r(19)),i=n(r(20)),s=n(r(18)),d=a(r(0)),f=r(5),p=r(70),m=n(r(657)),h=n(r(2685)),y=n(r(2687));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var g=(0,p.observer)(o=function(e){(0,l.default)(r,e);var t=v(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).store=e.props.store,e.websocket=new m.default,e.initWebsocket=function(){var t=e.props.name;if(t){var r=e.store.getWatchUrl({name:t});r&&(e.websocket.watch(r),e.disposer=(0,f.reaction)((function(){return e.websocket.message}),(function(t){"MODIFIED"!==t.type&&"ADDED"!==t.type||(e.store.detail=e.store.mapper((0,f.toJS)(t.object)))})))}},e}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.initWebsocket()}},{key:"componentWillUnmount",value:function(){this.websocket.close(),this.disposer&&this.disposer()}},{key:"render",value:function(){var e=this.store.detail;return d.default.createElement("div",{className:"padding-12"},d.default.createElement(h.default,{detail:e}),d.default.createElement(y.default,{detail:e}))}}]),r}(d.Component))||o;t.default=g},2685:function(e,r,n){"use strict";var a=n(72),o=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(n(21)),c=o(n(12)),l=o(n(13)),i=o(n(19)),s=o(n(20)),d=o(n(18)),f=a(n(0)),p=o(n(16)),m=o(n(3)),h=n(25),y=n(1394),v=o(n(2686));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var E=function(e){(0,i.default)(n,e);var r=g(n);function n(){return(0,c.default)(this,n),r.apply(this,arguments)}return(0,l.default)(n,[{key:"getBarLength",value:function(e){if(0===e.length)return"20px";var t=e.length-1,r=e[t].status;return"calc(".concat(20*t,"% - ").concat(24*t-(r?80:60),"px)")}},{key:"render",value:function(){var e=(0,p.default)(this.props.detail,"status.Conditions",[]);return f.default.createElement("div",{className:v.default.wrapper},f.default.createElement("div",{className:v.default.card},f.default.createElement("div",{className:v.default.title},t("CLUSTER_CREATION_PROGRESS")," ",f.default.createElement(h.Tooltip,{content:t("CLUSTER_CREATION_PROGRESS_TIP")},f.default.createElement(h.Icon,{name:"question"}))),f.default.createElement("div",{className:v.default.progress},f.default.createElement("div",{className:v.default.bar},f.default.createElement("div",{className:v.default.colorBar,style:{width:this.getBarLength(e)}})),f.default.createElement("div",{className:v.default.dots},y.CLUSTER_CREATING_STEPS.map((function(r,n){return f.default.createElement("div",{key:r,style:{left:"".concat(20*n,"%")}},f.default.createElement("div",{className:(0,m.default)(v.default.circle,(0,u.default)({},v.default.checked,n<=e.length-1))},n<=e.length-1&&((0,p.default)(e,"[".concat(n,"].status"))?f.default.createElement(h.Icon,{name:"check",size:14,type:"light"}):f.default.createElement(h.Icon,{name:"dot",size:14,type:"light"}))),f.default.createElement("div",null,t(r.toUpperCase().replace(/\s+/g,"_"))))}))))))}}]),n}(f.Component);r.default=E},2686:function(e,t,r){e.exports={wrapper:"xYCZzciHY43vhVTrp7xSh",card:"_2kmqpwwfGMsHH9oJWvLCE3",title:"_3MTBbVd_VKS-expBXUCKaT",progress:"_1mVqv7Bvf0EM6_nde2Kyoc",bar:"D50q03_8jlQUkGn4-ArPR",colorBar:"_3ZgBAbIKm1KQvhHUfK1aOp",dots:"rqHnXC7ewOYA30eJNVDPX",circle:"kdmVG3uMIdl6SzCY33nRO",checked:"_3a8-eYwYQuiJ6UzAKAsl3X"}},2687:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=o(n(0)),m=a(n(3)),h=n(5),y=n(70),v=a(n(16)),g=a(n(32)),E=a(n(275)),_=a(n(1137)),O=a(n(736)),b=a(n(657)),S=a(n(992)),C=n(58),T=n(1394),k=a(n(2688));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var D=(0,y.observer)(u=function(e){(0,s.default)(n,e);var r=R(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).watchLogs=function(){var e=(0,v.default)(t.props.detail,"status.jobInfo");t.containerStore.watchLogs({namespace:e.namespace,podName:(0,v.default)(e,"pods[0].name"),container:(0,v.default)(e,"pods[0].containers[0].name"),timestamps:!0,follow:!0},t.scrollToBottom)},t.watchJob=function(){var e=(0,v.default)(t.props.detail,"status.jobInfo"),r=t.workloadStore.getWatchUrl(e);r&&(t.websocket.watch(r),t.jobDisposer=(0,h.reaction)((function(){return t.websocket.message}),(function(e){"MODIFIED"!==e.type&&"ADDED"!==e.type||(t.workloadStore.detail=t.workloadStore.mapper((0,h.toJS)(e.object)))})))},t.handleToggle=function(){t.setState((function(e){return{showContent:!e.showContent}}))},t.scrollToBottom=function(){var e=t.logRef.current;e&&(e.scrollTop=e.scrollHeight)},t.state={showContent:!1},t.logRef=p.default.createRef(),t.workloadStore=new O.default("jobs"),t.containerStore=new S.default,t.websocket=new b.default,t.jobNameDisposer=(0,h.when)((function(){return!(0,g.default)((0,v.default)(t.props.detail,"status.jobInfo.name"))}),(function(){return t.watchJob()})),t.podNameDisposer=(0,h.when)((function(){return!(0,g.default)((0,v.default)(t.props.detail,"status.jobInfo.pods[0].name"))}),(function(){return t.watchLogs()})),t}return(0,i.default)(n,[{key:"componentWillUnmount",value:function(){this.websocket.close(),this.jobDisposer&&this.jobDisposer(),this.jobNameDisposer&&this.jobNameDisposer(),this.podNameDisposer&&this.podNameDisposer(),this.containerStore.stopWatchLogs()}},{key:"renderTitle",value:function(){var e=this.state.showContent,r=(0,v.default)(this.props.detail,"status.Conditions",[]),n=T.CLUSTER_CREATING_STEPS[Math.max(r.length-1,0)],a=(0,h.toJS)(this.workloadStore.detail),o=a.startTime?p.default.createElement(_.default,{data:a,module:"jobs"}):"-";return p.default.createElement("div",{className:(0,m.default)(k.default.title,(0,c.default)({},k.default.isOpen,e)),onClick:this.handleToggle},p.default.createElement(E.default,{icon:"log",title:t("LOGS"),description:t("CURRENT_STEP",{step:t(n.toUpperCase().replace(/\s+/g,"_"))})}),p.default.createElement(E.default,{title:o,description:t("STATUS")}))}},{key:"renderContent",value:function(){var e=this.containerStore.logs.data,r=this.state.showContent,n=(0,g.default)(e)?t("FETCHING_LOGS"):e,a=String(n).replace(/\\r\\n/g,"\n").split("\n");return p.default.createElement("div",{className:(0,m.default)(k.default.content,(0,c.default)({},k.default.visible,r))},p.default.createElement("div",{className:k.default.logs,ref:this.logRef},a.map((function(e,t){var r=e.match(C.PATTERN_UTC_TIME),n=r?r[0]:t,a=r?e.replace(r[0],""):e;return p.default.createElement("p",{key:n,dangerouslySetInnerHTML:{__html:a}})}))))}},{key:"render",value:function(){return p.default.createElement("div",{className:k.default.wrapper},this.renderTitle(),this.renderContent())}}]),n}(p.Component))||u;r.default=D},2688:function(e,t,r){e.exports={wrapper:"_1ZYGr32d6j_R5baIgXQazX",title:"_2ZpzJeyVoDWjVKxqwHGm3g",isOpen:"jTlJLDldR-XG-iyh-mjK3",content:"_3f-fp8mhWq2tAQ_YVhTLKe",visible:"_28OOucN0W4PlaBPh8Ght1Q",logs:"_3ic5zBiEYnODK3W48mXCcw"}},2689:function(e,t,r){e.exports={wrapper:"R9IBUiaF5PkTbPyP6RWNd",title:"_1JQ4zn_Cw-dmE1ZDn69Txe",content:"_1otAQN1KwOXRV4R1rsL2ya",card:"_19gcBhB12xSSxmo7Sz-A-A",copy:"_3ssav0j2qS76PABoSIpIg8",action:"XPuWslQJNnmvAm5rlLuD_"}},2690:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(109)),l=a(n(21)),i=a(n(71)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(0)),y=a(n(16)),v=a(n(139)),g=n(25),E=a(n(727)),_=a(n(724)),O=a(n(728)),b=o(n(726)),S=n(37),C=n(58),T=a(n(873)),k=a(n(1395));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var M=(0,b.default)({store:new T.default,name:"STORAGE_CLASS",module:"storageclasses"})(u=function(e){(0,f.default)(n,e);var r=A(n);function n(){var e;(0,s.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).accessorStore=new k.default,e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.prefix;return[{title:t("NAME"),key:"name",dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return h.default.createElement(E.default,{icon:C.ICON_TYPES[e.module],to:"".concat(a,"/").concat(t),title:(0,S.getDisplayName)(r),desc:r.description})}},{title:t("PVC_COUNT"),dataIndex:"volumeCount",isHideable:!0,render:function(e,t){return(0,y.default)(t,'annotations["kubesphere.io/pvc-count"]')||0}},{title:t("DEFAULT_STORAGE_CLASS"),dataIndex:"default",isHideable:!0,render:function(e){return e?t("YES"):"-"}},{title:t("ALLOW_VOLUME_CLONE"),dataIndex:"annotations",isHideable:!0,render:function(e){return"true"===e["storageclass.kubesphere.io/allow-clone"]?t("TRUE"):t("FALSE")}},{title:t("ALLOW_VOLUME_SNAPSHOT"),dataIndex:"_originData",isHideable:!0,render:function(e){return"true"===e.metadata.annotations["storageclass.kubesphere.io/allow-snapshot"]?t("TRUE"):t("FALSE")}},{title:t("ALLOW_VOLUME_EXPANSION"),dataIndex:"allowVolumeExpansion",isHideable:!0,render:function(e){return e?t("TRUE"):t("FALSE")}},{title:t("PROVISIONER"),dataIndex:"provisioner",isHideable:!0}]},e.showCreate=function(){return e.props.trigger("storageclass.create",{name:"Storage Class",module:e.props.module,cluster:e.props.match.params.cluster,success:e.props.getData})},e.handleBatchDelete=function(){e.props.trigger("storageclass.batch.delete",{accessorStore:e.accessorStore,cluster:e.props.match.params.cluster,success:e.props.getData})},e.handleDelete=function(t){e.props.trigger("storageclass.delete",{detail:t,accessorStore:e.accessorStore,cluster:e.props.match.params.cluster,success:e.props.getData})},e}return(0,d.default)(n,[{key:"validateSelect",value:function(e){var t=this,r=e.callback;return function(){var e=t.list,n=e.selectedRowKeys,a=e.data,o=a.some((function(e){return(0,v.default)(n,e.name)&&e.associationPVCCount}));return o?t.notifyDeleteTips():r.apply(void 0,arguments)}}},{key:"notifyDeleteTips",value:function(){g.Notify.error({content:"".concat(t("DEPENDENT_STORAGE_CLASS_DELETE_TIPS"))})}},{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps;return h.default.createElement(b.ListPage,this.props,h.default.createElement(_.default,t),h.default.createElement(O.default,(0,i.default)({},r,{itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),onCreate:this.showCreate})))}},{key:"tableActions",get:function(){var e=this.props.tableProps,r=(0,y.default)(e,"tableActions.selectActions",[]).filter((function(e){return"delete"!==e.key}));return D(D({},e.tableActions),{},{selectActions:[].concat((0,c.default)(r),[{action:"delete",key:"delete",onClick:this.handleBatchDelete,text:t("DELETE"),type:"danger"}])})}},{key:"itemActions",get:function(){var e=this,r=this.props.tableProps,n=(0,y.default)(r,"itemActions",[]).filter((function(e){return"delete"!==e.key}));return[].concat((0,c.default)(n),[{action:"delete",key:"delete",icon:"trash",onClick:function(t){return e.handleDelete(t)},text:t("DELETE"),type:"danger"}])}}]),n}(h.default.Component))||u;r.default=M},2691:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(724)),y=n(634),v=a(n(763)),g=a(n(2692));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var b=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=O(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=new v.default,e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.store.getKsVersion(this.props.match.params)}},{key:"renderBanner",value:function(){return this.store.ksVersion>=3.3?p.default.createElement(h.default,(0,c.default)({},this.bannerProps,{tips:this.tips,routes:this.routes})):p.default.createElement(h.default,this.bannerProps)}},{key:"render",value:function(){return p.default.createElement(p.default.Fragment,null,this.renderBanner(),(0,y.renderRoutes)(g.default))}},{key:"tips",get:function(){return[{title:t("WHAT_IS_VOLUME_SNAPSHOT_CLASS_Q"),description:t("WHAT_IS_VOLUME_SNAPSHOT_CLASS_A")},{title:t("WHAT_IS_VOLUME_SNAPSHOT_CONTENT_Q"),description:t("WHAT_IS_VOLUME_SNAPSHOT_CONTENT_A")}]}},{key:"bannerProps",get:function(){return{className:"margin-b12",description:t("VOLUME_SNAPSHOT_DESC"),module:"VOLUME_SNAPSHOT",title:t("VOLUME_SNAPSHOT_PL"),icon:"snapshot"}}},{key:"routes",get:function(){return g.default.filter((function(e){return!!e.title})).map((function(e){return _(_({},e),{},{name:e.path.split("/").pop()})}))}}]),n}(p.default.Component))||o)||o;r.default=b},2692:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2693)),u=n(r(2697)),c="/clusters/:cluster/volume-snapshots",l=[{path:"".concat(c,"/snapshots"),title:"VOLUME_SNAPSHOT",component:o.default,exact:!0},{path:"".concat(c,"/snapshot-content"),title:"VOLUME_SNAPSHOT_CONTENT",component:u.default,exact:!0},(0,a.getIndexRoute)({path:c,to:"".concat(c,"/snapshots"),exact:!0})];t.default=l},2693:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=a(n(16)),v=n(58),g=n(726),E=a(n(791)),_=a(n(854)),O=a(n(874)),b=a(n(763)),S=n(37),C=a(n(727)),T=a(n(729)),k=n(25),R=a(n(2696));function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var A=(0,g.withClusterList)({store:new _.default,module:"volume-snapshots",name:"VOLUME_SNAPSHOT",authKey:"volumes"})(o=function(e){(0,d.default)(n,e);var r=D(n);function n(){var e;(0,i.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).volumeStore=new b.default,e.snapshotClass=new O.default,e.showApply=function(e){var t=e.cluster,r=e.namespace;return globals.app.hasPermission({module:"volumes",action:"create",project:r,cluster:t})},e.showCreate=(0,l.default)(c.default.mark((function t(){var r,n,a,o,u,l,i;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.props,n=r.trigger,a=r.store,o=r.match,u=o.params,l=u.cluster,i=u.namespace,n("create.snapshot",{store:a,module:a.module,cluster:l,namespace:i,success:e.props.getData});case 3:case"end":return t.stop()}}),t)}))),e.checkSnapshotClassExist=function(){var t=(0,l.default)(c.default.mark((function t(r){var n,a,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params,a=n.cluster,o=n.namespace,t.next=3,e.snapshotClass.fetchDetail({name:r,cluster:a,namespace:o});case 3:return t.abrupt("return",!(0,h.default)(e.snapshotClass.detail));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,s.default)(n,[{key:"getStatus",value:function(){return v.VOLUME_SNAPSHOT_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"getColumns",value:function(){var e=this.props,r=e.getSortOrder,n=e.getFilteredValue,a=e.module,o=this.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sortOrder:r("name"),search:!0,sorter:!0,render:function(e,t){return m.default.createElement(C.default,{icon:"snapshot",iconSize:40,to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/").concat(a,"/").concat(e),title:e,desc:t.snapshotClassName})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,filters:this.getStatus(),filteredValue:n("status"),search:!0,render:function(e,r){var n=r.errorMessage,a=r.backupStatus;return m.default.createElement("div",{className:R.default.status},m.default.createElement(T.default,{type:a,name:t("CREATE_STATUS_".concat(a.toUpperCase()))})," ",!(0,h.default)(n)&&m.default.createElement(k.Tooltip,{content:n},m.default.createElement(k.Icon,{name:"question"})))}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,render:function(e){return m.default.createElement("div",null,e)}},{title:t("CAPACITY"),dataIndex:"restoreSize",isHideable:!0,width:"20%",render:function(e){return e||"-"}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",isHideable:!0,sorter:!0,sortOrder:r("createTime"),width:"20%",render:function(e){return e?(0,S.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):"-"}}]}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.tableProps;return m.default.createElement(g.ListPage,(0,u.default)({},this.props,{noWatch:!0}),m.default.createElement(E.default,(0,u.default)({},r,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster})))}},{key:"itemActions",get:function(){var e,r=this,n=this.props,a=n.trigger,o=n.routing,u=n.name;return[{key:"apply",icon:"copy",text:t("CREATE_VOLUME"),show:function(e){return r.showApply(e)&&"success"===e.backupStatus&&(0,h.default)(e.error)},onClick:(e=(0,l.default)(c.default.mark((function e(n){var o,u,l,i;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.cluster,u=n.namespace,l=n.snapshotClassName,e.next=3,r.checkSnapshotClassExist(l);case 3:if(e.sent){e.next=7;break}return k.Notify.error({title:t("SNAPSHOT_CLASS_NOT_EXIST_TITLE"),content:t("SNAPSHOT_CLASS_NOT_EXIST")}),e.abrupt("return");case 7:return i=(0,y.default)(n,"_originData.spec.source.persistentVolumeClaimName"),e.next=10,r.volumeStore.fetchDetail({cluster:o,name:i,namespace:u});case 10:a("volume.create",{fromSnapshot:!0,module:"persistentvolumeclaims",cluster:o,namespace:u,store:new b.default,noCodeEdit:!0,extendformTemplate:{spec:{resources:{requests:{storage:(0,y.default)(n,"restoreSize")}},storageClassName:(0,y.default)(r.volumeStore,"detail.storageClassName"),dataSource:{name:(0,y.default)(n,"name"),kind:"VolumeSnapshot",apiGroup:"snapshot.storage.k8s.io"}}}});case 11:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:function(e){return!("deleting"===e.backupStatus)},onClick:function(e){return a("resource.delete",{type:u,detail:e,success:o.query})}}]}}]),n}(m.default.Component))||o;r.default=A},2694:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(109)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=o(n(0)),m=n(70),h=a(n(191)),y=n(25),v=a(n(2695));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var E=(0,m.observer)(u=function(e){(0,s.default)(n,e);var r=g(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).optionRenderer=function(e){return p.default.createElement("span",{className:v.default.option},e.isFedManaged?p.default.createElement("img",{className:v.default.indicator,src:"/assets/cluster.svg"}):p.default.createElement(y.Icon,{name:"project"}),e.label)},e}return(0,i.default)(n,[{key:"getProjects",value:function(){return(0,c.default)(this.props.list.data.map((function(e){return{label:e.name,value:e.name,isFedManaged:e.isFedManaged}})))}},{key:"render",value:function(){var e=this.props,r=e.namespace,n=e.list,a=e.onChange,o=e.onFetch,u=(0,h.default)(n,["page","total","limit"]);return p.default.createElement(y.Select,{className:v.default.select,value:r,onChange:a,options:this.getProjects(),placeholder:t("ALL_PROJECTS"),pagination:u,isLoading:n.isLoading,valueRenderer:this.optionRenderer,optionRenderer:this.optionRenderer,onFetch:o,searchable:!0,clearable:!0})}}]),n}(p.Component))||u;r.default=E},2695:function(e,t,r){e.exports={select:"_2YBMsPA_6y4KarYxsOs4xv",option:"zNLKUmmAgrOglv5eJIpKA"}},2696:function(e,t,r){e.exports={taints:"_2kTcUMUdgsiC4riEcVF9g0",overview:"adVZrnKJD_ZHmemYxhyDL",namespaceFilter:"_289XCtxHfGpGhVMaeyuG8H"}},2697:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(49)),c=a(n(50)),l=a(n(71)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=n(726),y=n(58),v=a(n(728)),g=a(n(727)),E=a(n(729)),_=a(n(1396)),O=a(n(32)),b=n(37);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var C=(0,h.withClusterList)({store:new _.default,module:"volume-snapshot-content",name:"VOLUME_SNAPSHOT_CONTENT",authKey:"volumes"})(o=function(e){(0,d.default)(n,e);var r=S(n);function n(){return(0,i.default)(this,n),r.apply(this,arguments)}return(0,s.default)(n,[{key:"getStatus",value:function(){return y.VOLUME_SNAPSHOT_CLASS_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"getColumns",value:function(){var e=this.props,r=e.getSortOrder,n=e.getFilteredValue,a=this.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sortOrder:r("name"),search:!0,sorter:!0,render:function(e,t){return m.default.createElement(g.default,{icon:"snapshot",iconSize:40,to:"/clusters/".concat(a,"/volume-snapshot-content/").concat(e),title:e,desc:t.snapshotClassName})}},{title:t("STATUS"),dataIndex:"readyToUse",isHideable:!0,filters:this.getStatus(),filteredValue:n("readyToUse"),search:!0,render:function(e,r){var n=r.errorMessage,a=r.status;return m.default.createElement("div",null,m.default.createElement(E.default,{type:a,name:t(a.toUpperCase())})," ",!(0,O.default)(n)&&m.default.createElement(Tooltip,{content:n},m.default.createElement(Icon,{name:"question"})))}},{title:t("CAPACITY"),dataIndex:"restoreSize",isHideable:!0,width:"7%",render:function(e){return"".concat((0,b.memoryFormat)(e,"Gi"),"Gi")}},{title:t("VOLUME_SNAPSHOT_CLASS"),dataIndex:"snapshotClassName",isHideable:!0,width:"14%",render:function(e){return e||"-"}},{title:t("DELETION_POLICY"),dataIndex:"deletionPolicy",isHideable:!0,width:"9.86%",render:function(e){return e||"-"}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",isHideable:!0,sorter:!0,sortOrder:r("createTime"),width:"12.33%",render:function(e){return e?(0,b.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):"-"}}]}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.tableProps;return m.default.createElement(h.ListPage,(0,l.default)({},this.props,{noWatch:!0}),m.default.createElement(v.default,(0,l.default)({},r,{itemActions:this.itemActions,columns:this.getColumns(),cluster:t.params.cluster})))}},{key:"itemActions",get:function(){var e,r=this.props,n=r.trigger,a=r.routing,o=r.name,l=r.store,i=r.match.params.cluster;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),onClick:function(e){n("volume.snapshotContent.baseInfo.edit",{store:l,cluster:i,detail:e,success:a.query})}},{key:"view",icon:"eye",text:t("VIEW_YAML"),onClick:(e=(0,c.default)(u.default.mark((function e(t){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.fetchDetail({name:t.name,cluster:i});case 2:r=e.sent,n("resource.yaml.edit",{readOnly:!0,detail:t,yaml:r._originData});case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return n("resource.delete",{type:o,detail:e,success:a.query})}}]}}]),n}(m.default.Component))||o;r.default=C},2698:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(49)),l=a(n(50)),i=a(n(71)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(0)),y=o(n(726)),v=a(n(727)),g=a(n(724)),E=a(n(728)),_=n(37),O=a(n(874));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var S=(0,y.default)({store:new O.default,module:"volumesnapshotclasses",authKey:"volumes",name:"VOLUME_SNAPSHOT_CLASS",rowKey:"uid"})(u=function(e){(0,f.default)(n,e);var r=b(n);function n(){var e;(0,s.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.prefix;return[{title:t("NAME"),dataIndex:"name",search:!0,sorter:!0,sortOrder:n("name"),render:function(e,t){return h.default.createElement(v.default,{to:"".concat(a,"/").concat(e),title:(0,_.getDisplayName)(t),desc:t.description})}},{title:t("VOLUME_SNAPSHOT_PL"),dataIndex:"count",isHideable:!0,width:"17.6%"},{title:t("PROVISIONER"),dataIndex:"driver",isHideable:!0,width:"17.6%"},{title:t("DELETION_POLICY"),dataIndex:"deletionPolicy",isHideable:!0,width:"17.6%"},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,isHideable:!0,width:"12.3%",render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm")}}]},e.showCreate=function(){e.props.trigger("snapshotClasses.create",{name:"VOLUME_SNAPSHOT_CLASS",module:"volumesnapshotclass",cluster:e.props.match.params.cluster,success:e.props.routing.query})},e}return(0,d.default)(n,[{key:"render",value:function(){var e=this.props,t=e.tableProps,r=e.bannerProps;return h.default.createElement(y.ListPage,(0,i.default)({},this.props,{noWatch:!0}),h.default.createElement(g.default,r),h.default.createElement(E.default,(0,i.default)({},t,{columns:this.getColumns(),itemActions:this.itemActions,onCreate:this.showCreate})))}},{key:"itemActions",get:function(){var e,r,n=this,a=this.props,o=a.trigger,u=a.store,i=a.match,s=a.name,d=i.params.cluster;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:(r=(0,l.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.fetchDetail(t);case 2:r=e.sent,o("resource.baseinfo.edit",{store:u,detail:r,cluster:d,success:n.props.getData});case 4:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"view",show:this.showAction,onClick:(e=(0,l.default)(c.default.mark((function e(t){var r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.fetchDetail(t);case 2:r=e.sent,o("volume.snapshot.yaml.edit",{store:u,detail:r,yaml:r._originData,success:n.props.getData});case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,disabled:this.cantDelete,onClick:function(e){return o("resource.delete",{type:s,detail:e,success:n.props.getData})}}]}}]),n}(h.default.Component))||u;r.default=S},2699:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(724)),y=n(634),v=a(n(962)),g=a(n(2700));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var b=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=O(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).pv=new v.default,t}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.pv.getKsVersion(this.props.match.params)}},{key:"renderBanner",value:function(){return this.pv.ksVersion>=3.2?p.default.createElement(h.default,(0,c.default)({},this.bannerProps,{tips:this.tips,routes:this.routes})):p.default.createElement(h.default,(0,c.default)({},this.bannerProps,{tips:this.tips}))}},{key:"render",value:function(){return p.default.createElement(p.default.Fragment,null,this.renderBanner(),(0,y.renderRoutes)(g.default))}},{key:"tips",get:function(){return[{title:t("WHAT_IS_STORAGE_CLASS_Q"),description:t("WHAT_IS_STORAGE_CLASS_A")},{title:t("WHAT_IS_LOCAL_VOLUME_Q"),description:t("WHAT_IS_LOCAL_VOLUME_A")}]}},{key:"bannerProps",get:function(){return{className:"margin-b12",description:t("PERSISTENT_VOLUME_CLAIM_DESC"),module:"persistentvolumeclaims",title:t("PERSISTENT_VOLUME_CLAIM_PL")}}},{key:"routes",get:function(){return g.default.filter((function(e){return!!e.title})).map((function(e){return _(_({},e),{},{name:e.path.split("/").pop()})}))}}]),n}(p.default.Component))||o)||o;r.default=b},2700:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2701)),u=n(r(2704)),c="/clusters/:cluster/volumes",l=[{path:"".concat(c,"/Volumes"),title:"PERSISTENT_VOLUME_CLAIM_PL",component:o.default,exact:!0},{path:"".concat(c,"/PV"),title:"PERSISTENT_VOLUME_PL",component:u.default,exact:!0},(0,a.getIndexRoute)({path:c,to:"".concat(c,"/Volumes"),exact:!0})];t.default=l},2701:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=n(726),v=a(n(791)),g=a(n(763)),E=n(37),_=n(289),O=n(58),b=a(n(755)),S=n(25),C=a(n(727)),T=a(n(729)),k=n(276),R=a(n(962)),D=a(n(2703));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var M=(0,y.withClusterList)({store:new g.default,module:"persistentvolumeclaims",authKey:"volumes",name:"PERSISTENT_VOLUME_CLAIM",rowKey:"uid"})(o=function(e){(0,d.default)(n,e);var r=A(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).pvStore=new R.default,e.handleTabChange=function(){var t=e.props.match.params.cluster;e.props.rootStore.routing.push("/clusters/".concat(t,"/PV"))},e.showAction=function(e){return!e.isFedManaged},e.getItemDesc=function(e){var t=(0,_.getVolumeStatus)(e);return(0,h.default)(t)?e.storageClassName||"-":m.default.createElement(b.default,{reason:t,data:e,type:"volume"})},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.mapperAccessMode=function(e){var t=(0,E.map_accessModes)(e);return m.default.createElement("span",null,t.join(","))},e.renderAccessTitle=function(){var e=m.default.createElement("div",null,m.default.createElement("div",null,t("ACCESS_MODE_TCAP"),":"),m.default.createElement("div",null,"RWO (ReadWriteOnce): ",t("ACCESS_MODE_RWO")),m.default.createElement("div",null,"ROX (ReadOnlyMany): ",t("ACCESS_MODE_ROX")),m.default.createElement("div",null,"RWX (ReadWriteMany): ",t("ACCESS_MODE_RWX")));return m.default.createElement("div",{className:D.default.mode_title},t("ACCESS_MODE_TCAP"),m.default.createElement(S.Tooltip,{content:e},m.default.createElement(S.Icon,{name:"question",size:16,className:D.default.question})))},e.pvYamlView=function(){var t=(0,l.default)(c.default.mark((function t(r){var n,a;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.spec.volumeName,a=e.props.match.params.cluster,t.next=4,e.pvStore.fetchDetail({cluster:a,name:n});case 4:return t.abrupt("return",e.props.trigger("resource.yaml.edit",{detail:e.pvStore.detail,yaml:e.pvStore.detail._originData,readOnly:!0}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showCreate=function(){var t=e.props,r=t.store,n=t.match,a=t.module;return e.props.trigger("volume.create",{store:r,module:a,cluster:n.params.cluster})},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.store.getKsVersion(this.props.match.params)}},{key:"getStatus",value:function(){return O.VOLUME_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"getColumns",value:function(){var e=this,r=this.props,n=r.getSortOrder,a=r.getFilteredValue,o=this.props.match.params.cluster,u={title:t("PERSISTENT_VOLUME"),dataIndex:"_originData",isHideable:!0,search:!1,width:"28.5%",render:function(r){return m.default.createElement("div",{id:"pvColumn",className:D.default.pv_content},m.default.createElement(k.Link,{to:"/clusters/".concat(o,"/pv/").concat(r.spec.volumeName)},r.spec.volumeName),r.spec.volumeName&&m.default.createElement(S.Tooltip,{content:t("VIEW_YAML")},m.default.createElement(S.Icon,{className:D.default.yaml,name:"log",size:20,onClick:function(){return e.pvYamlView(r)}})))}},c=[{title:t("NAME"),dataIndex:"name",sortOrder:n("name"),search:!0,sorter:!0,render:function(t,r){return m.default.createElement(C.default,{icon:"storage",iconSize:40,to:"Terminating"===r.phase?"":"/clusters/".concat(o,"/projects/").concat(r.namespace,"/volumes/").concat(t),isMultiCluster:r.isFedManaged,desc:e.getItemDesc(r),title:(0,E.getDisplayName)(r)})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,search:!0,filters:this.getStatus(),filteredValue:a("status"),width:"8.8%",render:function(e,r){var n=r.phase;return m.default.createElement(T.default,{type:n,name:t("VOLUME_STATUS_".concat(n.toUpperCase())),flicker:!0})}},{title:this.renderAccessTitle(),dataIndex:"accessModes",isHideable:!1,width:"12.32%",render:function(t){return e.mapperAccessMode(t)}},{title:t("MOUNT_STATUS"),dataIndex:"inUse",isHideable:!0,width:"7.74%",render:function(e){return e?t("MOUNTED"):t("NOT_MOUNTED")}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:140,render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm")}}];return this.props.store.ksVersion>=3.2&&c.splice(2,0,u),c}},{key:"render",value:function(){var e=this.props,t=e.tableProps,r=e.match;return m.default.createElement(y.ListPage,this.props,m.default.createElement(v.default,(0,u.default)({},t,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:r.params.cluster,getCheckboxProps:this.getCheckboxProps})))}},{key:"tips",get:function(){return[{title:t("WHAT_IS_STORAGE_CLASS_Q"),description:t("WHAT_IS_STORAGE_CLASS_A")},{title:t("WHAT_IS_LOCAL_VOLUME_Q"),description:t("WHAT_IS_LOCAL_VOLUME_A")}]}},{key:"tabs",get:function(){return{value:"Volume",onChange:this.handleTabChange,options:[{value:"Volume",label:t("PERSISTENT_VOLUME_CLAIM")},{value:"PV",label:t("PV")}]}}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.yaml.edit",{detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(m.default.Component))||o;r.default=M},2703:function(e,t,r){e.exports={mode_title:"g8QlCJy-fQF9buKTjwNsv",question:"U5zHvmvvHdsAuoC5QNq1",pv_content:"_2jBC4N_eKhB_IMAWm0UTuO",yaml:"_345LgwPnsPDsRv68L_cgry"}},2704:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(21)),l=a(n(71)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=o(n(726)),v=a(n(728)),g=a(n(962)),E=n(37),_=n(25),O=n(289),b=n(58),S=a(n(755)),C=a(n(727)),T=a(n(729)),k=a(n(2705));function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var M=(0,y.default)({store:new g.default,module:"persistentvolumes",name:"PERSISTENT_VOLUME",rowKey:"uid"})(u=function(e){(0,d.default)(n,e);var r=A(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!e.isFedManaged},e.cantDelete=function(e){var t=e.status;return["Bound","Released"].indexOf(t.phase)>-1},e.getItemDesc=function(e){var t=(0,O.getVolumeStatus)(e);return(0,h.default)(t)?e.storageClassName||"-":m.default.createElement(S.default,{reason:t,data:e,type:"volume"})},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged||["Bound","Released"].indexOf(e.status.phase)>-1,name:e.name}},e.renderAccessTitle=function(){var e=m.default.createElement("div",null,m.default.createElement("div",null,t("ACCESS_MODE_TCAP")),m.default.createElement("div",null,"RWO (ReadWriteOnce): ",t("ACCESS_MODE_RWO")),m.default.createElement("div",null,"ROX (ReadOnlyMany): ",t("ACCESS_MODE_ROX")),m.default.createElement("div",null,"RWX (ReadWriteMany): ",t("ACCESS_MODE_RWX")));return m.default.createElement("div",{className:k.default.mode_title},t("ACCESS_MODE_TCAP"),m.default.createElement(_.Tooltip,{content:e},m.default.createElement(_.Icon,{name:"question",size:16,className:k.default.question})))},e.mapperAccessMode=function(e){var t=(0,E.map_accessModes)(e);return m.default.createElement("span",null,t.join(","))},e}return(0,s.default)(n,[{key:"getStatus",value:function(){return b.PV_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"getColumns",value:function(){var e=this,r=this.props,n=r.getSortOrder,a=r.getFilteredValue,o=this.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sortOrder:n("name"),search:!0,sorter:!0,render:function(t,r){return m.default.createElement(C.default,{icon:"storage",iconSize:40,to:"Terminating"===r.phase?"":"/clusters/".concat(o,"/pv/").concat(t),isMultiCluster:r.isFedManaged,desc:e.getItemDesc(r),title:(0,E.getDisplayName)(r)})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,search:!0,filters:this.getStatus(),filteredValue:a("status"),width:"10.56%",render:function(e){var r=e.phase;return m.default.createElement(T.default,{type:r,name:t("PV_STATUS_".concat(r.toUpperCase())),flicker:!0})}},{title:t("CAPACITY"),dataIndex:"capacity",isHideable:!0,width:"7%",render:function(e){return m.default.createElement("div",null,m.default.createElement("p",null,e))}},{title:this.renderAccessTitle(),dataIndex:"accessModes",isHideable:!1,width:"12.32%",render:function(t){return e.mapperAccessMode(t)}},{title:t("RECLAIM_POLICY"),dataIndex:"_originData",isHideable:!0,width:"7.74%",render:function(e){return e.spec.persistentVolumeReclaimPolicy}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:140,render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm")}}]}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.tableProps;return m.default.createElement(y.ListPage,this.props,m.default.createElement(v.default,(0,l.default)({},r,{itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps,renderProjectSelect:!1})))}},{key:"itemActions",get:function(){var e=this,r=this.props.trigger;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(t){return r("resource.baseinfo.edit",{detail:t,success:e.props.getData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"view",show:this.showAction,onClick:function(t){return r("resource.yaml.edit",{detail:t,success:e.props.getData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,disabled:this.cantDelete,onClick:function(t){return r("pv.delete",D(D({},e.props.tableProps),{},{detail:t,success:e.props.getData}))}}]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.trigger;return D(D({},r.tableProps.tableActions),{},{selectActions:[{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",show:this.showAction,onClick:function(){return n("pv.batch.delete",D(D({},e.props.tableProps),{},{success:e.props.getData}))}}]})}}]),n}(m.default.Component))||u;r.default=M},2705:function(e,t,r){e.exports={mode_title:"_2vs_PnSPXebgvBy3nZuegb",question:"_3Y4c2IH7tgyRPkhZQxNA_0",pv_content:"_14XQ8_zmRwCjtgkz04Wzge",yaml:"_2_YhNvXVq70vjV7Tj6V3qY"}},2706:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(21)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(0)),y=a(n(32)),v=a(n(16)),g=n(25),E=n(37),_=n(58),O=n(296),b=n(725),S=a(n(837)),C=a(n(877)),T=a(n(658)),k=n(726),R=a(n(727)),D=a(n(729)),A=a(n(723)),M=a(n(275)),N=a(n(274)),P=a(n(724)),I=a(n(728)),w=n(5),L=a(n(2707));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var V={cpu_used:"node_cpu_usage",cpu_total:"node_cpu_total",cpu_utilisation:"node_cpu_utilisation",memory_used:"node_memory_usage_wo_cache",memory_total:"node_memory_total",memory_utilisation:"node_memory_utilisation",pod_used:"node_pod_running_count",pod_total:"node_pod_quota"},Y=(0,k.withClusterList)({store:new S.default,name:"CLUSTER_NODE",module:"nodes"})(o=function(e){(0,f.default)(n,e);var r=U(n);function n(){var e;(0,s.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=e.props.store,e.monitoringStore=new C.default({cluster:e.cluster}),e.getData=function(){var t=(0,i.default)(c.default.mark((function t(r){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchList(x(x({},r),e.props.match.params));case 2:return t.next=4,e.monitoringStore.fetchMetrics(x(x({},e.props.match.params),{},{resources:e.store.list.data.map((function(e){return e.name})),metrics:Object.values(V),last:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUnschedulable=function(e){return e.taints.some((function(e){return"node.kubernetes.io/unschedulable"===e.key}))},e.getReady=function(e){return e.conditions.some((function(e){return"Ready"===e.type&&"True"===e.status}))},e.handleOpenTerminal=function(t){var r=N.default.open({onOk:function(){N.default.close(r)},modal:T.default,cluster:e.cluster,title:t.name,nodename:t.name,isEdgeNode:!0})},e.getLastValue=function(t,r,n){var a=e.monitoringStore.data,o=((0,v.default)(a[r],"data.result")||[]).find((function(e){return(0,v.default)(e,"metric.node")===t.name}));return(0,b.getValueByUnit)((0,v.default)(o,"value[1]",0),n)},e.getRecordMetrics=function(t,r){var n={};return r.forEach((function(r){n[r.type]=parseFloat(e.getLastValue(t,V[r.type],r.unit))})),n},e.renderTaintsTip=function(e){return h.default.createElement("div",null,h.default.createElement("div",null,t("TAINTS"),":"),h.default.createElement("div",null,e.map((function(e){var t="".concat(e.key,"=").concat(e.value||"",":").concat(e.effect);return h.default.createElement("div",{key:t},t)}))))},e.getColumns=function(){var r=e.props,n=r.module,a=r.prefix,o=r.getSortOrder,u=r.getFilteredValue;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:o("name"),search:!0,render:function(e,t){return h.default.createElement(R.default,{icon:_.ICON_TYPES[n],iconSize:40,to:"success"!==t.importStatus?null:"".concat(a,"/").concat(e),title:e,desc:t.ip})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:u("status"),isHideable:!0,search:!0,render:function(r,n){var a=(0,O.getNodeStatus)(n),o=n.taints;return h.default.createElement("div",{className:L.default.status},h.default.createElement(D.default,{type:a,name:t("NODE_STATUS_".concat(a.toUpperCase()))}),!(0,y.default)(o)&&"success"===n.importStatus&&h.default.createElement(g.Tooltip,{content:e.renderTaintsTip(o)},h.default.createElement("span",{className:L.default.taints},o.length)))}},{title:t("ROLE"),dataIndex:"role",isHideable:!0,search:!0,render:function(e){return-1===e.indexOf("master")?t("WORKER"):t("CONTROL_PLANE")}},{title:t("CPU_USAGE"),key:"cpu",isHideable:!0,render:function(r){var n=e.getRecordMetrics(r,[{type:"cpu_used",unit:"Core"},{type:"cpu_total",unit:"Core"},{type:"cpu_utilisation"}]);return h.default.createElement(M.default,{title:h.default.createElement("div",{className:L.default.resource},h.default.createElement("span",null,"".concat(Math.round(100*n.cpu_utilisation),"%")),n.cpu_utilisation>=.9&&h.default.createElement(g.Icon,{name:"exclamation"})),description:"".concat(n.cpu_used,"/").concat(n.cpu_total," ").concat(t("CORE_PL"))})}},{title:t("MEMORY_USAGE"),key:"memory",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"memory_used",unit:"Gi"},{type:"memory_total",unit:"Gi"},{type:"memory_utilisation"}]);return h.default.createElement(M.default,{title:h.default.createElement("div",{className:L.default.resource},h.default.createElement("span",null,"".concat(Math.round(100*r.memory_utilisation),"%")),r.memory_utilisation>=.9&&h.default.createElement(g.Icon,{name:"exclamation"})),description:"".concat(r.memory_used,"/").concat(r.memory_total," GiB")})}},{title:t("POD_PL"),key:"pods",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"pod_used"},{type:"pod_total"}]),n=r.pod_total?parseFloat(r.pod_used/r.pod_total):0;return h.default.createElement(M.default,{title:"".concat(Math.round(100*n),"%"),description:"".concat(r.pod_used,"/").concat(r.pod_total)})}},{title:t("ALLOCATED_CPU"),key:"allocated_resources_cpu",isHideable:!0,render:e.renderCPUTooltip},{title:t("ALLOCATED_MEMORY"),key:"allocated_resources_memory",isHideable:!0,render:e.renderMemoryTooltip}]},e.renderCPUTooltip=function(e){var r=h.default.createElement("p",null,1===(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_LIMIT_SI",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}):t("CPU_LIMIT_PL",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}));return h.default.createElement(g.Tooltip,{content:r,placement:"top"},h.default.createElement(M.default,{title:1===(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests"]'))?t("CPU_REQUEST_SI",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}):t("CPU_REQUEST_PL",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e.renderMemoryTooltip=function(e){var r=h.default.createElement("p",null,t("MEMORY_LIMIT_VALUE",{gib:(0,E.memoryFormat)((0,v.default)(e,'annotations["node.kubesphere.io/memory-limits"]'),"Gi"),percent:(0,v.default)(e,'annotations["node.kubesphere.io/memory-limits-fraction"]')}));return h.default.createElement(g.Tooltip,{content:r,placement:"top"},h.default.createElement(M.default,{title:t("MEMORY_REQUEST_VALUE",{gib:(0,E.memoryFormat)((0,v.default)(e,'annotations["node.kubesphere.io/memory-requests"]'),"Gi"),percent:(0,v.default)(e,'annotations["node.kubesphere.io/memory-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.store.fetchCount(this.props.match.params)}},{key:"getStatus",value:function(){return _.NODE_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"renderOverview",value:function(){var e=this.store,r=e.masterNum,n=e.masterCount,a=e.masterWorkerCount,o=e.list.total,u=Math.max(Number(o)-Number(n)+Number(a),0);return h.default.createElement(A.default,{className:"margin-b12"},h.default.createElement("div",{className:L.default.overview},h.default.createElement(M.default,{icon:"nodes",title:o,description:1===o?t("NODE_SI"):t("NODE_PL")}),h.default.createElement(M.default,{title:r,description:1===r?t("MASTER_NODE_SI"):t("MASTER_NODE_PL")}),h.default.createElement(M.default,{title:u,description:1===u?t("WORKER_NODE_SI"):t("WORKER_NODE_PL")})))}},{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps,a=this.monitoringStore.isLoading;return h.default.createElement(k.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),h.default.createElement(P.default,(0,u.default)({},r,{title:t("CLUSTER_NODE_PL"),tips:this.tips})),this.renderOverview(),h.default.createElement(I.default,(0,u.default)({},n,{itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),isLoading:n.isLoading||a})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"tips",get:function(){return[{title:t("NODE_TYPES_Q"),description:t("NODE_TYPES_A")},{title:t("WHAT_IS_NODE_TAINTS_Q"),description:t("WHAT_IS_NODE_TAINTS_A")}]}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.store,a=r.clusterStore,o=r.routing,u=r.trigger,c=r.name;return[{key:"uncordon",icon:"start",text:t("UNCORDON"),action:"edit",show:function(t){return"success"===t.importStatus&&e.getUnschedulable(t)},onClick:function(e){return n.uncordon(e).then(o.query)}},{key:"cordon",icon:"stop",text:t("CORDON"),action:"edit",show:function(t){return"success"===t.importStatus&&!e.getUnschedulable(t)},onClick:function(e){return n.cordon(e).then(o.query)}},{key:"terminal",icon:"terminal",text:t("OPEN_TERMINAL"),action:"edit",show:function(t){return"success"===t.importStatus&&e.getReady(t)},onClick:function(t){return e.handleOpenTerminal(t)}},{key:"logs",icon:"eye",text:t("VIEW_LOG"),action:"edit",show:function(e){return"success"!==e.importStatus},onClick:function(){return u("node.add.log",{detail:(0,w.toJS)(a.detail)})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:function(e){return"failed"===e.importStatus},onClick:function(e){return u("resource.delete",{type:c,detail:e,success:o.query})}}]}},{key:"tableActions",get:function(){var e=this.props,r=e.trigger,n=e.routing,a=e.clusterStore,o=e.tableProps,u=[];return a.detail.kkName&&u.push({key:"add",type:"control",text:t("ADD"),action:"create",onClick:function(){return r("node.add",{kkName:a.detail.kkName||"ddd"})}}),x(x({},o.tableActions),{},{actions:u,selectActions:[{key:"taint",type:"default",text:t("EDIT_TAINTS"),action:"edit",onClick:function(){return r("node.taint.batch",{success:n.query})}}]})}}]),n}(h.default.Component))||o;r.default=Y},2707:function(e,t,r){e.exports={taints:"B4t1khP3gUFICAah4YTP5",overview:"_39TiTBliLeivJdhXYoDplZ",resource:"_1f_DIoH3TOaX8dMUSn7UMb"}},2708:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(21)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(0)),y=a(n(32)),v=a(n(16)),g=n(25),E=n(37),_=n(58),O=n(296),b=n(725),S=a(n(1075)),C=a(n(877)),T=a(n(658)),k=n(726),R=a(n(727)),D=a(n(729)),A=a(n(275)),M=a(n(274)),N=a(n(724)),P=a(n(728)),I=n(5),w=a(n(2709));function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var U={cpu_used:"node_cpu_usage",cpu_total:"node_cpu_total",cpu_utilisation:"node_cpu_utilisation",memory_used:"node_memory_usage_wo_cache",memory_total:"node_memory_total",memory_utilisation:"node_memory_utilisation",pod_used:"node_pod_running_count",pod_total:"node_pod_quota"},V=(0,k.withClusterList)({store:new S.default,name:"EDGE_NODE",module:"edgenodes"})(o=function(e){(0,f.default)(n,e);var r=x(n);function n(){var e;(0,s.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=e.props.store,e.monitoringStore=new C.default({cluster:e.cluster}),e.getData=function(){var t=(0,i.default)(c.default.mark((function t(r){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchList(j(j(j({},r),e.props.match.params),{},{type:"edgenode"}));case 2:return t.next=4,e.monitoringStore.fetchMetrics(j(j({},e.props.match.params),{},{resources:e.store.list.data.map((function(e){return e.name})),metrics:Object.values(U),last:!0}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUnschedulable=function(e){return e.taints.some((function(e){return"node.kubernetes.io/unschedulable"===e.key}))},e.getReady=function(e){return e.conditions.some((function(e){return"Ready"===e.type&&"True"===e.status}))},e.handleOpenTerminal=function(t){var r=M.default.open({onOk:function(){M.default.close(r)},modal:T.default,cluster:e.cluster,title:t.name,nodename:t.name})},e.getLastValue=function(t,r,n){var a=e.monitoringStore.data,o=((0,v.default)(a[r],"data.result")||[]).find((function(e){return(0,v.default)(e,"metric.node")===t.name}));return(0,b.getValueByUnit)((0,v.default)(o,"value[1]",0),n)},e.getRecordMetrics=function(t,r){var n={};return r.forEach((function(r){n[r.type]=parseFloat(e.getLastValue(t,U[r.type],r.unit))})),n},e.renderTaintsTip=function(e){return h.default.createElement("div",null,h.default.createElement("div",null,t("TAINTS"),":"),h.default.createElement("div",null,e.map((function(e){var t="".concat(e.key,"=").concat(e.value||"",":").concat(e.effect);return h.default.createElement("div",{key:t},t)}))))},e.getColumns=function(){var r=e.props,n=r.module,a=r.prefix,o=r.getSortOrder,u=r.getFilteredValue;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:o("name"),search:!0,render:function(e,t){return h.default.createElement(R.default,{icon:_.ICON_TYPES[n],iconSize:40,to:"success"!==t.importStatus?null:"".concat(a,"/").concat(e),title:e,desc:t.ip})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:u("status"),isHideable:!0,search:!0,render:function(r,n){var a=(0,O.getNodeStatus)(n),o=n.taints;return h.default.createElement("div",{className:w.default.status},h.default.createElement(D.default,{type:a,name:t("NODE_STATUS_".concat(a.toUpperCase()))}),!(0,y.default)(o)&&"success"===n.importStatus&&h.default.createElement(g.Tooltip,{content:e.renderTaintsTip(o)},h.default.createElement("span",{className:w.default.taints},o.length)))}},{title:t("ROLE"),dataIndex:"role",isHideable:!0,search:!0,render:function(e){return e.map((function(e){return t(e.replace("-","_").toUpperCase())})).join("/")}},{title:t("CPU"),key:"cpu",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"cpu_used",unit:"Core"},{type:"cpu_total",unit:"Core"},{type:"cpu_utilisation"}]);return h.default.createElement(A.default,{title:h.default.createElement("div",{className:w.default.resource},h.default.createElement("span",null,"".concat(Math.round(100*r.cpu_utilisation),"%")),r.cpu_utilisation>=.9&&h.default.createElement(g.Icon,{name:"exclamation"})),description:"".concat(r.cpu_used,"/").concat(r.cpu_total," Core")})}},{title:t("MEMORY"),key:"memory",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"memory_used",unit:"Gi"},{type:"memory_total",unit:"Gi"},{type:"memory_utilisation"}]);return h.default.createElement(A.default,{title:h.default.createElement("div",{className:w.default.resource},h.default.createElement("span",null,"".concat(Math.round(100*r.memory_utilisation),"%")),r.memory_utilisation>=.9&&h.default.createElement(g.Icon,{name:"exclamation"})),description:"".concat(r.memory_used,"/").concat(r.memory_total," GiB")})}},{title:t("POD_PL"),key:"pods",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"pod_used"},{type:"pod_total"}]),n=r.pod_total?parseFloat(r.pod_used/r.pod_total):0;return h.default.createElement(A.default,{title:"".concat(Math.round(100*n),"%"),description:"".concat(r.pod_used,"/").concat(r.pod_total)})}},{title:t("ALLOCATED_CPU"),key:"allocated_resources_cpu",isHideable:!0,render:e.renderCPUTooltip},{title:t("ALLOCATED_MEMORY"),key:"allocated_resources_memory",isHideable:!0,render:e.renderMemoryTooltip}]},e.renderCPUTooltip=function(e){var r=h.default.createElement("p",null,1===(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_LIMIT_SI",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}):t("CPU_LIMIT_PL",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}));return h.default.createElement(g.Tooltip,{content:r,placement:"top"},h.default.createElement(A.default,{title:1===(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_REQUEST_SI",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}):t("CPU_REQUEST_PL",{core:(0,E.cpuFormat)((0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,v.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e.renderMemoryTooltip=function(e){var r=h.default.createElement("p",null,t("MEMORY_LIMIT_VALUE",{gib:(0,E.memoryFormat)((0,v.default)(e,'annotations["node.kubesphere.io/memory-limits"]'),"Gi"),percent:(0,v.default)(e,'annotations["node.kubesphere.io/memory-limits-fraction"]')}));return h.default.createElement(g.Tooltip,{content:r,placement:"top"},h.default.createElement(A.default,{title:t("MEMORY_REQUEST_VALUE",{gib:(0,E.memoryFormat)((0,v.default)(e,'annotations["node.kubesphere.io/memory-requests"]'),"Gi"),percent:(0,v.default)(e,'annotations["node.kubesphere.io/memory-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster})},e}return(0,d.default)(n,[{key:"getStatus",value:function(){return _.NODE_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps,a=this.monitoringStore.isLoading;return h.default.createElement(k.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),h.default.createElement(N.default,(0,u.default)({},r,{title:t("EDGE_NODE_PL"),tips:this.tips})),h.default.createElement(P.default,(0,u.default)({},n,{onCreate:this.showCreate,itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),isLoading:n.isLoading||a})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.store,a=r.clusterStore,o=r.routing,u=r.trigger,c=r.name;return[{key:"uncordon",icon:"start",text:t("UNCORDON"),action:"edit",show:function(t){return"success"===t.importStatus&&e.getUnschedulable(t)},onClick:function(e){return n.uncordon(e).then(o.query)}},{key:"cordon",icon:"stop",text:t("CORDON"),action:"edit",show:function(t){return"success"===t.importStatus&&!e.getUnschedulable(t)},onClick:function(e){return n.cordon(e).then(o.query)}},{key:"terminal",icon:"terminal",text:t("OPEN_TERMINAL"),action:"edit",show:function(t){return"success"===t.importStatus&&e.getReady(t)},onClick:function(t){return e.handleOpenTerminal(t)}},{key:"logs",icon:"eye",text:t("VIEW_LOG"),action:"edit",show:function(e){return"success"!==e.importStatus},onClick:function(){return u("node.add.log",{detail:(0,I.toJS)(a.detail)})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:function(e){return"failed"===e.importStatus},onClick:function(e){return u("resource.delete",{type:c,detail:e,success:o.query})}}]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.routing,o=r.tableProps,u=[];return u.push({key:"add",type:"control",text:t("ADD"),action:"create",onClick:function(){return n("node.edge.add",{cluster:e.cluster,store:e.store})}}),j(j({},o.tableActions),{},{actions:u,selectActions:[{key:"taint",type:"default",text:t("EDIT_TAINTS"),action:"edit",onClick:function(){return n("node.taint.batch",{success:a.query})}}]})}},{key:"tips",get:function(){return[{title:t("WHAT_IS_NODE_TAINTS_Q"),description:t("WHAT_IS_NODE_TAINTS_A")}]}}]),n}(h.default.Component))||o;r.default=V},2709:function(e,t,r){e.exports={taints:"HoethcQ_rhN4mGKbK1rRH",overview:"_2-0e3OqOhUZTSiIln7YHO",resource:"_2HmdPdvlQ9R5HSNv-z7Xr8"}},2710:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(70),p=a(n(32)),m=n(25),h=a(n(724)),y=n(279),v=a(n(1136)),g=a(n(2711)),E=a(n(2713));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var O=(0,f.inject)("rootStore")(o=(0,f.observer)(o=function(e){(0,l.default)(n,e);var r=_(n);function n(e){var a;(0,u.default)(this,n),(a=r.call(this,e)).getColor=function(e){return e?"#f5a623":"#1890ff"},a.getCount=function(e){var t=a.store.exceptionCount,r=a.store.healthyCount;return t[e]||r[e]||0},a.getConfigs=function(){return[{type:"KubeSphere",title:"Xcloud",icon:"/assets/kubesphere.svg"},{type:"kubernetes",title:"Kubernetes",icon:"/assets/kubernetes.svg"},{type:"istio",title:t("APPLICATION_GOVERNANCE"),icon:"/assets/istio.svg",disabled:!globals.app.hasClusterModule(a.cluster,"servicemesh")},{type:"monitoring",title:t("MONITORING"),icon:"/assets/monitoring.svg",disabled:!globals.app.hasClusterModule(a.cluster,"monitoring")},{type:"logging",title:t("LOGGING"),icon:"/assets/logging.svg",disabled:!globals.app.hasClusterModule(a.cluster,"logging")},{type:"devops",title:"DevOps",icon:"/assets/dev-ops.svg",disabled:!globals.app.hasClusterModule(a.cluster,"devops")}]},a.handleTypeChange=function(e){a.setState({type:e})};var o=((0,y.parse)(location.search.slice(1))||{}).type;return a.state={type:o||"kubesphere"},a.configs=a.getConfigs(),a.store=new v.default,a.store.fetchList({cluster:a.cluster}),a}return(0,c.default)(n,[{key:"renderHeader",value:function(){return d.default.createElement(h.default,{icon:"components",title:t("SYSTEM_COMPONENT_PL"),description:t("SERVICE_COMPONENTS_DESC"),extra:d.default.createElement("div",{className:E.default.toolbar},this.renderBar())})}},{key:"renderBar",value:function(){var e=this,t=this.store.exceptionCount;return console.log("+++",t),d.default.createElement("div",{className:"inline-block"},d.default.createElement(m.RadioGroup,{mode:"button",value:this.state.type,onChange:this.handleTypeChange},this.configs.filter((function(e){return!e.disabled})).map((function(r){var n=r.type,a=r.title;return d.default.createElement(m.RadioButton,{key:n,value:n},a,d.default.createElement(m.Tag,{color:e.getColor(t[n])},e.getCount(n)))}))))}},{key:"renderCards",value:function(e){var t=this;return d.default.createElement("div",{className:E.default.cards},e.map((function(e){return d.default.createElement(g.default,{key:e.name,component:e,cluster:t.cluster})})))}},{key:"renderComponents",value:function(e){var t=this.store.list.data,r=this.configs.find((function(t){return t.type===e}))||{},n=t[e];return(0,p.default)(n)?null:d.default.createElement("div",{className:E.default.cardsWrapper},d.default.createElement("div",{className:E.default.cardTitle},d.default.createElement("img",{src:r.icon,alt:r.title})),this.renderCards(n))}},{key:"renderList",value:function(){var e=this.store.list.isLoading,t=this.state.type;return e?d.default.createElement("div",{className:"loading"},d.default.createElement(m.Loading,null)):this.renderComponents(t)}},{key:"render",value:function(){return d.default.createElement("div",{className:E.default.wrapper},this.renderHeader(),this.renderList())}},{key:"prefix",get:function(){return this.props.match.url}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(d.default.Component))||o)||o;r.default=O},2711:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(137)),u=a(n(0)),c=n(276),l=n(25),i=a(n(729)),s=a(n(275)),d=n(289),f=a(n(2712)),p=function(e){var r=e.cluster,n=e.component,a=void 0===n?{}:n,p=a.name,m=a.namespace,h=(0,d.getComponentStatus)(a),y="".concat(String(p).replace(/[- ]/g,"_").toUpperCase(),"_DESC"),v=t(y);return u.default.createElement("div",{className:f.default.card,"data-test":"service-component"},u.default.createElement(l.Columns,null,u.default.createElement(l.Column,null,u.default.createElement(s.default,{icon:"components",title:u.default.createElement(c.Link,{to:"/clusters/".concat(r,"/components/").concat(m,"/").concat(p)},p),description:v!==y?u.default.createElement("p",null,v):null})),u.default.createElement(l.Column,{className:"is-2"},u.default.createElement(s.default,{title:u.default.createElement(i.default,{type:h,name:t(h.toUpperCase())}),description:t("STATUS")})),u.default.createElement(l.Column,{className:"is-2"},u.default.createElement(s.default,{title:"".concat(a.healthyBackends,"/").concat(a.totalBackends),description:t("REPLICA_COUNT")})),u.default.createElement(l.Column,{className:"is-2"},u.default.createElement(s.default,{title:a.startedAt?(0,o.default)(a.startedAt).toNow(!0):"-",description:t("RUNNING_TIME")}))))};r.default=p},2712:function(e,t,r){e.exports={card:"_3O6k823fCfWBHm-4VH76MN"}},2713:function(e,t,r){e.exports={header:"_1-v5mSMLmxnQo7Tu8omd_Z",title:"_3FG6c5gZtLtRyuppsme5WY",leftIcon:"_1x8pzzm00S4pgPncQM94Nh",rightIcon:"L7cV3c7hdKq6JtRIgkKlE",toolbar:"PwUtcNaXagxdRnj7x31t9",cardsWrapper:"gLLpHGp47EN2wrIe50Kvd",cardTitle:"_1_xaHL38_uU-TZcr3Fpw2n"}},2714:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(49)),i=a(n(56)),s=a(n(50)),d=a(n(21)),f=a(n(12)),p=a(n(13)),m=a(n(19)),h=a(n(20)),y=a(n(18)),v=a(n(0)),g=a(n(16)),E=a(n(190)),_=a(n(727)),O=a(n(729)),b=a(n(724)),S=a(n(728)),C=o(n(726)),T=n(37),k=n(725),R=a(n(753)),D=a(n(1025));function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,h.default)(this,r)}}var P={cpu:"namespace_cpu_usage",memory:"namespace_memory_usage_wo_cache",pod:"namespace_pod_count"},I=(0,C.default)({store:new R.default,name:"PROJECT",module:"projects"})(u=function(e){(0,m.default)(n,e);var r=N(n);function n(){var e;(0,f.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).monitoringStore=new D.default,e.showAction=function(e){return!e.isFedManaged},e.handleFetch=function(t,r){e.props.routing.query(M(M({},t),{},{type:e.type}),r)},e.handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/projects?type=").concat(t))},e.getData=(0,s.default)(l.default.mark((function t(){var r,n,a,o,u=arguments;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:{},n=r.silent,a=(0,i.default)(r,["silent"]),e.query=a,a.type=a.type||"user",e.type=a.type,o=e.props.store,n&&(o.list.silent=!0),t.next=8,o.fetchList(M(M({},e.props.match.params),a));case 8:return t.next=10,e.monitoringStore.fetchMetrics(M(M({},e.props.match.params),{},{resources:o.list.data.map((function(e){return e.name})),metrics:Object.values(P),last:!0}));case 10:o.list.silent=!1;case 11:case"end":return t.stop()}}),t)}))),e.getLastValue=function(t,r,n){var a=e.monitoringStore.data,o=((0,g.default)(a,"".concat(r,".data.result"))||[]).find((function(e){return(0,g.default)(e,"metric.namespace")===t.name}));return(0,k.getValueByUnit)((0,g.default)(o,"value[1]",0),n)},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.prefix;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),render:function(e,t){return v.default.createElement(_.default,{to:"Terminating"===t.status?null:"".concat(a,"/").concat(e),icon:"project",iconSize:40,isMultiCluster:t.isFedHostNamespace,desc:t.description||"-",title:(0,T.getDisplayName)(t)})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,render:function(e){return v.default.createElement(O.default,{type:e,name:t(e.toUpperCase()),flicker:!0})}},{title:t("WORKSPACE"),dataIndex:"workspace",isHideable:!0},{title:t("CPU_USAGE"),key:"namespace_cpu_usage",isHideable:!0,render:function(t){return(0,k.getSuitableValue)(e.getLastValue(t,P.cpu),"cpu","-")}},{title:t("MEMORY_USAGE"),key:"namespace_memory_usage_wo_cache",isHideable:!0,render:function(t){return(0,k.getSuitableValue)(e.getLastValue(t,P.memory),"memory","-")}},{title:t("POD_PL"),key:"namespace_pod_count",isHideable:!0,render:function(t){return e.getLastValue(t,P.pod)}}]},e.showCreate=function(){return e.props.trigger("project.create",M(M({},e.props.match.params),{},{success:function(){return e.getData()}}))},e}return(0,p.default)(n,[{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps,n=this.monitoringStore.isLoading;return v.default.createElement(C.ListPage,(0,c.default)({},this.props,{getData:this.getData,module:"namespaces"}),v.default.createElement(b.default,(0,c.default)({},t,{tabs:this.tabs})),v.default.createElement(S.default,(0,c.default)({},r,{itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),onCreate:"system"===this.type?null:this.showCreate,isLoading:r.isLoading||n,searchType:"name"})))}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.routing,o=r.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.baseinfo.edit",{detail:(0,E.default)(e,"workspace"),success:a.query})}},{key:"modify",icon:"restart",text:t("ASSIGN_WORKSPACE"),action:"manage",show:function(t){return!t.workspace&&e.showAction(t)},onClick:function(e){return n("project.assignworkspace",{detail:e,success:a.query})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:function(t){return t.workspace!==globals.config.systemWorkspace&&e.showAction(t)},onClick:function(e){return n("resource.delete",{type:o,resource:e.name,detail:(0,E.default)(e,"workspace"),success:a.query})}}]}},{key:"tabs",get:function(){return{value:this.type||"user",onChange:this.handleTabChange,options:[{value:"user",label:t("USER_PROJECTS")},{value:"system",label:t("SYSTEM_PROJECTS")}]}}},{key:"tableActions",get:function(){return M(M({},this.props.tableProps.tableActions),{},{onFetch:this.handleFetch})}}]),n}(v.default.Component))||u;r.default=I},2715:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=a(n(727)),h=a(n(724)),y=a(n(728)),v=o(n(726)),g=n(37),E=a(n(1138));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var O=(0,v.default)({store:new E.default,module:"customresourcedefinitions",name:"CRD"})(u=function(e){(0,s.default)(n,e);var r=_(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getColumns=function(){var r=e.props.match.params.cluster,n=e.props.getSortOrder;return[{title:t("KIND_TCAP"),dataIndex:"kind",render:function(e,t){return p.default.createElement(m.default,{to:"/clusters/".concat(r,"/customresources/").concat(t.name),title:e,desc:"".concat(t.group,"/").concat(t.latestVersion)})}},{title:t("NAME"),key:"name",dataIndex:"name"},{title:t("SCOPE_TCAP"),key:"scope",dataIndex:"scope"},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:"19%",render:function(e){return(0,g.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps;return p.default.createElement(v.ListPage,(0,c.default)({},this.props,{noWatch:!0}),p.default.createElement(h.default,(0,c.default)({},t,{tabs:this.tabs})),p.default.createElement(y.default,(0,c.default)({},r,{itemActions:[],columns:this.getColumns(),onCreate:null,searchType:"name"})))}}]),n}(p.default.Component))||u;r.default=O},2716:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(109)),c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=a(n(16)),h=n(276),y=a(n(727)),v=a(n(724)),g=n(726),E=a(n(890)),_=a(n(755)),O=a(n(791)),b=n(37),S=n(289),C=n(58),T=a(n(736));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var R=(0,g.withClusterList)({store:new T.default("deployments"),module:"deployments",name:"WORKLOAD",rowKey:"uid"})(o=function(e){(0,s.default)(n,e);var r=k(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/").concat(t))},e.showAction=function(e){return!e.isFedManaged},e.getItemDesc=function(r){var n=(0,S.getWorkloadStatus)(r,e.props.module),a=n.status,o=n.reason;return o?p.default.createElement(_.default,{status:a,reason:t(o),data:r}):r.description||"-"},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue,o=r.module,u=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return p.default.createElement(y.default,{icon:C.ICON_TYPES[o],iconSize:40,title:(0,b.getDisplayName)(r),desc:e.getItemDesc(r),isMultiCluster:r.isFedManaged,to:"/clusters/".concat(u,"/projects/").concat(r.namespace,"/").concat(o,"/").concat(t)})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,width:"22%",render:function(e,t){return p.default.createElement(E.default,{data:t,module:o})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"22%",render:function(e){return p.default.createElement(h.Link,{to:"/clusters/".concat(u,"/projects/").concat(e)},e)}},{title:t("UPDATE_TIME_TCAP"),dataIndex:"updateTime",sorter:!0,sortOrder:n("updateTime"),isHideable:!0,width:150,render:function(e){return(0,b.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster,supportGpuSelect:!0})},e}return(0,i.default)(n,[{key:"getStatus",value:function(){return C.WORKLOAD_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return p.default.createElement(g.ListPage,this.props,p.default.createElement(v.default,(0,c.default)({},r,{tabs:this.tabs})),p.default.createElement(O.default,(0,c.default)({},n,{itemActions:this.itemActions,selectActions:this.selectActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps})))}},{key:"tabs",get:function(){return{value:this.props.module,onChange:this.handleTabChange,options:[{value:"deployments",label:t("DEPLOYMENTS")},{value:"statefulsets",label:t("STATEFULSETS")},{value:"daemonsets",label:t("DAEMONSETS")}]}}},{key:"selectActions",get:function(){var e=this.props,r=e.tableProps,n=e.trigger,a=e.name,o=e.rootStore;return[].concat((0,u.default)((0,m.default)(r,"tableActions.selectActions",{})),[{key:"stop",text:t("STOP"),onClick:function(){return n("resource.batch.stop",{type:a,rowKey:"uid",success:o.routing.query()})}}])}},{key:"itemActions",get:function(){var e=this.props,r=e.module,n=e.name,a=e.trigger;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return a("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return a("resource.yaml.edit",{detail:e})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",show:this.showAction,onClick:function(e){return a("workload.redeploy",{module:r,detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return a("resource.delete",{type:n,detail:e})}}]}}]),n}(p.default.Component))||o;r.default=R},2718:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(724)),y=n(726),v=a(n(890)),g=a(n(755)),E=a(n(791)),_=n(37),O=n(289),b=n(58),S=a(n(736));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,y.withClusterList)({store:new S.default("statefulsets"),module:"statefulsets",name:"WORKLOAD",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/").concat(t))},e.showAction=function(e){return!e.isFedManaged},e.getItemDesc=function(r){var n=(0,O.getWorkloadStatus)(r,e.props.module),a=n.status,o=n.reason;return o?f.default.createElement(g.default,{status:a,reason:t(o),data:r}):r.description||"-"},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue,o=r.module,u=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return f.default.createElement(m.default,{icon:b.ICON_TYPES[o],iconSize:40,title:(0,_.getDisplayName)(r),desc:e.getItemDesc(r),isMultiCluster:r.isFedManaged,to:"/clusters/".concat(u,"/projects/").concat(r.namespace,"/").concat(o,"/").concat(t)})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,width:"22%",render:function(e,t){return f.default.createElement(v.default,{data:t,module:o})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"22%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(u,"/projects/").concat(e)},e)}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster})},e}return(0,l.default)(n,[{key:"getStatus",value:function(){return b.WORKLOAD_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(y.ListPage,this.props,f.default.createElement(h.default,(0,u.default)({},r,{tabs:this.tabs})),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps})))}},{key:"tabs",get:function(){return{value:this.props.module,onChange:this.handleTabChange,options:[{value:"deployments",label:t("DEPLOYMENTS")},{value:"statefulsets",label:t("STATEFULSETS")},{value:"daemonsets",label:t("DAEMONSETS")}]}}},{key:"itemActions",get:function(){var e=this.props,r=e.module,n=e.trigger,a=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.yaml.edit",{detail:e})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",show:this.showAction,onClick:function(e){return n("workload.redeploy",{module:r,detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return n("resource.delete",{type:a,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=T},2719:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(724)),y=n(726),v=a(n(890)),g=a(n(755)),E=a(n(791)),_=n(37),O=n(289),b=n(58),S=a(n(736));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,y.withClusterList)({store:new S.default("daemonsets"),module:"daemonsets",name:"WORKLOAD"})(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/").concat(t))},e.getItemDesc=function(r){var n=(0,O.getWorkloadStatus)(r,e.props.module),a=n.status,o=n.reason;return o?f.default.createElement(g.default,{status:a,reason:t(o),data:r}):r.description||"-"},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue,o=r.module,u=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return f.default.createElement(m.default,{icon:b.ICON_TYPES[o],iconSize:40,title:(0,_.getDisplayName)(r),desc:e.getItemDesc(r),to:"/clusters/".concat(u,"/projects/").concat(r.namespace,"/").concat(o,"/").concat(t)})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,width:"22%",render:function(e,t){return f.default.createElement(v.default,{data:t,module:o})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"22%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(u,"/projects/").concat(e)},e)}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster})},e}return(0,l.default)(n,[{key:"getStatus",value:function(){return b.WORKLOAD_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(y.ListPage,this.props,f.default.createElement(h.default,(0,u.default)({},r,{tabs:this.tabs})),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster})))}},{key:"tabs",get:function(){return{value:this.props.module,onChange:this.handleTabChange,options:[{value:"deployments",label:t("DEPLOYMENTS")},{value:"statefulsets",label:t("STATEFULSETS")},{value:"daemonsets",label:t("DAEMONSETS")}]}}},{key:"itemActions",get:function(){var e=this.props,r=e.module,n=e.name,a=e.trigger;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return a("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(e){return a("resource.yaml.edit",{detail:e})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",onClick:function(e){return a("workload.redeploy",{module:r,detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return a("resource.delete",{type:n,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=T},2720:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(724)),y=n(726),v=a(n(1137)),g=a(n(755)),E=a(n(791)),_=n(37),O=n(289),b=n(58),S=a(n(736));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,y.withClusterList)({store:new S.default("jobs"),module:"jobs",name:"JOB",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/").concat(t))},e.getItemDesc=function(r){var n=(0,O.getWorkloadStatus)(r,e.props.module),a=n.status,o=n.reason;return o?f.default.createElement(g.default,{status:a,reason:t(o),data:r}):r.description||"-"},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue,o=r.module,u=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return f.default.createElement(m.default,{icon:b.ICON_TYPES[o],iconSize:40,title:(0,_.getDisplayName)(r),desc:e.getItemDesc(r),isMultiCluster:r.isFedManaged,to:"/clusters/".concat(u,"/projects/").concat(r.namespace,"/").concat(o,"/").concat(t)})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,width:"20%",render:function(e,t){return f.default.createElement(v.default,{data:t,module:o})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"18%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(u,"/projects/").concat(e)},e)}},{title:t("LAST_RUN_TIME"),dataIndex:"updateTime",sorter:!0,sortOrder:n("updateTime"),isHideable:!0,width:"20%",render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster})},e}return(0,l.default)(n,[{key:"getStatus",value:function(){return b.JOB_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(y.ListPage,this.props,f.default.createElement(h.default,(0,u.default)({},r,{tabs:this.tabs})),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster})))}},{key:"tabs",get:function(){return{value:this.props.module,onChange:this.handleTabChange,options:[{value:"jobs",label:t("JOB_PL")},{value:"cronjobs",label:t("CRONJOB_PL")}]}}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name,a=e.store;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"rerun",icon:"refresh",text:t("RERUN"),action:"edit",onClick:function(e){return a.rerun(e)}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=T},2721:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(729)),y=a(n(724)),v=n(726),g=a(n(755)),E=a(n(791)),_=n(37),O=n(289),b=n(58),S=a(n(736));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,v.withClusterList)({store:new S.default("cronjobs"),module:"cronjobs",name:"CRONJOB",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).handleTabChange=function(t){var r=e.props.match.params.cluster;e.props.routing.push("/clusters/".concat(r,"/").concat(t))},e.handleSwitch=function(t){return function(r){e.props.store.switch(r,t).then((function(){e.props.routing.query()}))}},e.getItemDesc=function(r){var n=(0,O.getWorkloadStatus)(r,e.props.module),a=n.status,o=n.reason;return o?f.default.createElement(g.default,{status:a,reason:t(o),data:r}):r.description||"-"},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue,o=r.module,u=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(t,r){return f.default.createElement(m.default,{icon:b.ICON_TYPES[o],iconSize:40,title:(0,_.getDisplayName)(r),desc:e.getItemDesc(r),to:"/clusters/".concat(u,"/projects/").concat(r.namespace,"/").concat(o,"/").concat(t)})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,width:"15%",render:function(e,r){var n=(0,O.getWorkloadStatus)(r,o).status;return f.default.createElement(h.default,{type:n,name:t("CRONJOB_".concat(n.toUpperCase()))})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"18%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(u,"/projects/").concat(e)},e)}},{title:t("SCHEDULE"),dataIndex:"spec.schedule",isHideable:!0,width:"15%"},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module;return e.props.trigger("workload.create",{module:a,namespace:r.namespace,cluster:n.params.cluster})},e}return(0,l.default)(n,[{key:"getStatus",value:function(){return b.CRONJOB_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(v.ListPage,this.props,f.default.createElement(y.default,(0,u.default)({},r,{tabs:this.tabs})),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster})))}},{key:"tabs",get:function(){return{value:this.props.module,onChange:this.handleTabChange,options:[{value:"jobs",label:t("JOB_PL")},{value:"cronjobs",label:t("CRONJOB_PL")}]}}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(e){return r("resource.yaml.edit",{detail:e})}},{show:function(e){return e.suspend},key:"start",icon:"start",text:t("START"),action:"edit",onClick:this.handleSwitch(!0)},{show:function(e){return!e.suspend},key:"pause",icon:"stop",text:t("PAUSE"),action:"edit",onClick:this.handleSwitch(!1)},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=T},2722:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=n(25),h=a(n(653)),y=a(n(724)),v=n(726),g=a(n(755)),E=a(n(791)),_=n(37),O=n(58),b=a(n(654)),S=a(n(2723));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,v.withClusterList)({store:new b.default,module:"pods",name:"POD",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getItemDesc=function(e){var r=e.podStatus,n=r.status,a=r.type;return"running"!==a&&"completed"!==a?f.default.createElement(g.default,{status:a,reason:t(n),data:e,type:"pod"}):t(a.toUpperCase())},e.getColumns=function(){var r=e.props.getSortOrder;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:r("name"),search:!0,render:e.renderAvatar},{title:t("STATUS"),dataIndex:"status",filters:e.getPodsStatus(),isHideable:!0,search:!0,with:"5%",render:function(e,r){var n=r.podStatus;return f.default.createElement("span",null,t(n.type.toUpperCase()))}},{title:t("NODE_SI"),dataIndex:"node",isHideable:!0,width:"18%",render:e.renderNode},{title:t("POD_IP_ADDRESS"),dataIndex:"podIp",isHideable:!0,width:"15%"},{title:t("UPDATE_TIME_TCAP"),dataIndex:"startTime",sorter:!0,sortOrder:r("startTime"),isHideable:!0,width:150,render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.renderAvatar=function(t,r){var n=e.props.module,a=e.props.match.params.cluster,o=r.podStatus;return f.default.createElement("div",{className:S.default.avatar},f.default.createElement("div",{className:S.default.icon},f.default.createElement(m.Icon,{name:O.ICON_TYPES[n],size:40}),f.default.createElement(h.default,{className:S.default.indicator,type:o.type,flicker:!0})),f.default.createElement("div",null,f.default.createElement(p.Link,{className:S.default.title,to:"/clusters/".concat(a,"/projects/").concat(r.namespace,"/").concat(n,"/").concat(t)},t),f.default.createElement("div",{className:S.default.desc},e.getItemDesc(r))))},e.renderNode=function(r,n){var a=e.props.match.params.cluster,o=n.node,u=n.nodeIp;if(!o)return"-";var c=t("NODE_IP",{node:o,ip:u});return f.default.createElement(p.Link,{to:"/clusters/".concat(a,"/nodes/").concat(o)},c)},e.renderStatus=function(e){return f.default.createElement(Status,{type:e.type,name:t(e.type),flicker:!0})},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){localStorage.setItem("pod-detail-referrer",location.pathname)}},{key:"getPodsStatus",value:function(){return O.PODS_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(v.ListPage,this.props,f.default.createElement(y.default,r),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),hideColumn:["status"],onCreate:null,cluster:t.params.cluster})))}},{key:"itemActions",get:function(){var e=this.props,r=e.getData,n=e.name,a=e.trigger;return[{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(e){return a("resource.yaml.edit",{detail:e,readOnly:!0})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return a("resource.delete",{type:n,detail:e,success:r})}}]}}]),n}(f.default.Component))||o;r.default=T},2723:function(e,t,r){e.exports={avatar:"hnCTvkjeNtr89Olva-MrQ",icon:"QQwUZJfYSbbO5IL2O_lym",indicator:"_1kPphabea24-UMspwsiDee",title:"_3Qr-w3lIIGV50Tlv7bCkkP",desc:"_1_C263QNG8-nzlZSpuGBqZ"}},2724:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=n(25),h=a(n(727)),y=a(n(275)),v=a(n(724)),g=n(726),E=a(n(791)),_=n(37),O=n(58),b=a(n(748));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var C=(0,g.withClusterList)({store:new b.default,module:"services",name:"SERVICE",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=S(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!e.isFedManaged},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.renderExternalService=function(e){var r={des:"-",title:"-"};return"NodePort"===e.specType&&(r.des=t("PORT_PL"),r.title=e.ports.filter((function(e){return e.nodePort})).map((function(e){return"".concat(e.nodePort,"/").concat(e.protocol)})).join("; ")),"LoadBalancer"===e.specType&&(r.des=e.loadBalancerIngress.length>1?t("LOAD_BALANCERS_SCAP"):t("LOAD_BALANCER_SCAP"),r.title=e.loadBalancerIngress.join("; ")),e.externalName?f.default.createElement(y.default,{description:r.des,title:function(){return f.default.createElement(m.Tooltip,{content:e.externalName},f.default.createElement("span",null,r.title))}}):f.default.createElement(y.default,{description:t("".concat(r.des)),title:r.title})},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module,o=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,width:"24%",render:function(e,t){return f.default.createElement(h.default,{icon:O.ICON_TYPES[a],iconSize:40,title:(0,_.getDisplayName)(t),desc:t.description||"-",isMultiCluster:t.isFedManaged,to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/").concat(a,"/").concat(e)})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"18%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(o,"/projects/").concat(e)},e)}},{title:t("INTERNAL_ACCESS_PL"),dataIndex:'annotations["kubesphere.io/serviceType"]',isHideable:!0,width:"16%",render:function(e,r){return f.default.createElement(y.default,{title:r.clusterIP||"",description:t("".concat(r.type))})}},{title:t("EXTERNAL_ACCESS"),dataIndex:"specType",isHideable:!0,width:"20%",render:function(t,r){return e.renderExternalService(r)}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,_.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module,o=t.getData;return e.props.trigger("service.simple.create",{module:a,namespace:r.namespace,cluster:n.params.cluster,success:o})},e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(g.ListPage,this.props,f.default.createElement(v.default,r),f.default.createElement(E.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps})))}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.yaml.edit",{detail:e})}},{key:"editService",icon:"network-router",text:t("EDIT_SERVICE"),action:"edit",show:this.showAction,onClick:function(e){return n("service.edit",{detail:e})}},{key:"editGateway",icon:"ip",text:t("EDIT_EXTERNAL_ACCESS"),action:"edit",show:function(t){return e.showAction(t)&&t.type===O.SERVICE_TYPES.VirtualIP},onClick:function(e){return n("service.gateway.edit",{detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return n("resource.delete",{type:a,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=C},2725:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(724)),y=n(726),v=a(n(791)),g=n(37),E=n(58),_=a(n(855));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var b=(0,y.withClusterList)({store:new _.default,module:"ingresses",name:"ROUTE",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=O(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!e.isFedManaged},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module,o=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(e,t){return f.default.createElement(m.default,{icon:E.ICON_TYPES[a],iconSize:40,title:(0,g.getDisplayName)(t),desc:t.description||"-",isMultiCluster:t.isFedManaged,to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/").concat(a,"/").concat(e)})}},{title:t("GATEWAY_ADDRESS_TCAP"),dataIndex:"loadBalancerIngress",isHideable:!0,width:"22%",render:function(e){return e.join("; ")}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"18%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(o,"/projects/").concat(e)},e)}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,g.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.query,n=t.match,a=t.module,o=t.getData;return e.props.trigger("router.create",{module:a,namespace:r.namespace,cluster:n.params.cluster,success:function(){return o()}})},e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(y.ListPage,this.props,f.default.createElement(h.default,r),f.default.createElement(v.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps})))}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.yaml.edit",{detail:e})}},{key:"editRules",icon:"firewall",text:t("EDIT_ROUTING_RULES"),action:"edit",show:this.showAction,onClick:function(e){return r("router.rules.edit",{detail:e,namespace:e.namespace})}},{key:"editAnnotations",icon:"firewall",text:t("EDIT_ANNOTATIONS"),action:"edit",show:this.showAction,onClick:function(e){return r("router.annotations.edit",{detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=b},2726:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(276),m=a(n(727)),h=a(n(724)),y=n(726),v=a(n(791)),g=n(37),E=n(58),_=a(n(773));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var b=(0,y.withClusterList)({store:new _.default,module:"secrets",name:"SECRET",rowKey:"uid"})(o=function(e){(0,i.default)(n,e);var r=O(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!e.isFedManaged},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module,o=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),render:function(e,t){return f.default.createElement(m.default,{icon:E.ICON_TYPES[a],iconSize:40,title:(0,g.getDisplayName)(t),desc:t.description||"-",to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/").concat(a,"/").concat(e),isMultiCluster:t.isFedManaged})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"16%",render:function(e){return f.default.createElement(p.Link,{to:"/clusters/".concat(o,"/projects/").concat(e)},e)}},{title:t("TYPE"),dataIndex:"type",isHideable:!0,width:"20%",render:function(e){return E.SECRET_TYPES[e]?t(E.SECRET_TYPES[e]):e}},{title:t("SECRET_FIELD_COUNT"),dataIndex:"data",isHideable:!0,width:"16%",render:function(e){return Object.keys(e).length}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,g.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.match,n=t.module;return e.props.trigger("secret.create",{module:n,namespace:r.params.namespace,cluster:r.params.cluster})},e}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return f.default.createElement(y.ListPage,this.props,f.default.createElement(h.default,r),f.default.createElement(v.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps,searchType:"name"})))}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name,a=e.getData;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.yaml.edit",{detail:e})}},{key:"editSecret",icon:"pen",text:t("EDIT_SETTINGS"),action:"edit",show:this.showAction,onClick:function(e){return r("secret.edit",{detail:e,success:a})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(f.default.Component))||o;r.default=b},2727:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(276),h=a(n(727)),y=a(n(724)),v=n(726),g=a(n(791)),E=n(37),_=n(58),O=a(n(904));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var S=(0,v.withClusterList)({store:new O.default,module:"configmaps",name:"CONFIGMAP",rowKey:"uid"})(o=function(e){(0,s.default)(n,e);var r=b(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!e.isFedManaged},e.getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module,o=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),render:function(t,r){return p.default.createElement(h.default,(0,c.default)({icon:_.ICON_TYPES[a],iconSize:40,title:(0,E.getDisplayName)(r),desc:r.description||"-",to:"".concat(e.props.match.url,"/").concat(t),isMultiCluster:r.isFedManaged},"to","/clusters/".concat(o,"/projects/").concat(r.namespace,"/").concat(a,"/").concat(t)))}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"22%",render:function(e){return p.default.createElement(m.Link,{to:"/clusters/".concat(o,"/projects/").concat(e)},e)}},{title:t("FIELDS"),dataIndex:"data",isHideable:!0,width:"33%",render:function(e){return Object.keys(e).join(",")}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.match,n=t.module;return e.props.trigger("configmap.create",{module:n,namespace:r.params.namespace,cluster:r.params.cluster})},e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return p.default.createElement(v.ListPage,this.props,p.default.createElement(y.default,r),p.default.createElement(g.default,(0,u.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps,searchType:"name"})))}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",show:this.showAction,onClick:function(e){return r("resource.yaml.edit",{detail:e})}},{key:"editConfigMap",icon:"pen",text:t("EDIT_SETTINGS"),action:"edit",show:this.showAction,onClick:function(e){return r("configmap.edit",{detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(p.default.Component))||o;r.default=S},2728:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(276),h=a(n(727)),y=n(726),v=a(n(724)),g=a(n(791)),E=n(37),_=n(58),O=a(n(1139));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var T=(0,y.withClusterList)({store:new O.default,module:"serviceaccounts",name:"SERVICE_ACCOUNT",rowKey:"uid"})(o=function(e){(0,s.default)(n,e);var r=C(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getCheckboxProps=function(e){return{disabled:e.isFedManaged,name:e.name}},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module,o=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),render:function(e,t){return p.default.createElement(h.default,{icon:_.ICON_TYPES[a],iconSize:40,title:(0,E.getDisplayName)(t),desc:t.description||"-",to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/").concat(a,"/").concat(e),isMultiCluster:t.isFedManaged})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"16%",render:function(e){return p.default.createElement(m.Link,{to:"/clusters/".concat(o,"/projects/").concat(e)},e)}},{title:t("ROLE"),dataIndex:"role",isHideable:!0},{title:t("SECRET"),dataIndex:"secrets",isHideable:!0,render:function(e,t){return e.map((function(e){return p.default.createElement("div",{key:e.name},p.default.createElement(m.Link,{to:"/clusters/".concat(o,"/projects/").concat(t.namespace,"/secrets/").concat(e.name)},e.name))}))}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:150,render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e.showCreate=function(){var t=e.props,r=t.match,n=t.module;return e.props.trigger("serviceaccount.create",{module:n,namespace:r.params.namespace,cluster:r.params.cluster})},e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return p.default.createElement(y.ListPage,this.props,p.default.createElement(v.default,r),p.default.createElement(g.default,(0,c.default)({},n,{columns:this.getColumns(),itemActions:this.itemActions,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps,onCreate:this.showCreate,searchType:"name"})))}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.name;return[{key:"edit",icon:"pen",text:t("EDIT"),action:"edit",onClick:function(t){return n("serviceaccount.edit",S({detail:t},e.props.match.params))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(e){return n("resource.yaml.edit",{detail:e})}},{key:"modify",icon:"pen",text:t("CHANGE_ROLE"),action:"edit",onClick:function(t){return n("serviceaccount.role.edit",S({detail:t},e.props.match.params))}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return n("resource.delete",{type:a,detail:e})}}]}}]),n}(p.default.Component))||o;r.default=T},2729:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(25),h=a(n(724)),y=n(634),v=a(n(768)),g=a(n(2730));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var b=(0,p.inject)("rootStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=O(n);function n(e){var t;(0,c.default)(this,n),t=r.call(this,e);var a=new v.default({cluster:t.cluster});return t.props.rootStore.register("monitoring",a),t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.props.rootStore.monitoring.checkEtcd()}},{key:"render",value:function(){return f.default.createElement(m.Loading,{spinning:this.props.rootStore.monitoring.etcdChecking},f.default.createElement(f.default.Fragment,null,f.default.createElement(h.default,{icon:"linechart",title:t("CLUSTER_STATUS"),description:t("MONITORING_CLUSTER_DESC"),routes:this.routes}),(0,y.renderRoutes)(g.default)))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"routes",get:function(){var e=this;return g.default.filter((function(t){return!!t.title&&(!t.requireETCD||e.props.rootStore.monitoring.supportETCD)})).map((function(e){return _(_({},e),{},{name:e.path.split("/").pop()})}))}}]),n}(f.default.Component))||o)||o;r.default=b},2730:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2731)),u=n(r(2751)),c=n(r(2753)),l=n(r(2755)),i=n(r(2757)),s=n(r(2759)),d="/clusters/:cluster/monitor-cluster",f=[{path:"".concat(d,"/overview"),title:"Overview",component:o.default,exact:!0},{path:"".concat(d,"/resource"),title:"PHYSICAL_RESOURCES_MONITORING",component:u.default,exact:!0},{path:"".concat(d,"/etcd"),title:"ETCD_MONITORING",component:c.default,requireETCD:!0,exact:!0},{path:"".concat(d,"/api-server"),title:"API_SERVER_MONITORING",component:l.default,exact:!0},{path:"".concat(d,"/scheduler"),title:"SCHEDULER_MONITORING",component:i.default,exact:!0},{path:"".concat(d,"/ranking"),title:"RESOURCE_USAGE_RANKING",component:s.default,exact:!0},(0,a.getIndexRoute)({path:d,to:"".concat(d,"/overview"),exact:!0})];t.default=f},2731:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c=a(n(21)),l=a(n(49)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(74)),y=a(n(0)),v=n(5),g=n(70),E=a(n(3)),_=a(n(16)),O=a(n(866)),b=n(25),S=a(n(741)),C=n(779),T=n(1140),k=a(n(2750));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var D=(0,g.inject)("rootStore")(o=(0,g.observer)((u=function(e){(0,f.default)(n,e);var r=R(n);function n(e){var t;return(0,s.default)(this,n),(t=r.call(this,e)).updateData=function(){t.timer=setTimeout((0,i.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.componentMonitoringStore.requestHealthMetrics();case 2:t.updateData();case 3:case"end":return e.stop()}}),e)}))),2e3)},t.getComponentStatus=function(e){return(e.conditions||[]).some((function(e){return"Ture"!==e.status&&"Healthy"!==e.type}))?"unhealthy":"healthy"},t.getCoreComponentStatus=function(){var e=t.componentHealth.data,r=void 0===e?{}:e,n=r.kubernetes,a=void 0===n?[]:n,o=r.node,u=void 0===o?{}:o,c={};return a.forEach((function(e){c[(0,_.default)(e,"metadata.name")]=t.getComponentStatus(e)})),c.node=u.healthyNodes===u.totalNodes?"healthy":"unhealthy",c["controller-manager"]=t.componentHealth.supportControllerManager?"healthy":"unhealthy",c.scheduler=t.componentHealth.supportKsScheduler?"healthy":"unhealthy",c["etcd-0"]=t.supportETCD?"healthy":"unhealthy",c},t.fetchData=function(){t.componentMonitoringStore.fetchHealthMetrics()},t.handleNodeClick=function(){globals.app.hasPermission({module:"nodes",action:"view",cluster:t.cluster})&&t.routing.push("/clusters/".concat(t.cluster,"/nodes"))},t.handleComponentsClick=function(e,r){"kubeSystem"===r&&(r="kubernetes"),globals.app.hasPermission({module:"monitoring",action:"view",cluster:t.cluster})&&!e&&t.routing.push("/clusters/".concat(t.cluster,"/components?type=").concat(r))},t.componentMonitoringStore=new O.default({cluster:t.cluster}),t.fetchData(),t}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"renderNodeStatus",value:function(){var e=this.componentHealth,r=e.counts,n=e.isLoading,a=void 0!==n&&n,o=r.node||{},u=o.health,c=void 0===u?0:u,l=o.total,i=void 0===l?0:l;return y.default.createElement(S.default,{className:k.default.node,title:t("CLUSTER_NODE_STATUS")},y.default.createElement(b.Loading,{spinning:a},y.default.createElement(C.StatusCircle,{theme:"light",className:k.default.nodeStatus,name:t("NODE_ONLINE_STATUS"),legend:["ONLINE_NODES","ALL_NODES"],used:c,total:i,onClick:this.handleNodeClick})))}},{key:"renderServiceComponents",value:function(){var e=this,r=this.componentHealth.componentCounts,n=[{type:"kubesphere",icon:"/assets/kubesphere.svg"},{type:"kubeSystem",icon:"/assets/kubernetes.svg"},{type:"istio",icon:"/assets/istio.svg",disabled:!globals.app.hasClusterModule(this.cluster,"servicemesh")},{type:"monitoring",icon:"/assets/monitoring.svg",disabled:!globals.app.hasClusterModule(this.cluster,"monitoring")},{type:"logging",icon:"/assets/logging.svg",disabled:!globals.app.hasClusterModule(this.cluster,"logging")},{type:"devops",icon:"/assets/dev-ops.svg",disabled:!globals.app.hasClusterModule(this.cluster,"devops")}];return y.default.createElement("div",{className:(0,E.default)(k.default.list,k.default.service)},n.map((function(n){return y.default.createElement("div",{key:n.type,className:(0,E.default)(k.default.item,(0,c.default)({},k.default.disabled,n.disabled)),onClick:function(){return e.handleComponentsClick(n.disabled,n.type)}},y.default.createElement("img",{src:n.icon}),n.disabled?y.default.createElement("span",null,t("NOT_ENABLED")):y.default.createElement("p",null,(0,_.default)(r,"[".concat(n.type,"].health"),0),y.default.createElement("span",null,"/",(0,_.default)(r,"[".concat(n.type,"].total"),0))))})))}},{key:"renderCoreComponents",value:function(){var e=this.getCoreComponentStatus(),r=[{type:"etcd-0",name:t("etcd")},{type:"controller-manager",name:t("CONTROLLER_MANAGER")},{type:"scheduler",name:t("KUBERNETES_SCHEDULER")}];return y.default.createElement("div",{className:(0,E.default)(k.default.list,k.default.core)},r.map((function(t){var r=e[t.type];return y.default.createElement("div",{key:t.type,className:k.default.item},y.default.createElement("div",{className:(0,E.default)(k.default.itemIcon,k.default[r])},y.default.createElement(b.Icon,{name:"healthy"===r||"ready"===r?"check":"substract",type:"light",size:16})),y.default.createElement("p",{title:t.name},t.name))})))}},{key:"renderComponentStatus",value:function(){var e=this.componentMonitoringStore.health.isLoading,r=void 0!==e&&e;return y.default.createElement(S.default,{className:k.default.components,title:t("COMPONENT_STATUS")},y.default.createElement(b.Loading,{spinning:r},y.default.createElement("div",{className:k.default.wrapper},this.renderServiceComponents(),this.renderCoreComponents())))}},{key:"render",value:function(){return y.default.createElement("div",null,y.default.createElement(b.Columns,{className:"is-1_1"},y.default.createElement(b.Column,{className:"is-5"},this.renderNodeStatus()),y.default.createElement(b.Column,{className:"is-7"},this.renderComponentStatus())),y.default.createElement(b.Columns,null,y.default.createElement(b.Column,{className:"is-12"},y.default.createElement(T.ClusterResourceStatus,{cluster:this.cluster}),this.supportETCD&&y.default.createElement(T.ETCDStatus,{cluster:this.cluster}),y.default.createElement(T.ServiceComponentStatus,{cluster:this.cluster}))))}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"componentHealth",get:function(){return(0,v.toJS)(this.componentMonitoringStore.health)}},{key:"supportETCD",get:function(){return this.props.rootStore.monitoring.supportETCD}}]),n}(y.default.Component),(0,h.default)(u.prototype,"componentHealth",[v.computed],Object.getOwnPropertyDescriptor(u.prototype,"componentHealth"),u.prototype),(0,h.default)(u.prototype,"supportETCD",[v.computed],Object.getOwnPropertyDescriptor(u.prototype,"supportETCD"),u.prototype),o=u))||o)||o;r.default=D},2739:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(16)),y=n(725),v=a(n(845)),g=n(735),E=n(779),_=a(n(2740));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C={cpu_usage:"cluster_cpu_usage",cpu_total:"cluster_cpu_total",cpu_utilisation:"cluster_cpu_utilisation",memory_usage:"cluster_memory_usage_wo_cache",memory_total:"cluster_memory_total",memory_utilisation:"cluster_memory_utilisation",disk_size_usage:"cluster_disk_size_usage",disk_size_capacity:"cluster_disk_size_capacity",disk_utilisation:"cluster_disk_size_utilisation",pod_count:"cluster_pod_running_count",pod_capacity:"cluster_pod_quota"},T=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=S(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.monitorStore.fetchMetrics(b({metrics:Object.values(C),step:"5m",times:100},e))},t.getValue=function(e){return(0,h.default)(e,"value[1]",0)},t.getTabOptions=function(){var e=(0,y.getLastMonitoringData)(t.metrics);return[{name:"CPU",unitType:"cpu",used:t.getValue(e[C.cpu_usage]),total:t.getValue(e[C.cpu_total])},{name:"MEMORY",unitType:"memory",used:t.getValue(e[C.memory_usage]),total:t.getValue(e[C.memory_total])},{name:"DISK",unitType:"disk",used:t.getValue(e[C.disk_size_usage]),total:t.getValue(e[C.disk_size_capacity])},{name:"PODS",unit:"",used:t.getValue(e[C.pod_count]),total:t.getValue(e[C.pod_capacity])}].map((function(e){return{props:e,component:_.default}}))},t.getContentOptions=function(){return[{type:"utilisation",title:"CPU_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(t.metrics,"".concat(C.cpu_utilisation,".data.result"))},{type:"utilisation",title:"MEMORY_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(t.metrics,"".concat(C.memory_utilisation,".data.result"))},{type:"utilisation",title:"DISK_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(t.metrics,"".concat(C.disk_utilisation,".data.result"))},{title:"POD_COUNT",unit:"",legend:["COUNT"],data:(0,h.default)(t.metrics,"".concat(C.pod_count,".data.result"))}].map((function(e){return{props:e,render:t.renderChart}}))},t.monitorStore=new v.default({cluster:e.cluster}),t}return(0,i.default)(n,[{key:"renderChart",value:function(e){var t={key:e.title,width:"100%",height:"100%"};switch(e.type){default:case"area":var r=(0,y.getAreaChartOps)(e);return p.default.createElement(g.SimpleArea,(0,u.default)({},t,r))}}},{key:"render",value:function(){var e=this.monitorStore,r=e.isLoading,n=e.isRefreshing;return p.default.createElement(E.StatusTabs,{title:t("CLUSTER_RESOURCE_USAGE"),tabOptions:this.getTabOptions(),contentOptions:this.getContentOptions(),loading:r,refreshing:n,onFetch:this.fetchData})}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=T},2740:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(21)),u=a(n(0)),c=a(n(3)),l=n(725),i=n(735),s=a(n(2741)),d=function(e){var r=e.active,n=e.name,a=e.used,d=e.total,f=e.unit,p=e.unitType,m=t(n),h=(0,l.getSuitableUnit)(d||a,p)||f,y=(0,l.getValueByUnit)(a,h),v=(0,l.getValueByUnit)(d,h);return u.default.createElement("div",{className:(0,c.default)(s.default.tab,(0,o.default)({},s.default.active,r))},u.default.createElement(i.SimpleCircle,{width:40,height:40,title:m,value:parseFloat(y),total:parseFloat(v),unit:h,showCenter:!1,showRate:!0,active:r}),u.default.createElement("div",{className:s.default.info},u.default.createElement("div",{className:s.default.title},m," ",t(h)),u.default.createElement("p",{title:"".concat(y,"/").concat(v)},y,u.default.createElement("span",null,"/",v))))};r.default=d},2741:function(e,t,r){e.exports={tab:"_31-JVKem4VcI-TtgNWqY6Z",active:"_2tHL5e_1AJNteMDLEE_YbE",info:"hs8j62Zb-8wabHzFg3UiM",title:"_3WVO0kjKDahAj7KuGMbO57"}},2742:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(21)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(0)),y=n(70),v=a(n(32)),g=a(n(16)),E=n(58),_=n(725),O=a(n(866)),b=n(735),S=n(779),C=a(n(2743));function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var D={request_latencies_total:"apiserver_request_latencies",request_latencies_apis:"apiserver_request_by_verb_latencies",request_rate:"apiserver_request_rate",schedule_attempts_count:"scheduler_schedule_attempts",schedule_attempt_rate:"scheduler_schedule_attempt_rate"},A=(0,y.inject)("rootStore")(o=(0,y.observer)(o=function(e){(0,f.default)(n,e);var r=R(n);function n(e){var t;return(0,s.default)(this,n),(t=r.call(this,e)).fetchData=(0,i.default)(c.default.mark((function e(){var r,n,a=arguments;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:{},n=k({step:"5m",times:100},r),e.next=4,t.apiStore.fetchMetrics(k({metrics:[D.request_latencies_total,D.request_latencies_apis,D.request_rate]},n));case 4:return e.next=6,t.schedulerStore.fetchMetrics(k({metrics:[D.schedule_attempts_count,D.schedule_attempt_rate]},n));case 6:case"end":return e.stop()}}),e)}))),t.getSpecificData=function(e,r,n){return((0,g.default)(t.metrics,"".concat(D[e],".data.result"))||[]).find((function(e){return(0,g.default)(e,"metric.".concat(r))===n}))||{}},t.getVerbData=function(e){return t.getSpecificData("request_latencies_apis","verb",e)},t.getTabOptions=function(){return[{icon:E.ICON_TYPES.apiserver,name:"API_SERVER",title:"REQUEST_LATENCY_TCAP"},{icon:E.ICON_TYPES.apiserver,name:"API_SERVER",title:"REQUEST_RATE"},{icon:E.ICON_TYPES.scheduler,name:"SCHEDULER",title:"SCHEDULE_ATTEMPTS_TCAP"},{icon:E.ICON_TYPES.scheduler,name:"SCHEDULER",title:"SCHEDULING_RATE_TCAP"}].map((function(e){return{props:e,component:C.default}}))},t.getContentOptions=function(){var e=t.metrics;return[{type:"area",title:"REQUEST_LATENCY",unit:"ms",legend:["REST_GET","REST_POST","REST_PATCH","REST_DELETE","REST_PUT","TOTAL_AVERAGE"],data:[t.getVerbData("GET"),t.getVerbData("POST"),t.getVerbData("PATCH"),t.getVerbData("DELETE"),t.getVerbData("PUT"),(0,g.default)(e,"".concat(D.request_latencies_total,".data.result[0]"))]},{type:"area",title:"REQUEST_PER_SECOND",unit:"times/s",legend:["REQUEST"],data:(0,g.default)(e,"".concat(D.request_rate,".data.result"))},{type:"area",title:"SCHEDULE_ATTEMPTS",unit:"",legend:["SUCCESS","ERROR","FAILURE"],data:[t.getSpecificData("schedule_attempts_count","result","scheduled"),t.getSpecificData("schedule_attempts_count","result","error"),t.getSpecificData("schedule_attempts_count","result","unschedulable")],areaColors:["blue","red","yellow"]},{type:"area",title:"SCHEDULING_RATE",unit:"times/s",legend:["SUCCESS","ERROR","FAILURE"],data:[t.getSpecificData("schedule_attempt_rate","result","scheduled"),t.getSpecificData("schedule_attempt_rate","result","error"),t.getSpecificData("schedule_attempt_rate","result","unschedulable")],areaColors:["blue","red","yellow"]}].map((function(e){return{props:e,render:t.renderChart}}))},t.apiStore=new O.default({module:"apiserver",cluster:e.cluster}),t.schedulerStore=new O.default({module:"scheduler",cluster:e.cluster}),t}return(0,d.default)(n,[{key:"renderChart",value:function(e){var t={key:e.title,width:"100%",height:"100%"},r=(0,_.getAreaChartOps)(e);return(0,v.default)(r.data)?null:(e.type,h.default.createElement(b.SimpleArea,(0,u.default)({},t,r)))}},{key:"render",value:function(){var e=this.schedulerStore,r=e.isLoading,n=e.isRefreshing;return h.default.createElement(S.StatusTabs,{title:t("SERVICE_COMPONENT_MONITORING"),tabOptions:this.getTabOptions(),contentOptions:this.getContentOptions(),loading:r,refreshing:n,onFetch:this.fetchData})}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"metrics",get:function(){var e=this.apiStore.data,t=this.schedulerStore.data;return k(k({},e),t)}}]),n}(h.default.Component))||o)||o;r.default=A},2743:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(71)),u=a(n(21)),c=a(n(0)),l=a(n(3)),i=n(25),s=a(n(2744)),d=function(e){var r=e.active,n=e.icon,a=e.name,d=e.title;return c.default.createElement("div",{className:(0,l.default)(s.default.tab,(0,u.default)({},s.default.active,r))},c.default.createElement(i.Icon,(0,o.default)({name:n,size:40},r?{color:{primary:"#fff",secondary:"#fff"}}:null)),c.default.createElement("div",{className:s.default.info},c.default.createElement("div",{className:s.default.title},t(a)),c.default.createElement("p",{dangerouslySetInnerHTML:{__html:t(d)}})))};r.default=d},2744:function(e,t,r){e.exports={tab:"_34GN7J206xlTqjhJCfdruX",active:"_3qtjymCMRzmNFfc7Wy9IMr",info:"_2XEdgRJbCd_3cr8VVZfKQo",title:"_3PNsSTeAIrmYtf2UkG8H_4"}},2745:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(32)),y=a(n(16)),v=n(58),g=n(725),E=a(n(866)),_=n(735),O=n(779),b=n(1140),S=a(n(2746));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var R={proposals_committed_rate:"etcd_server_proposals_committed_rate",proposals_applied_rate:"etcd_server_proposals_applied_rate",proposals_failed_rate:"etcd_server_proposals_failed_rate",proposals_pending_count:"etcd_server_proposals_pending_count",db_size:"etcd_mvcc_db_size",client_received_bytes:"etcd_network_client_grpc_received_bytes",client_sent_bytes:"etcd_network_client_grpc_sent_bytes"},D=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=k(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.monitorStore.fetchMetrics(T({metrics:Object.values(R),step:"5m",times:100},e))},t.getSpecificData=function(e,r,n){return((0,y.default)(t.metrics,"".concat(R[e],".data.result"))||[]).find((function(e){return(0,y.default)(e,"metric.".concat(r))===n}))||{}},t.getVerbData=function(e){return t.getSpecificData("request_latencies_apis","verb",e)},t.getTabOptions=function(){return[{icon:v.ICON_TYPES.etcd,name:"etcd",title:"ETCD_STATUS"},{icon:v.ICON_TYPES.etcd,name:"etcd",title:"ETCD_PROPOSAL"},{icon:v.ICON_TYPES.etcd,name:"etcd",title:"ETCD_DB_SIZE"},{icon:v.ICON_TYPES.etcd,name:"etcd",title:"ETCD_CLIENT_TRAFFIC"}].map((function(e){return{props:e,component:S.default}}))},t.getContentOptions=function(){var e=t.metrics;return[{props:{cluster:t.props.cluster},component:b.ETCDNodes},{props:{type:"area",title:"RAFT_PROPOSAL",unit:"times/s",legend:["PROPOSAL_COMMITTED","PROPOSAL_APPLIED","PROPOSAL_FAILED","PROPOSAL_PENDING"],data:[(0,y.default)(e,"".concat(R.proposals_committed_rate,".data.result[0]")),(0,y.default)(e,"".concat(R.proposals_applied_rate,".data.result[0]")),(0,y.default)(e,"".concat(R.proposals_failed_rate,".data.result[0]")),(0,y.default)(e,"".concat(R.proposals_pending_count,".data.result[0]"))],areaColors:["blue","green","red","yellow"]},render:t.renderChart},{props:{type:"area",title:"DB_SIZE",unitType:"memory",legend:["DB_SIZE"],data:(0,y.default)(e,"".concat(R.db_size,".data.result"))},render:t.renderChart},{props:{type:"area",title:"CLIENT_TRAFFIC",unitType:"traffic",legend:["RECEIVED","SENT"],data:[(0,y.default)(e,"".concat(R.client_received_bytes,".data.result[0]")),(0,y.default)(e,"".concat(R.client_sent_bytes,".data.result[0]"))]},render:t.renderChart}]},t.monitorStore=new E.default({module:"etcd",cluster:e.cluster}),t}return(0,i.default)(n,[{key:"renderChart",value:function(e){var t={key:e.title,width:"100%",height:"100%"},r=(0,g.getAreaChartOps)(e);return(0,h.default)(r.data)?null:(e.type,p.default.createElement(_.SimpleArea,(0,u.default)({},t,r)))}},{key:"render",value:function(){var e=this.monitorStore,r=e.isLoading,n=e.isRefreshing;return p.default.createElement(O.StatusTabs,{title:t("ETCD_MONITORING"),tabOptions:this.getTabOptions(),contentOptions:this.getContentOptions(),loading:r,refreshing:n,onFetch:this.fetchData})}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=D},2746:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(71)),u=a(n(21)),c=a(n(0)),l=a(n(3)),i=n(25),s=a(n(2747)),d=function(e){var r=e.active,n=e.icon,a=e.name,d=e.title;return c.default.createElement("div",{className:(0,l.default)(s.default.tab,(0,u.default)({},s.default.active,r))},c.default.createElement(i.Icon,(0,o.default)({name:n,size:40},r?{color:{primary:"#fff",secondary:"#fff"}}:null)),c.default.createElement("div",{className:s.default.info},c.default.createElement("div",{className:s.default.title},t(a)),c.default.createElement("p",{dangerouslySetInnerHTML:{__html:t(d)}})))};r.default=d},2747:function(e,t,r){e.exports={tab:"_15NMG2yXO_Lun04XhV1Lae",active:"_3mR_zhBbwIvUT97S3UqHnU",info:"_3kMKZotOFJMQzgswYhBdW5",title:"_32I8HGLqDgqBJ2KQ_xitGY",nodes:"_3kzjrp7n3suOj46Y7ty3tY",item:"_3PsSoBgegEfVBTreynBugR",icon:"_3h-fE6NmNSMobCbCpYskqB",circle:"_2R8YGxK8I4oAmDRZu9Ay9r",offline:"_2svSg92VRM_kYrOaBMJMqF"}},2748:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=a(n(3)),h=a(n(32)),y=a(n(16)),v=a(n(866)),g=n(25),E=a(n(802)),_=a(n(2749)),O=a(n(1397));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T={etcd_online:"etcd_server_up_total",etcd_total:"etcd_server_total",etcd_has_leader:"etcd_server_has_leader",etcd_leader_changes:"etcd_server_leader_changes",etcd_server_list:"etcd_server_list",etcd_server_is_leader:"etcd_server_is_leader"},k=(0,p.inject)("rootStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=C(n);function n(e){var t;return(0,c.default)(this,n),(t=r.call(this,e)).getReulst=function(e){return(0,y.default)(t.metrics,"".concat(e,".data.result"))||[]},t.fetchData=function(e){t.store.fetchMetrics(S({metrics:Object.values(T),last:!0},e))},t.store=new v.default({module:"etcd",cluster:e.cluster}),t}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.list;return f.default.createElement("div",{className:(0,m.default)(O.default.wrapper,this.props.className)},f.default.createElement("div",{className:O.default.title},t("SERVICE_STATUS")),f.default.createElement(g.Loading,{spinning:this.store.isLoading},f.default.createElement("div",{className:O.default.list},(0,h.default)(e)?f.default.createElement(E.default,{className:O.default.emtpy}):e.map((function(e){return(0,_.default)({prefix:"/infrastructure/nodes",data:e})})))))}},{key:"metrics",get:function(){return this.store.data}},{key:"list",get:function(){var e=this.getReulst(T.etcd_has_leader),t=this.getReulst(T.etcd_server_is_leader),r=this.getReulst(T.etcd_leader_changes);return this.getReulst(T.etcd_server_list).map((function(n){var a=(0,y.default)(n,"metric.node_ip"),o="1"===(0,y.default)(n,"value[1]"),u="1"===(0,y.default)(e.find((function(e){return(0,y.default)(e,"metric.node_ip")===a})),"value[1]"),c="1"===(0,y.default)(t.find((function(e){return(0,y.default)(e,"metric.node_ip")===a})),"value[1]"),l=(0,y.default)(r.find((function(e){return(0,y.default)(e,"metric.node_ip")===a})),"value[1]")||0;return S(S({},n.metric),{},{hasLeader:u,isLeader:c,leaderChanges:l,isOnline:o})}))}}]),n}(f.default.Component))||o)||o;r.default=k},2749:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(0)),u=n(276),c=n(58),l=n(25),i=a(n(729)),s=a(n(1397)),d=function(e){var r=e.prefix,n=void 0===r?"":r,a=e.data,d=void 0===a?{}:a,f=d.node_name,p=d.node_ip,m=d.isOnline,h=d.hasLeader,y=d.isLeader,v=d.leaderChanges,g=!f,E=m?"running":"error";return o.default.createElement("div",{key:p,className:s.default.item},o.default.createElement("div",{className:s.default.icon},o.default.createElement(l.Icon,{name:c.ICON_TYPES.etcd,size:40}),o.default.createElement(i.default,{className:s.default.status,type:E})),o.default.createElement("div",{className:s.default.info},o.default.createElement("p",null,o.default.createElement("strong",null,g?t("EXTERNAL_ETCD"):o.default.createElement(u.Link,{to:"".concat(n,"/").concat(f)},f),y&&o.default.createElement(l.Tag,{className:s.default.tag},t("Leader"))),o.default.createElement("span",null,t("NODE_IP_ADDRESS_VALUE",{value:p||"-"}))),o.default.createElement("p",null,o.default.createElement("strong",null,h?t("YES"):t("NO")),o.default.createElement("span",null,t("ETCD_LEADER_TITLE"))),o.default.createElement("p",null,o.default.createElement("strong",null,v),o.default.createElement("span",null,t("ETCD_CHANGES_TITLE")))))};r.default=d},2750:function(e,t,r){e.exports={node:"_3i-uxhPvdOU7S87_Y_mDGo",nodeStatus:"dcF8cBxuJtvRguAP4tyZY",components:"iWa6mM_kmem6_FeIMa4Pl",wrapper:"_3btAUBGyO6S5qH0FSnXeTv",list:"_3L8WX-6mq4GV4pbaROMlGJ",item:"_2UinRAcLgwuDAMGFx7YxbZ",disabled:"_1HAzX3NlEQy_mvZTgYwzYN",service:"_33modxTT0s7VIqxv-YEXZn",core:"kxr_ctYj8oXbD9VAkJOeH",itemIcon:"_1OmtFwq6wNRWsioVW_CD22",healthy:"_2QxcTXrERt_mX8QVqRxkEJ",ready:"_3Au1Y8qOTFYdO_gsobjOyD",unhealthy:"_2yMksWvLJFTdIz6XA4wSst",warn:"_2BFyv45uYWQsWKpdoGHxsK",danger:"NnQSs-w924JQVyzrsKDor",unknown:"JX1J9FsOwhFbiEW0Ndfkg"}},2751:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(16)),y=a(n(32)),v=n(725),g=a(n(845)),E=n(779),_=n(735),O=a(n(785)),b=a(n(2752));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var T={cpu_utilisation:"cluster_cpu_utilisation",memory_utilisation:"cluster_memory_utilisation",cpu_load1:"cluster_load1",cpu_load5:"cluster_load5",cpu_load15:"cluster_load15",disk_size_usage:"cluster_disk_size_usage",disk_inode_utilisation:"cluster_disk_inode_utilisation",disk_inode_usage:"cluster_disk_inode_usage",disk_inode_total:"cluster_disk_inode_total",disk_read_iops:"cluster_disk_read_iops",disk_write_iops:"cluster_disk_write_iops",disk_read_throughput:"cluster_disk_read_throughput",disk_write_throughput:"cluster_disk_write_throughput",net_transmitted:"cluster_net_bytes_transmitted",net_received:"cluster_net_bytes_received",pod_running_count:"cluster_pod_running_count",pod_abnormal_count:"cluster_pod_abnormal_count",pod_completed_count:"cluster_pod_succeeded_count"},k=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=C(n);function n(e){var a;return(0,l.default)(this,n),(a=r.call(this,e)).fetchData=function(e){a.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({metrics:Object.values(T)},e))},a.getMonitoringCfgs=function(){return[{type:"utilisation",title:"CPU_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(a.metrics,"".concat(T.cpu_utilisation,".data.result"))},{type:"utilisation",title:"MEMORY_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(a.metrics,"".concat(T.memory_utilisation,".data.result"))},{type:"load",title:"AVERAGE_CPU_LOAD",legend:[t("TIME_M",{num:1}),t("TIME_M",{num:5}),t("TIME_M",{num:15})],data:[(0,h.default)(a.metrics,"".concat(T.cpu_load1,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.cpu_load5,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.cpu_load15,".data.result[0]"),{})]},{type:"usage",title:"DISK_USAGE",unitType:"disk",legend:["USAGE"],data:(0,h.default)(a.metrics,"".concat(T.disk_size_usage,".data.result"))},{type:"utilisation",title:"INODE_USAGE",unit:"%",legend:["USAGE"],data:(0,h.default)(a.metrics,"".concat(T.disk_inode_utilisation,".data.result")),renderTooltip:function(){var e=(0,v.getChartData)({unit:"",legend:["USAGE"],valuesData:[(0,h.default)(a.metrics,"".concat(T.disk_inode_usage,".data.result[0].values"),[])]}),t=(0,v.getChartData)({unit:"",legend:["USAGE"],valuesData:[(0,h.default)(a.metrics,"".concat(T.disk_inode_total,".data.result[0].values"),[])]});return p.default.createElement(O.default,{usageData:e,totalData:t})}},{type:"throughput",title:"DISK_THROUGHPUT",unitType:"throughput",legend:["READ","WRITE"],data:[(0,h.default)(a.metrics,"".concat(T.disk_read_throughput,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.disk_write_throughput,".data.result[0]"),{})]},{type:"iops",title:"IOPS",legend:["READ","WRITE"],data:[(0,h.default)(a.metrics,"".concat(T.disk_read_iops,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.disk_write_iops,".data.result[0]"),{})]},{type:"bandwidth",title:"NETWORK_TRAFFIC",unitType:"bandwidth",legend:["OUT","IN"],data:[(0,h.default)(a.metrics,"".concat(T.net_transmitted,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.net_received,".data.result[0]"),{})]},{type:"count",title:"POD_STATUS",unit:"",legend:["RUNNING","COMPLETED","WARNING"],data:[(0,h.default)(a.metrics,"".concat(T.pod_running_count,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.pod_completed_count,".data.result[0]"),{}),(0,h.default)(a.metrics,"".concat(T.pod_abnormal_count,".data.result[0]"),{})]}]},a.monitorStore=new g.default({cluster:e.match.params.cluster}),a}return(0,i.default)(n,[{key:"render",value:function(){var e=this.monitorStore,r=e.isLoading,n=e.isRefreshing,a=this.getMonitoringCfgs();return p.default.createElement(E.Controller,{title:t("PHYSICAL_RESOURCES_MONITORING"),step:"2m",times:50,onFetch:this.fetchData,loading:r,refreshing:n,isEmpty:(0,y.default)(this.metrics)},p.default.createElement("div",{className:b.default.content},a.map((function(e){var t=(0,v.getAreaChartOps)(e);return(0,y.default)(t.data)?null:p.default.createElement("div",{key:e.title,className:b.default.box},p.default.createElement(_.SimpleArea,(0,u.default)({width:"100%",height:190},t)))}))))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=k},2752:function(e,t,r){e.exports={content:"_3JNPBRmrvckZ-0ddD430sz",box:"_211PBa-chb6-SswmEnq_qi"}},2753:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(16)),y=a(n(32)),v=n(725),g=a(n(866)),E=n(735),_=n(779),O=n(1140),b=a(n(2754));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var T={proposals_committed_rate:"etcd_server_proposals_committed_rate",proposals_applied_rate:"etcd_server_proposals_applied_rate",proposals_failed_rate:"etcd_server_proposals_failed_rate",proposals_pending_count:"etcd_server_proposals_pending_count",db_size:"etcd_mvcc_db_size",client_received_bytes:"etcd_network_client_grpc_received_bytes",client_sent_bytes:"etcd_network_client_grpc_sent_bytes",grpc_received_rate:"etcd_grpc_server_msg_received_rate",grpc_sent_rate:"etcd_grpc_server_msg_sent_rate",wal_fsync_duration_average:"etcd_disk_wal_fsync_duration",wal_fsync_duration_quantile:"etcd_disk_wal_fsync_duration_quantile",backend_commit_duration_average:"etcd_disk_backend_commit_duration",backend_commit_duration_quantile:"etcd_disk_backend_commit_duration_quantile"},k=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=C(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(e){t.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({metrics:Object.values(T)},e))},t.getQuantileData=function(e,r){return((0,h.default)(t.metrics,"".concat(T[e],".data.result"))||[]).find((function(e){return(0,h.default)(e,"metric.quantile")===r}))||{}},t.getMonitoringCfgs=function(){return[{type:"size",title:"DB_SIZE",unitType:"memory",legend:["DB_SIZE"],data:(0,h.default)(t.metrics,"".concat(T.db_size,".data.result"))},{type:"area",title:"CLIENT_TRAFFIC",unitType:"traffic",legend:["RECEIVED","SENT"],data:[(0,h.default)(t.metrics,"".concat(T.client_received_bytes,".data.result[0]")),(0,h.default)(t.metrics,"".concat(T.client_sent_bytes,".data.result[0]"))]},{type:"area",title:"GRPC_STREAM_MESSAGES",unit:"times/s",legend:["RECEIVED","SENT"],data:[(0,h.default)(t.metrics,"".concat(T.grpc_received_rate,".data.result[0]")),(0,h.default)(t.metrics,"".concat(T.grpc_sent_rate,".data.result[0]"))]},{type:"grade",title:"WAL_FSYNC",unit:"ms",legend:["99th","90th","50th","AVERAGE"],data:[t.getQuantileData("wal_fsync_duration_quantile","0.99"),t.getQuantileData("wal_fsync_duration_quantile","0.9"),t.getQuantileData("wal_fsync_duration_quantile","0.5"),(0,h.default)(t.metrics,"".concat(T.wal_fsync_duration_average,".data.result[0]"))]},{type:"grade",title:"DB_FSYNC",unit:"ms",legend:["99th","90th","50th","AVERAGE"],data:[t.getQuantileData("backend_commit_duration_quantile","0.99"),t.getQuantileData("backend_commit_duration_quantile","0.9"),t.getQuantileData("backend_commit_duration_quantile","0.5"),(0,h.default)(t.metrics,"".concat(T.backend_commit_duration_average,".data.result[0]"))]},{type:"area",title:"RAFT_PROPOSAL",unit:"times/s",legend:["PROPOSAL_COMMITTED","PROPOSAL_APPLIED","PROPOSAL_FAILED","PROPOSAL_PENDING"],data:[(0,h.default)(t.metrics,"".concat(T.proposals_committed_rate,".data.result[0]")),(0,h.default)(t.metrics,"".concat(T.proposals_applied_rate,".data.result[0]")),(0,h.default)(t.metrics,"".concat(T.proposals_failed_rate,".data.result[0]")),(0,h.default)(t.metrics,"".concat(T.proposals_pending_count,".data.result[0]"))],areaColors:["blue","green","red","yellow"]}]},t.monitorStore=new g.default({module:"etcd",cluster:e.match.params.cluster}),t}return(0,i.default)(n,[{key:"renderChart",value:function(e){var t={width:"100%",height:190},r=(0,v.getAreaChartOps)(e);if((0,y.default)(r.data))return null;var n=null;switch(e.type){case"grade":n=p.default.createElement(E.PercentArea,(0,u.default)({},t,r));break;default:n=p.default.createElement(E.SimpleArea,(0,u.default)({},t,r))}return p.default.createElement("div",{key:e.title,className:b.default.box},n)}},{key:"render",value:function(){var e=this,r=this.monitorStore,n=r.isLoading,a=r.isRefreshing,o=this.getMonitoringCfgs(),u=this.props.match.params.cluster;return p.default.createElement(_.Controller,{title:t("ETCD_MONITORING"),step:"2m",times:50,onFetch:this.fetchData,loading:n,refreshing:a,isEmpty:(0,y.default)(this.metrics)},p.default.createElement("div",{className:b.default.content},p.default.createElement("div",{className:b.default.box},p.default.createElement("div",{className:b.default.status},p.default.createElement(O.ETCDNodes,{cluster:u}))),o.map((function(t){return e.renderChart(t)}))))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=k},2754:function(e,t,r){e.exports={content:"TcL0IZBZvEALWaAJxOyjq",box:"_2x_rs3rGZ_x3CzWhr678DG",status:"_166raJC5y_hKM3BLES1zxS"}},2755:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(16)),y=a(n(32)),v=n(725),g=a(n(866)),E=n(735),_=n(779),O=a(n(2756));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C={request_latencies_total:"apiserver_request_latencies",request_latencies_apis:"apiserver_request_by_verb_latencies",request_rate:"apiserver_request_rate"},T=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=S(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(e){t.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({metrics:Object.values(C)},e))},t.getSpecificData=function(e,r,n){return((0,h.default)(t.metrics,"".concat(C[e],".data.result"))||[]).find((function(e){return(0,h.default)(e,"metric.".concat(r))===n}))||{}},t.getVerbData=function(e){return t.getSpecificData("request_latencies_apis","verb",e)},t.getMonitoringCfgs=function(){return[{type:"io",title:"REQUEST_LATENCY",unit:"ms",legend:["REST_CREATE","REST_DELETE","REST_DELETECOLLECTION","REST_GET","REST_POST","REST_PATCH","REST_PUT","REST_UPDATE","REST_LIST","TOTAL_AVERAGE"],data:[t.getVerbData("CREATE"),t.getVerbData("DELETE"),t.getVerbData("DELETECOLLECTION"),t.getVerbData("GET"),t.getVerbData("POST"),t.getVerbData("PATCH"),t.getVerbData("PUT"),t.getVerbData("UPDATE"),t.getVerbData("LIST"),(0,h.default)(t.metrics,"".concat(C.request_latencies_total,".data.result[0]"))]},{type:"request",title:"REQUEST_PER_SECOND",unit:"times/s",legend:["REQUEST"],data:(0,h.default)(t.metrics,"".concat(C.request_rate,".data.result"))}]},t.monitorStore=new g.default({module:"apiserver",cluster:e.match.params.cluster}),t}return(0,i.default)(n,[{key:"renderChart",value:function(e){var t={width:"100%",height:190},r=(0,v.getAreaChartOps)(e);if((0,y.default)(r.data))return null;var n=null;switch(e.type){case"grade":n=p.default.createElement(E.PercentArea,(0,u.default)({},t,r));break;default:n=p.default.createElement(E.SimpleArea,(0,u.default)({},t,r))}return p.default.createElement("div",{key:e.title,className:O.default.box},n)}},{key:"render",value:function(){var e=this,r=this.monitorStore,n=r.isLoading,a=r.isRefreshing,o=this.getMonitoringCfgs();return p.default.createElement(_.Controller,{title:t("API_SERVER_MONITORING"),step:"2m",times:50,onFetch:this.fetchData,loading:n,refreshing:a,isEmpty:(0,y.default)(this.metrics)},p.default.createElement("div",{className:O.default.content},o.map((function(t){return e.renderChart(t)}))))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=T},2756:function(e,t,r){e.exports={content:"_19HqLz1uFh_5QO0V5xfiZI",box:"_3YA930Ry5q0idy7W6W7Olz"}},2757:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(16)),y=a(n(32)),v=n(725),g=a(n(866)),E=n(735),_=n(779),O=a(n(2758));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C={schedule_attempts_count:"scheduler_schedule_attempts",schedule_attempt_rate:"scheduler_schedule_attempt_rate",scheduling_latency_average:"scheduler_e2e_scheduling_latency",scheduling_latency_quantile:"scheduler_e2e_scheduling_latency_quantile"},T=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=S(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(e){t.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({metrics:Object.values(C)},e))},t.getSpecificData=function(e,r,n){return((0,h.default)(t.metrics,"".concat(C[e],".data.result"))||[]).find((function(e){return(0,h.default)(e,"metric.".concat(r))===n}))||{}},t.getMonitoringCfgs=function(){return[{type:"area",title:"SCHEDULE_ATTEMPTS",unit:"",legend:["SUCCESS","ERROR","FAILURE"],data:[t.getSpecificData("schedule_attempts_count","result","scheduled"),t.getSpecificData("schedule_attempts_count","result","error"),t.getSpecificData("schedule_attempts_count","result","unschedulable")],areaColors:["blue","red","yellow"]},{type:"area",title:"SCHEDULING_RATE",unit:"times/s",legend:["SUCCESS","ERROR","FAILURE"],data:[t.getSpecificData("schedule_attempt_rate","result","scheduled"),t.getSpecificData("schedule_attempt_rate","result","error"),t.getSpecificData("schedule_attempt_rate","result","unschedulable")],areaColors:["blue","red","yellow"]},{type:"grade",title:"SCHEDULING_LATENCY",unit:"ms",legend:["99th","90th","50th","AVERAGE"],data:[t.getSpecificData("scheduling_latency_quantile","quantile","0.99"),t.getSpecificData("scheduling_latency_quantile","quantile","0.9"),t.getSpecificData("scheduling_latency_quantile","quantile","0.5"),(0,h.default)(t.metrics,"".concat(C.scheduling_latency_average,".data.result[0]"))]}]},t.monitorStore=new g.default({module:"scheduler",cluster:e.match.params.cluster}),t}return(0,i.default)(n,[{key:"renderChart",value:function(e){var t={width:"100%",height:190},r=(0,v.getAreaChartOps)(e);if((0,y.default)(r.data))return null;var n=null;switch(e.type){case"grade":n=p.default.createElement(E.PercentArea,(0,u.default)({},t,r));break;default:n=p.default.createElement(E.SimpleArea,(0,u.default)({},t,r))}return p.default.createElement("div",{key:e.title,className:O.default.box},n)}},{key:"render",value:function(){var e=this,r=this.monitorStore,n=r.isLoading,a=r.isRefreshing,o=this.getMonitoringCfgs();return p.default.createElement(_.Controller,{title:t("SCHEDULER_MONITORING"),step:"2m",times:50,onFetch:this.fetchData,loading:n,refreshing:a,isEmpty:(0,y.default)(this.metrics)},p.default.createElement("div",{className:O.default.content},o.map((function(t){return e.renderChart(t)}))))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=T},2758:function(e,t,r){e.exports={content:"sWcV6DTJ_nB-mAR8ayQtO",box:"_20J7gX0eLgCDG08z96LldT"}},2759:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(70),p=a(n(3)),m=a(n(1390)),h=n(25),y=a(n(2760)),v=a(n(2764));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var E=(0,f.inject)("rootStore")(o=(0,f.observer)(o=function(e){(0,l.default)(n,e);var r=g(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e)).download=function(){t.store.download("node.usage.rank.json")},t.store=new m.default({cluster:t.cluster}),t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.store.fetchAll()}},{key:"render",value:function(){return d.default.createElement("div",{className:v.default.wrapper},d.default.createElement("h3",{className:(0,p.default)(v.default.pane,v.default.title)},t("RESOURCE_USAGE_RANKING")),this.renderToolbar(),this.renderList())}},{key:"renderToolbar",value:function(){return d.default.createElement("div",{className:(0,p.default)(v.default.toolbar,v.default.pane__toolbar,v.default.pane)},d.default.createElement("div",{className:v.default.toolbar_filter},d.default.createElement(h.Select,{value:this.store.sort_metric,onChange:this.store.changeSortMetric,options:this.options}),d.default.createElement("span",{className:v.default.sort_button},d.default.createElement(h.Icon,{name:"desc"===this.store.sort_type?"sort-descending":"sort-ascending",type:"coloured",size:"small",onClick:this.store.changeSortType}))),d.default.createElement("div",{className:v.default.toolbar_buttons},d.default.createElement(h.Button,{onClick:this.download},t("EXPORT"))))}},{key:"renderList",value:function(){return d.default.createElement(h.Loading,{spinning:this.store.isLoading},d.default.createElement("div",null,d.default.createElement(y.default,{store:this.store,cluster:this.cluster}),this.renderPagination()))}},{key:"renderPagination",value:function(){var e=this.store,t=e.page,r=e.total_page,n=this.store.limit;return d.default.createElement("div",{className:(0,p.default)(v.default.pane,v.default.pane__pagination)},d.default.createElement(h.Level,null,d.default.createElement(h.LevelLeft,null),d.default.createElement(h.LevelRight,null,d.default.createElement(h.Pagination,{page:t,total:r,limit:n,onChange:this.store.changePagination}))))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"options",get:function(){return this.store.sort_metric_options.map((function(e){return{value:e,label:t("SORT_BY_".concat(e.toUpperCase()))}}))}}]),n}(d.default.Component))||o)||o;r.default=E},2760:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(70),p=n(725),m=a(n(16)),h=n(25),y=a(n(802)),v=a(n(2761)),g=a(n(1398)),E=a(n(2763));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var O=(0,f.observer)(o=function(e){(0,l.default)(n,e);var r=_(n);function n(){var e;(0,u.default)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=r.call.apply(r,[this].concat(o))).IconWidth=40,e.rankTdWidth=124,e.columns=[{width:e.IconWidth,key:"icon",render:function(){return d.default.createElement(h.Icon,{name:"nodes",type:"dark",size:40})}},{title:t("NODE"),render:function(r){var n=(0,m.default)(r,"role",[]).includes("edge")?"/clusters/".concat(e.props.cluster,"/edgenodes/").concat(r.node):"/clusters/".concat(e.props.cluster,"/nodes/").concat(r.node);return d.default.createElement("div",null,d.default.createElement("h3",null,d.default.createElement(v.default,{to:n,auth:e.canViewNode},r.node),"master"===r.role&&d.default.createElement("span",{className:E.default.label},t("CONTROL_PLANE"))),d.default.createElement("p",null,(0,m.default)(r,"host_ip","-")))}},{key:"cpu",width:e.rankTdWidth,sort_metric:"node_cpu_utilisation",title:t("CPU_USAGE"),render:function(t){var r=(0,p.getSuitableUnit)(t.node_cpu_total,"cpu");return d.default.createElement("div",null,d.default.createElement("h3",null,e.toPercentage(t.node_cpu_utilisation)),d.default.createElement("div",null,(0,p.getValueByUnit)(t.node_cpu_usage,r)||"-","/","",(0,p.getValueByUnit)(t.node_cpu_total,r)||"-"," ",r))}},{width:e.rankTdWidth,title:d.default.createElement("span",{className:E.default.averageload},t("AVERAGE_CPU_LOAD")),sort_metric:"node_load1",render:function(e){return d.default.createElement("div",null,d.default.createElement("h3",null,e.node_load1&&Number(e.node_load1).toFixed(2)||"-"))}},{width:e.rankTdWidth,sort_metric:"node_memory_utilisation",title:t("MEMORY_USAGE"),key:"Memory",render:function(t){return d.default.createElement("div",null,d.default.createElement("h3",null,e.toPercentage(t.node_memory_utilisation)),d.default.createElement("div",null,(0,p.getValueByUnit)(t.node_memory_usage_wo_cache,"Gi")||"-","/",(0,p.getValueByUnit)(t.node_memory_total,"Gi")||"-"," Gi"))}},{title:t("DISK_USAGE"),key:"disk",sort_metric:"node_disk_size_utilisation",width:e.rankTdWidth,render:function(t){return d.default.createElement("div",null,d.default.createElement("h3",null,e.toPercentage(t.node_disk_size_utilisation)),d.default.createElement("div",null,(0,p.getValueByUnit)(t.node_disk_size_usage,"GB")||"-","/",(0,p.getValueByUnit)(t.node_disk_size_capacity,"GB")||"-"," GB"))}},{width:e.rankTdWidth,title:t("INODE_USAGE"),sort_metric:"node_disk_inode_utilisation",render:function(t){return d.default.createElement("div",null,d.default.createElement("h3",null,e.toPercentage(t.node_disk_inode_utilisation)),d.default.createElement("div",null,t.node_disk_inode_usage||"-","/",t.node_disk_inode_total||"-"))}},{title:t("POD_USAGE"),key:"Pod",width:e.rankTdWidth,sort_metric:"node_pod_utilisation",render:function(t){return d.default.createElement("div",null,d.default.createElement("h3",null,e.toPercentage(t.node_pod_utilisation)),d.default.createElement("div",null,t.node_pod_running_count||"-","/",t.node_pod_quota||"-"))}}],e}return(0,c.default)(n,[{key:"toPercentage",value:function(e){var t=Number(e)||0;return"".concat(Math.ceil(100*t),"%")}},{key:"render",value:function(){var e=this.props,t=e.theme,r=e.store,n=this.props.store.data;return d.default.createElement(g.default,{theme:t,columns:this.columns,store:r,dataSource:n.toJS(),emptyText:d.default.createElement(y.default,null)})}},{key:"canViewNode",get:function(){var e=this.props.cluster;return globals.app.hasPermission({cluster:e,module:"nodes",action:"view"})}}]),n}(d.default.Component))||o;r.default=O},2761:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(56)),o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(276);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var p=function(e){(0,c.default)(r,e);var t=f(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,t=e.auth,r=void 0===t||t,n=e.children,o=(0,a.default)(e,["auth","children"]);return r?s.default.createElement(d.Link,o,n):n}}]),r}(s.default.Component);t.default=p},2763:function(e,t,r){e.exports={averageload:"_3_Hggcp481WO7zZ336uFH8",label:"_22ue87-PodDbjiANYaVuvk"}},2764:function(e,t,r){e.exports={wrapper:"_2P7PdvezYjRtSEmE29J8Ar",pane:"_1DURUYk4FqXRlVLiEK23O1",pane__toolbar:"aRdfy8lcLlfL-Y83e6jGD",pane__pagination:"_2eA13_VjA75hvBiAhRlUYV",title:"MPxO6uDiB7DbkF0b5iMTu",toolbar:"_3Z9Ad95QU2iGBj_xxDW3fd",toolbar_buttons:"_3QmcC0Hk1xUcNxHR_0EbXW",toolbar_filter:"uWPN7S-1sicqgHS-Nsc7-",sort_button:"yvJ2AO-e2ripmTSNwZtqP",table:"_12Tl8qEZhLLCQSTWy13y8Q",table_rank:"_1pyQQOSWX0OLiSRx3H4ynW",table_no_border:"_2NEj9rhYr8D6hKOtN9QJO0",rankList_row:"_1bS8qY9r_xrxLEJd4YDutw",rankCol:"_3cPfq94oQC6yhhBgO7gFBj"}},2765:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(634),h=a(n(724)),y=a(n(2766));function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var _=(0,p.inject)("rootStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=E(n);function n(){return(0,c.default)(this,n),r.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){return f.default.createElement("div",null,f.default.createElement(h.default,{icon:"linechart",title:t("APPLICATION_RESOURCE_PL"),description:t("MONITORING_APPLICATION_DESC"),routes:this.routes}),(0,m.renderRoutes)(y.default))}},{key:"routes",get:function(){return y.default.filter((function(e){return!!e.title})).map((function(e){return g(g({},e),{},{name:e.path.split("/").pop()})}))}}]),n}(f.default.Component))||o)||o;r.default=_},2766:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2767)),u=n(r(2774)),c="/clusters/:cluster/monitor-resource",l=[{path:"".concat(c,"/usage"),title:"RESOURCE_USAGE",component:o.default,exact:!0},{path:"".concat(c,"/ranking"),title:"USAGE_RANKING",component:u.default,exact:!0},(0,a.getIndexRoute)({path:c,to:"".concat(c,"/usage"),exact:!0})];t.default=l},2767:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(1399)),p=n(r(1402)),m=n(r(2772));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=(0,d.inject)("rootStore")(a=function(e){(0,c.default)(r,e);var t=h(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"renderPhysicalResource",value:function(){return s.default.createElement(f.default,this.props)}},{key:"renderVirtualResource",value:function(){return s.default.createElement(p.default,this.props)}},{key:"renderProjectTrend",value:function(){return s.default.createElement(m.default,this.props)}},{key:"render",value:function(){return s.default.createElement("div",null,this.renderPhysicalResource(),this.renderVirtualResource(),this.renderProjectTrend())}}]),r}(s.default.Component))||a;t.default=y},2772:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(70),h=a(n(3)),y=a(n(32)),v=a(n(16)),g=n(725),E=a(n(963)),_=n(25),O=a(n(741)),b=n(735),S=a(n(2773));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var R={namespace_count:"cluster_namespace_count"},D=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var r=k(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.monitorStore.fetchMetrics(T({metrics:Object.values(R),step:"60m",times:100},e))},t.monitorStore=new E.default({cluster:e.match.params.cluster}),t.fetchData(),t}return(0,i.default)(n,[{key:"renderChart",value:function(){var e=(0,g.getAreaChartOps)({title:"PROJECT_COUNT",unit:"",legend:["PROJECT_COUNT"],data:(0,v.default)(this.metrics,"".concat(R.namespace_count,".data.result"))});return(0,y.default)(e.data)?null:p.default.createElement(b.SimpleArea,(0,u.default)({width:"100%",bgColor:"transparent"},e))}},{key:"render",value:function(){var e=this.monitorStore,r=e.isLoading,n=e.isRefreshing,a=(0,y.default)(this.metrics);return p.default.createElement(_.Loading,{spinning:r},p.default.createElement(O.default,{className:(0,h.default)(S.default.card,(0,c.default)({},S.default.empty,a)),refreshing:n,empty:t("NO_MONITORING_DATA")},this.renderChart()))}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(p.default.Component))||o)||o;r.default=D},2773:function(e,t,r){e.exports={card:"wwlsDBiAjm0q1bmRNgj6o",empty:"_1ad28rokzs4wIzr9i7erxd"}},2774:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(13)),u=n(r(19)),c=n(r(20)),l=n(r(18)),i=n(r(0)),s=n(r(2775)),d=n(r(2777));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var p=function(e){(0,u.default)(r,e);var t=f(r);function r(){return(0,a.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){return i.default.createElement("div",{className:d.default.wrapper},i.default.createElement(s.default,{cluster:this.props.match.params.cluster}))}}]),r}(i.default.Component);t.default=p},2775:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(70),p=a(n(3)),m=n(25),h=a(n(1403)),y=a(n(1404)),v=a(n(2776));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var E=(0,f.observer)(o=function(e){(0,l.default)(n,e);var r=g(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e)).download=function(){t.store.download("project.usage.rank.json")},t.store=new h.default({limit:10,sort_type:"desc",cluster:e.cluster}),t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.store.fetchAll()}},{key:"render",value:function(){return d.default.createElement("div",{className:v.default.wrapper},this.renderToolbar(),this.renderList())}},{key:"renderToolbar",value:function(){return d.default.createElement("div",{className:(0,p.default)(v.default.toolbar,v.default.pane__toolbar,v.default.pane)},d.default.createElement("div",{className:v.default.toolbar_filter},d.default.createElement(m.Select,{value:this.store.sort_metric,onChange:this.store.changeSortMetric,options:this.options}),d.default.createElement("span",{className:v.default.sort_button},d.default.createElement(m.Icon,{name:"desc"===this.store.sort_type?"sort-descending":"sort-ascending",type:"coloured",size:"small",onClick:this.store.changeSortType}))),d.default.createElement("div",{className:v.default.toolbar_buttons},d.default.createElement(m.Button,{onClick:this.download},t("EXPORT"))))}},{key:"renderList",value:function(){return d.default.createElement(m.Loading,{spinning:this.store.isLoading},d.default.createElement("div",null,d.default.createElement(y.default,{cluster:this.props.cluster,store:this.store}),this.renderPagination()))}},{key:"renderPagination",value:function(){var e=this.store,t=e.page,r=e.total_page,n=this.store.limit;return d.default.createElement("div",{className:(0,p.default)(v.default.pane,v.default.pane__pagination)},d.default.createElement(m.Level,null,d.default.createElement(m.LevelLeft,null),d.default.createElement(m.LevelRight,null,d.default.createElement(m.Pagination,{page:t,total:r,limit:n,onChange:this.store.changePagination}))))}},{key:"options",get:function(){return this.store.sort_metric_options.map((function(e){return{value:e,label:t("SORT_BY_".concat(e.toUpperCase()))}}))}}]),n}(d.default.Component))||o;r.default=E},2776:function(e,t,r){e.exports={wrapper:"_1CmVFNd0G-zs9E1iHfdivR",pane:"_3Xxq0iOcg5rPC1z0QX4VcZ",pane__toolbar:"_2PEZlO8QdUlfOW_Gg2bFho",pane__pagination:"_3tB6nH6MnNdOJ_hACtTFVh",title:"_3WzAR13ip4gsV70FVDKTdJ",toolbar:"_3QzlZPN09RgS4Y67QlJd09",toolbar_buttons:"_2HATCZlaUbpt610R3YC6_p",toolbar_filter:"_3d9XJJFMH1N7n4BKj6Mkwu",sort_button:"Zm30W-XpLeAnhkrxGKaXD",table:"_1zke06m-W2VOKXFYSeau6f",table_rank:"_2fmtCI2sslMwd4fyo_vmK3",table_no_border:"_1QODthKAirf_FppmVzGK2r",rankList_row:"_36FQnaParFo539EUHrLM3j",rankLink__sort_col:"_1tK0CngMzBLJehA_bn8nmS"}},2777:function(e,t,r){e.exports={wrapper:"wa7tMIrleTBU3e6ZCinRa",pane:"TOMVoOzgz8bnMGaXhMj6v",tabs:"_1XJp5HqlcLBB0vE-AP9V6C",selected:"Bgy3xm4otfT4hHjzR2om-"}},2778:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(21)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=n(5),y=a(n(727)),v=a(n(729)),g=a(n(724)),E=o(n(726)),_=a(n(728)),O=n(37),b=a(n(278)),S=a(n(747));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var R=(0,E.default)({store:new b.default,module:"users",authKey:"members",name:"CLUSTER_MEMBER"})(u=function(e){(0,d.default)(n,e);var r=k(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).roleStore=new S.default("clusterroles"),e.getColumns=function(){return[{title:t("USERNAME"),dataIndex:"username",sorter:!0,render:function(e,t){return m.default.createElement(y.default,{avatar:t.avatar_url||"/assets/default-user.svg",title:e,desc:t.email||"-",noLink:!0})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,width:"19%",render:function(e){return m.default.createElement(v.default,{type:e,name:t("USER_".concat(e.toUpperCase()))})}},{title:t("ROLE"),dataIndex:"clusterrole",isHideable:!0,width:"19%"},{title:t("LAST_LOGIN"),dataIndex:"lastLoginTime",isHideable:!0,width:150,render:function(e){return m.default.createElement("p",null,e?(0,O.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):t("NOT_LOGIN_YET"))}}]},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.canViewRoles&&this.roleStore.fetchList(T(T({},this.props.match.params),{},{limit:-1}))}},{key:"showAction",value:function(e){return globals.user.username!==e.name}},{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps;return m.default.createElement(E.ListPage,this.props,m.default.createElement(g.default,(0,c.default)({},r,{tabs:this.tabs,description:t("INVITE_CLUSTER_MEMBER_DESC")})),m.default.createElement(_.default,(0,c.default)({},n,{emptyProps:this.emptyProps,tableActions:this.tableActions,itemActions:this.itemActions,columns:this.getColumns(),searchType:"name"})))}},{key:"canViewRoles",get:function(){var e=this.props.match.params.cluster;return globals.app.hasPermission({cluster:e,module:"roles",action:"view"})}},{key:"tips",get:function(){return[{title:t("HOW_TO_INVITE_MEMBER_Q"),description:t("HOW_TO_INVITE_MEMBER_A")}]}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.getData,a=r.trigger;return[{key:"modify",icon:"pen",text:t("CHANGE_ROLE"),action:"edit",show:this.showAction,onClick:function(t){return a("member.edit",T(T({detail:t},e.props.match.params),{},{roles:(0,h.toJS)(e.roleStore.list.data),role:t.clusterrole,success:n}))}},{key:"delete",icon:"trash",text:t("REMOVE"),action:"delete",show:this.showAction,onClick:function(t){return a("member.remove",T({detail:t,success:n},e.props.match.params))}}]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.getData,o=r.routing;return T(T({},r.tableProps.tableActions),{},{actions:[{key:"invite",type:"control",text:t("INVITE"),action:"create",onClick:function(){return n("member.invite",T(T({},e.props.match.params),{},{roles:(0,h.toJS)(e.roleStore.list.data),roleModule:e.roleStore.module,title:t("INVITE_MEMBER"),desc:t("INVITE_CLUSTER_MEMBER_DESC"),searchPlaceholder:t("INVITE_MEMBER_SEARCH_PLACEHOLDER"),success:o.query}))}}],selectActions:[{key:"delete",type:"danger",text:t("REMOVE"),action:"delete",onClick:function(){return n("member.remove.batch",T({success:a},e.props.match.params))}}],getCheckboxProps:function(t){return{disabled:!e.showAction(t),name:t.name}}})}},{key:"emptyProps",get:function(){return{desc:t("INVITE_CLUSTER_MEMBER_DESC")}}}]),n}(m.default.Component))||u;r.default=R},2779:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(21)),l=a(n(71)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(727)),y=a(n(724)),v=a(n(728)),g=o(n(726)),E=n(37),_=n(58),O=a(n(747));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=(0,g.default)({store:new O.default("clusterroles"),module:"clusterroles",name:"CLUSTER_ROLE"})(u=function(e){(0,d.default)(n,e);var r=C(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).showAction=function(e){return!globals.config.presetClusterRoles.includes(e.name)},e.getColumns=function(){var r=e.props.getSortOrder,n=e.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",width:"25%",render:function(t){return m.default.createElement(h.default,{icon:_.ICON_TYPES[e.module],to:"/clusters/".concat(n,"/roles/").concat(t),title:t})}},{title:t("DESCRIPTION"),key:"description",dataIndex:"description",isHideable:!0,width:"55%"},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:r("createTime"),isHideable:!0,width:"19%",render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.store.fetchRoleTemplates(this.props.match.params)}},{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps;return m.default.createElement(g.ListPage,(0,l.default)({},this.props,{noWatch:!0}),m.default.createElement(y.default,(0,l.default)({},t,{tabs:this.tabs})),m.default.createElement(v.default,(0,l.default)({},r,{emptyProps:this.emptyProps,tableActions:this.tableActions,itemActions:this.itemActions,columns:this.getColumns(),searchType:"name"})))}},{key:"itemActions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.name,o=r.routing;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:this.showAction,onClick:function(e){return n("resource.baseinfo.edit",{detail:e,success:o.query})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",show:this.showAction,onClick:function(t){return n("role.delete",{detail:t,type:a,success:o.query,cluster:e.props.match.params.cluster})}}]}},{key:"tableActions",get:function(){return S(S({},this.props.tableProps.tableActions),{},{onCreate:void 0,selectActions:[]})}},{key:"emptyProps",get:function(){return{desc:t("CLUSTER_ROLE_DESC")}}}]),n}(m.default.Component))||u;r.default=T},2780:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(16)),f=a(n(0)),p=n(70),m=n(25),h=a(n(723)),y=a(n(275)),v=a(n(724)),g=a(n(1389)),E=n(37),_=n(635),O=n(58),b=n(725),S=a(n(845)),C=a(n(1026)),T=a(n(2782));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var R={cpu_usage:"cluster_cpu_total",memory_usage:"cluster_memory_total",disk_size_usage:"cluster_disk_size_capacity",node_count:"cluster_node_total"},D=(0,p.inject)("rootStore","clusterStore")(o=(0,p.observer)(o=(0,_.trigger)(o=function(e){(0,l.default)(n,e);var r=k(n);function n(){var e;(0,u.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={confirm:!1},e.monitorStore=new S.default,e.getValue=function(e,t){var r=(0,d.default)(e,"value[1]",0),n=(0,b.getSuitableUnit)(r,t)||n,a=(0,b.getValueByUnit)(r,n);return n?"".concat(a," ").concat(n):a},e.fetchData=function(){e.store.fetchVersion({cluster:e.store.detail.name}),e.monitorStore.fetchMetrics({cluster:e.store.detail.name,metrics:Object.values(R),last:!0})},e.fetchClusterDetail=function(){e.store.fetchDetail({name:e.props.match.params.cluster})},e.getResourceOptions=function(){if(e.monitorStore.isLoading)return[];var t=(0,b.getLastMonitoringData)(e.monitorStore.data);return[{name:1===e.getValue(t[R.node_count])?"NODE":"NODES",icon:"nodes",value:e.getValue(t[R.node_count])},{name:"CPU",icon:"cpu",value:e.getValue(t[R.cpu_usage],"cpu")},{name:"MEMORY",icon:"memory",value:e.getValue(t[R.memory_usage],"memory")},{name:"DISK",icon:"storage",value:e.getValue(t[R.disk_size_usage],"disk")}]},e.showEdit=function(){e.trigger("resource.baseinfo.edit",{detail:e.store.detail,modal:g.default,success:e.fetchClusterDetail})},e.handleChange=function(t){e.setState({confirm:t})},e.handleUnbind=function(){e.trigger("cluster.unbind",{store:e.store,detail:e.store.detail,success:function(){return e.props.rootStore.routing.push("/clusters")}})},e.updateKubeConfig=function(){e.trigger("cluster.updateKubeConfig",{detail:e.store.detail,success:e.fetchClusterDetail})},e.manageButtonClick=function(t,r){var n=e.enableManageAction.filter((function(e){return e.actionName===r}))[0];n&&n.onClick()},e.renderManageButton=function(){var t=e.enableManageAction,r=f.default.createElement(m.Menu,{onClick:e.manageButtonClick},t.map((function(e){return f.default.createElement(m.Menu.MenuItem,{key:e.actionName},f.default.createElement(m.Icon,{name:e.icon,type:"light"}),e.text)})));return t.length>1?f.default.createElement(C.default,{className:T.default.manage,content:r}):t.length>0&&f.default.createElement(m.Button,{className:T.default.singleButton,onClick:function(){return t[0].onClick()}},t[0].text)},e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.store.detail.isReady&&this.fetchData()}},{key:"render",value:function(){var e=this.store.detail,r=e.provider,n=e.kubernetesVersion,a=this.getResourceOptions();return f.default.createElement(f.default.Fragment,null,f.default.createElement(v.default,{icon:"cluster",title:t("BASIC_INFORMATION"),description:t("CLUSTER_BASE_INFO_DESC")}),f.default.createElement(h.default,{title:t("CLUSTER_INFORMATION")},f.default.createElement("div",{className:T.default.header},f.default.createElement(y.default,{icon:O.CLUSTER_PROVIDER_ICON[r]||"kubernetes",title:(0,E.getDisplayName)(this.store.detail),description:t("CLUSTER")}),r&&f.default.createElement(y.default,{title:r,description:t("PROVIDER")}),f.default.createElement(y.default,{title:n||this.store.version,description:t("KUBERNETES_VERSION")}),this.renderManageButton()),f.default.createElement("div",{className:T.default.content},a.map((function(e){return f.default.createElement(y.default,{key:e.name,icon:e.icon,title:e.value,description:t(e.name)})})))))}},{key:"store",get:function(){return this.props.clusterStore}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"cluster-settings",cluster:this.props.match.params.cluster})}},{key:"enableManageAction",get:function(){var e=this.store.detail.isHost,r=void 0!==e&&e,n=this.enabledActions,a=[];return n.includes("edit")&&globals.app.isMultiCluster&&a.push({actionName:"resource.baseinfo.edit",onClick:this.showEdit,icon:"pen",text:t("EDIT_INFORMATION")}),!r&&n.includes("edit")&&a.push({actionName:"cluster.update.kubeconfig",icon:"data",text:t("UPDATE_KUBECONFIG"),onClick:this.updateKubeConfig}),globals.app.isMultiCluster&&n.includes("delete")&&!this.store.detail.isHost&&a.push({actionName:"cluster.unbind",onClick:this.handleUnbind,icon:"trash",text:t("UNBIND_CLUSTER")}),a}}]),n}(f.default.Component))||o)||o)||o;r.default=D},2782:function(e,t,r){e.exports={header:"_2SXq6W7Y5arA1V8ydx3x9k",content:"_3zCn6ZnEb1mjwR_f5JXgA",tip:"lIqFeO0ppH8_MxJdLUlTw",unbind:"_3-xB7xj9NBxURt-nM9E8YT",manage:"_12M4oLKObAdKFXEoaa5wxj",singleButton:"_1HEVP9zq3sERwI9RlCnfHB"}},2783:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(49)),c=a(n(50)),l=a(n(21)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=n(5),y=n(70),v=n(25),g=a(n(727)),E=a(n(723)),_=a(n(275)),O=a(n(835)),b=a(n(724)),S=n(37),C=n(635),T=a(n(16)),k=a(n(770)),R=a(n(2784));function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var N=(0,y.inject)("rootStore","clusterStore")(o=(0,y.observer)(o=(0,C.trigger)(o=function(e){(0,d.default)(n,e);var r=M(n);function n(){var e;(0,i.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).workspaceStore=new k.default,e.getData=function(t){e.workspaceStore.fetchList(A(A(A({},e.props.match.params),t),{},{labelSelector:"kubefed.io/managed=true"}))},e.afterEdit=(0,c.default)(u.default.mark((function t(){var r;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.match.params.cluster,t.next=3,e.cluster.fetchDetail({name:r});case 3:e.getData();case 4:case"end":return t.stop()}}),t)}))),e.editVisibility=function(){return e.trigger("cluster.visibility.edit",{store:e.cluster,cluster:e.cluster.detail,success:e.afterEdit})},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getColumns",value:function(){return[{title:t("WORKSPACE"),dataIndex:"name",render:function(e,t){return m.default.createElement(g.default,{icon:"enterprise",iconSize:40,title:(0,S.getDisplayName)(t),desc:t.description||"-",noLink:!0})}},{title:t("ADMINISTRATOR"),dataIndex:"manager"},{title:t("AUTHORIZATION_TIME_TCAP"),dataIndex:"createTime",width:"20%",render:function(e){return(0,S.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]}},{key:"renderVisibility",value:function(){var e=this.workspaceStore.list,r=e.data,n=e.total,a=e.page,o=e.limit,u=e.filters,c=e.keyword,l=e.isLoading,i={total:n,page:a,limit:o},s={name:"Workspace",module:"workspaces",desc:t("CLUSTER_VISIBILITY_DESC")};return m.default.createElement("div",{className:R.default.tableWrapper},m.default.createElement(O.default,{data:(0,h.toJS)(r),filters:u,keyword:c,pagination:i,isLoading:l,onFetch:this.getData,searchType:"name",emptyProps:s,columns:this.getColumns()}))}},{key:"render",value:function(){return m.default.createElement(m.default.Fragment,null,m.default.createElement(b.default,{icon:"cluster",title:t("CLUSTER_VISIBILITY"),description:t("CLUSTER_VISIBILITY_DESC"),tips:this.tips}),m.default.createElement(E.default,null,m.default.createElement("div",{className:R.default.header},m.default.createElement(_.default,{icon:this.isClusterPublicVisible?"eye":"eye-closed",title:this.isClusterPublicVisible?t("VISIBILITY_PUBLIC"):t("VISIBILITY_PARTIAL"),description:t("CLUSTER_VISIBILITY_SCAP")}),globals.app.isMultiCluster&&this.clusterRules.includes("manage")&&m.default.createElement(v.Button,{onClick:this.editVisibility},t("EDIT_VISIBILITY"))),this.renderVisibility()))}},{key:"cluster",get:function(){return this.props.clusterStore}},{key:"isClusterPublicVisible",get:function(){return"public"===this.cluster.detail.visibility}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"cluster-settings",cluster:this.props.match.params.cluster})}},{key:"tips",get:function(){return[{title:t("CLUSTER_VISIBILITY_Q1"),description:t("CLUSTER_VISIBILITY_A1")}]}},{key:"clusterRules",get:function(){return(0,T.default)(globals,"user.globalRules.clusters",[])}}]),n}(m.default.Component))||o)||o)||o;r.default=N},2784:function(e,t,r){e.exports={header:"_2w6hdp2HJmk_fypnMB8LtJ",tableWrapper:"_15y23XCn7gLEvRQ1wRkT2p"}},2785:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(12)),u=a(n(13)),c=a(n(19)),l=a(n(20)),i=a(n(18)),s=a(n(0)),d=a(n(1370));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var p=function(e){(0,c.default)(n,e);var r=f(n);function n(){return(0,o.default)(this,n),r.apply(this,arguments)}return(0,u.default)(n,[{key:"pageClose",value:function(){window.opener=null,window.open("","_self",""),window.close()}},{key:"render",value:function(){return s.default.createElement(d.default,{title:t("kubeconfig"),match:this.props.match,onCancel:this.pageClose})}}]),n}(s.default.Component);r.default=p},2786:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=a(n(16)),h=n(276),y=a(n(727)),v=a(n(724)),g=a(n(1141)),E=n(726),_=a(n(791)),O=n(37),b=n(58);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var k=(0,E.withClusterList)({store:new g.default("networkpolicies"),name:"NETWORK_POLICY",module:"networkpolicies",rowKey:"key"})(o=function(e){(0,s.default)(n,e);var r=T(n);function n(e){var a;return(0,l.default)(this,n),(a=r.call(this,e)).tips=[{title:t("NETWORK_POLICY_Q"),description:t.html("NETWORK_POLICY_A")},{title:t("NETWORK_POLICY_Q1"),description:t.html("NETWORK_POLICY_A1")}],a.store=e.store,a}return(0,i.default)(n,[{key:"render",value:function(){var e=this.tips,t=this.props,r=t.query,n=t.match,a=t.bannerProps,o=t.tableProps;return p.default.createElement(E.ListPage,this.props,p.default.createElement(v.default,(0,c.default)({},a,{tips:e})),p.default.createElement(_.default,(0,c.default)({},o,{rowKey:"key",itemActions:this.itemActions,namespace:r.namespace,columns:this.getColumns,actions:this.actions,cluster:n.params.cluster,searchType:"name"})))}},{key:"params",get:function(){return(0,m.default)(this.props.match,"params",{})}},{key:"cluster",get:function(){return(0,m.default)(this.params,"cluster")}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.routing,a=e.name;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return r("resource.baseinfo.edit",{detail:e,success:n.query})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(e){return r("resource.yaml.edit",{detail:e,success:n.query})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return r("resource.delete",{type:a,detail:e,success:n.query})}}]}},{key:"actions",get:function(){var e=this,r=this.props,n=r.trigger,a=r.routing,o=this.cluster;return[{key:"create",type:"control",text:t("CREATE_BTN"),action:"create",onClick:function(){return n("network.policies.addByYaml",C(C({},e.props),{},{cluster:o,success:a.query}))}}]}},{key:"getColumns",get:function(){var e=this.props,r=e.getSortOrder,n=e.module,a=this.props.match.params.cluster;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:r("name"),render:function(e,t){return p.default.createElement(y.default,{icon:b.ICON_TYPES[n],iconSize:40,title:(0,O.getDisplayName)(t),desc:t.description,to:"/clusters/".concat(a,"/projects/").concat(t.namespace,"/").concat(n,"/").concat(e)})}},{title:t("PROJECT"),dataIndex:"namespace",isHideable:!0,width:"22%",render:function(e){return p.default.createElement(h.Link,{to:"/clusters/".concat(a,"/projects/").concat(e)},e)}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:r("createTime"),isHideable:!0,width:150,render:function(e){return(0,O.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]}}]),n}(p.default.Component))||o;r.default=k},2787:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=a(n(16)),h=a(n(727)),y=a(n(275)),v=a(n(724)),g=o(n(726)),E=a(n(728)),_=n(37),O=n(58),b=a(n(1074));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C=(0,g.default)({store:new b.default,module:"ippools",name:"POD_IP_POOL"})(u=function(e){(0,s.default)(n,e);var r=S(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.module;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),width:"40%",render:function(t,r){return p.default.createElement(h.default,{icon:O.ICON_TYPES[a],iconSize:40,title:(0,_.getDisplayName)(r),desc:r.description||"-",to:"".concat(e.props.match.url,"/").concat(t)})}},{title:t("NETWORK_SEGMENT"),dataIndex:"cidr"},{title:t("USED_IP_ADDRESSES"),dataIndex:"status",render:function(e){var r=(0,m.default)(e,"capacity",0),n=(0,m.default)(e,"unallocated",0);return p.default.createElement(y.default,{title:r-n,description:t("TOTAL_VALUE",{value:r})})}},{title:t("WORKSPACE"),dataIndex:"workspace",render:function(e,r){return r.isDefault?t("ALL"):e||t("NOT_ASSIGNED")}}]},e.showCreate=function(){var t=e.props,r=t.match,n=t.module;return e.props.trigger("network.ippool.add",{module:n,cluster:r.params.cluster})},e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.match,r=e.bannerProps,n=e.tableProps;return p.default.createElement(g.ListPage,this.props,p.default.createElement(v.default,(0,c.default)({},r,{tips:this.tips})),p.default.createElement(E.default,(0,c.default)({},n,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,cluster:t.params.cluster,getCheckboxProps:this.getCheckboxProps,searchType:"name"})))}},{key:"tips",get:function(){return[{title:t("IPPOOL_USAGE_Q"),description:t("IPPOOL_USAGE_A")}]}},{key:"itemActions",get:function(){var e=this.props,r=e.trigger,n=e.name,a=e.match;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return r("resource.baseinfo.edit",{detail:e})}},{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(e){return r("resource.yaml.edit",{detail:e,readOnly:!0})}},{key:"modify",icon:"enterprise",text:t("ASSIGN_WORKSPACE"),action:"edit",onClick:function(e){return r("network.ipool.assignworkspace",{detail:e,cluster:a.params.cluster})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return r("resource.delete",{type:n,detail:e})}}]}}]),n}(p.default.Component))||u;r.default=C},2788:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c=a(n(49)),l=a(n(21)),i=a(n(50)),s=a(n(12)),d=a(n(13)),f=a(n(19)),p=a(n(20)),m=a(n(18)),h=a(n(74)),y=a(n(0)),v=n(70),g=n(5),E=a(n(3)),_=a(n(16)),O=n(276),b=n(25),S=a(n(275)),C=a(n(723)),T=a(n(724)),k=a(n(2789)),R=a(n(1408)),D=n(37),A=a(n(1409)),M=a(n(2794));function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var w=(0,v.inject)("rootStore")(o=(0,v.observer)((u=function(e){(0,f.default)(n,e);var r=I(n);function n(){var e;(0,s.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=new R.default,e.state={showCreate:!1},e.refresh=function(){e.store.fetch({labelSelector:"logging.kubesphere.io/component=".concat(e.component),cluster:e.props.match.params.cluster})},e.handleTabChange=function(t){e.props.rootStore.routing.push("/clusters/".concat(e.cluster,"/log-collections/").concat(t))},e.showCreateModal=function(){e.setState({showCreate:!0})},e.hideCreateModal=function(){e.setState({showCreate:!1})},e.createCollection=function(){var t=(0,i.default)(c.default.mark((function t(r){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.create(P(P({},r),{},{cluster:e.cluster,component:e.component}));case 2:e.hideCreateModal(),e.refresh();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.refresh();var e=this.tabs.options.filter((function(e){return!e.hidden})).map((function(e){return e.value}));e.includes(this.component)||this.handleTabChange(e[0]||"logging")}},{key:"componentDidUpdate",value:function(e){this.component!==e.match.params.component&&this.refresh()}},{key:"renderCreateButton",value:function(){return this.enabledActions.includes("create")?y.default.createElement(b.Button,{type:"control",disabled:this.store.list.isLoading,onClick:this.showCreateModal},t("ADD_LOG_RECEIVER")):null}},{key:"renderModal",value:function(){var e=this.state.showCreate;return e&&y.default.createElement(k.default,{title:t("ADD_LOG_RECEIVER"),store:this.store,visible:e,isSubmitting:this.store.isSubmitting,onCancel:this.hideCreateModal,onOk:this.createCollection})}},{key:"renderCollection",value:function(){return y.default.createElement(b.Loading,{spinning:this.store.list.isLoading},y.default.createElement("div",null,this.collections.length?this.collections.map(this.renderCollectionItem,this):this.renderEmptyCollection()))}},{key:"renderCollectionItem",value:function(e){var r=e.type,n=(0,_.default)(A.default,r,{}),a=(0,_.default)(n,"ICON",(function(){})),o=(0,_.default)(n,"title",""),u=e.address;return y.default.createElement(O.Link,{key:e.uid,to:"".concat(this.props.match.url,"/").concat(e.name)},y.default.createElement(C.default,{className:M.default.item},y.default.createElement(a,{width:40,height:40}),y.default.createElement(S.default,{title:y.default.createElement("span",{className:M.default.title},o),description:"".concat(t("LOG_ADDRESS")).concat(u)}),y.default.createElement(S.default,{title:e.enabled?t("ENABLED"):t("DISABLED"),description:t("STATUS")}),y.default.createElement(S.default,{title:t(e.component.toUpperCase()),description:t("TYPE")}),y.default.createElement(S.default,{title:(0,D.getLocalTime)(e.creationTimestamp).format("YYYY-MM-DD HH:mm:ss"),description:t("CREATION_TIME")})))}},{key:"renderEmptyCollection",value:function(){return y.default.createElement("div",{className:(0,E.default)(M.default.pane,M.default.empty)},y.default.createElement(b.Icon,{size:40,name:"file"}),y.default.createElement("p",null,t("EMPTY_LOG_COLLECTIONS")),this.renderCreateButton())}},{key:"render",value:function(){return y.default.createElement("div",{className:M.default.wrapper},y.default.createElement(T.default,{className:M.default.header,icon:"file",title:t("LOG_RECEIVER_PL"),description:t("LOG_COLLECTION_DESC"),tabs:this.tabs,extra:y.default.createElement("div",{className:M.default.extra},y.default.createElement(b.Button,{type:"flat",onClick:this.refresh},y.default.createElement(b.Icon,{name:"refresh"})),this.renderCreateButton())}),this.renderCollection(),this.renderModal())}},{key:"collections",get:function(){return this.store.list.data}},{key:"component",get:function(){return this.props.match.params.component}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"cluster-settings",cluster:this.props.match.params.cluster})}},{key:"tabs",get:function(){return{value:this.component,onChange:this.handleTabChange,options:[{value:"logging",label:t("CONTAINER_LOGS"),hidden:!globals.app.hasClusterModule(this.cluster,"logging")},{value:"events",label:t("RESOURCE_EVENTS"),hidden:!globals.app.hasClusterModule(this.cluster,"events")},{value:"auditing",label:t("AUDIT_LOGS"),hidden:!globals.app.hasClusterModule(this.cluster,"auditing")}]}}}]),n}(y.default.Component),(0,h.default)(u.prototype,"collections",[g.computed],Object.getOwnPropertyDescriptor(u.prototype,"collections"),u.prototype),o=u))||o)||o;r.default=w},2789:function(e,r,n){"use strict";var a=n(72),o=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u=o(n(71)),c=o(n(56)),l=o(n(21)),i=o(n(136)),s=o(n(12)),d=o(n(13)),f=o(n(19)),p=o(n(20)),m=o(n(18)),h=a(n(0)),y=o(n(1)),v=o(n(16)),g=o(n(3)),E=n(25),_=o(n(274)),O=o(n(2790)),b=o(n(2792)),S=o(n(2793));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var R=function(e){(0,f.default)(n,e);var r=k(n);function n(){var e;(0,s.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).collectionMap=Object.entries(b.default).reduce((function(e,t){var r=(0,i.default)(t,2),n=r[0],a=r[1];return T(T({},e),{},(0,l.default)({},n,{Form:(0,O.default)(a.Form)}))}),{}),e.formRef=h.default.createRef(),e.state={collectionType:""},e.selectCollectionType=function(t){e.setState({collectionType:t.currentTarget.dataset.type},(function(){var t=(0,v.default)(b.default,"".concat(e.state.collectionType,".validator"));e.formRef.current.setCustomValidator(t)}))},e.handleSubmit=function(t){e.props.onOk(T(T({},t),{Name:e.state.collectionType}))},e.returnToSelectTypeForm=function(){e.setState({collectionType:""})},e}return(0,d.default)(n,[{key:"hasCollectionType",value:function(e){return this.props.store.list.data.find((function(t){return t.type===e}))}},{key:"render",value:function(){var e=this.props,t=e.title,r=(0,c.default)(e,["title"]),n=this.state.collectionType;return h.default.createElement(_.default.Form,(0,u.default)({},r,{icon:"clock",width:691,title:t,formRef:this.formRef,onOk:this.handleSubmit,bodyClassName:S.default.body,disableOk:""===n}),this.renderContent())}},{key:"renderContent",value:function(){var e=this.state.collectionType,t=(0,v.default)(this.collectionMap,"".concat(e,".Form")),r=(0,v.default)(b.default,"".concat(e,".title"));return t?h.default.createElement(t,{wrapperTitle:r,wrapperOnBack:this.returnToSelectTypeForm}):this.renderFormSelector()}},{key:"renderFormSelector",value:function(){return h.default.createElement("div",null,h.default.createElement(E.Alert,{className:"margin-b12",type:"info",message:t("LOG_COLLECTION_TIPS")}),h.default.createElement("div",{className:S.default.items},this.renderFormSelectorItems()))}},{key:"renderFormSelectorItems",value:function(){var e=this;return Object.entries(b.default).map((function(t){var r=(0,i.default)(t,2),n=r[0],a=r[1],o=a.ICON,u=(0,c.default)(a,["ICON"]);return h.default.createElement("div",{key:n,"data-type":n,className:(0,g.default)(S.default.collectionType,e.hasCollectionType(n)&&S.default.disabled),onClick:e.hasCollectionType(n)?null:e.selectCollectionType},h.default.createElement("div",null,h.default.createElement(o,{width:40,height:40})),h.default.createElement("div",null,h.default.createElement("h3",null,u.title),h.default.createElement("p",null,u.description)))}))}}]),n}(h.Component);r.default=R,R.propTypes={store:y.default.object,detail:y.default.object,visible:y.default.bool,isSubmitting:y.default.bool,onOk:y.default.func,onCancel:y.default.func},R.defaultProps={visible:!1,isSubmitting:!1,onOk:function(){},onCancel:function(){}}},2790:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){(0,c.default)(m,t);var r,n,p=(r=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,i.default)(r);if(n){var a=(0,i.default)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,l.default)(this,e)});function m(){return(0,o.default)(this,m),p.apply(this,arguments)}return(0,u.default)(m,[{key:"render",value:function(){var t=this.props,r=t.wrapperOnBack,n=t.wrapperClassName,o=t.wrapperTitle,u=void 0===o?"":o,c=t.hiddenBack,l=void 0!==c&&c,i=(0,a.default)(t,["wrapperOnBack","wrapperClassName","wrapperTitle","hiddenBack"]);return s.default.createElement("div",{className:n},s.default.createElement("h3",{className:f.default.title},l||s.default.createElement(d.ReactComponent,{onClick:r}),s.default.createElement("strong",null,u)),s.default.createElement("div",{className:f.default.content},s.default.createElement(e,i)))}}]),m}(s.default.Component)};var a=n(r(56)),o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(801),f=n(r(2791))},2791:function(e,t,r){e.exports={title:"_vi43jp1IhuQ1z5Ok0h7g",content:"xkLnfMG-J4SV3jMNs09Ra"}},2792:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(16)),u=n(1405),c=n(1406),l=n(1407),i=a(n(1103)),s=a(n(1104)),d=a(n(1105)),f=function(e){return"".concat((0,o.default)(e,"Host"),":").concat((0,o.default)(e,"Port"))},p={es:{ICON:u.ReactComponent,title:"Elasticsearch",pathGetter:f,Form:i.default,get description(){return t("ES_DESC")}},kafka:{ICON:c.ReactComponent,title:"Kafka",pathGetter:function(e){return(0,o.default)(e,"Brokers")},Form:s.default,get description(){return t("KAFKA_DESC")}},forward:{ICON:l.ReactComponent,title:"Fluentd",pathGetter:f,Form:d.default,get description(){return t("FLUENTD_DESC")}}};r.default=p},2793:function(e,t,r){e.exports={items:"_4KpY8XoatSiX6KSIelpPx",collectionType:"_227xYBidUyS7Co_VCst5pL",disabled:"_3l_3z51HkJawL3fJqcBj-x",createTip:"_15-kJBHYuBzcVNchgfqXjx"}},2794:function(e,t,r){e.exports={empty:"E_TGs1mcrGTpnS6fCHLve",header:"GDQFBrmFWQgDOgXCXYVBn",extra:"_3U_QE41nPUA_tmHQ-GnXBZ",pane:"_1Spp0J1Fpg5wUQfw135nUu",item:"_3laeV8sqiN4xp4otZGaW2u",title:"_1tvY2b0c_9eqZOhe7p0fHU"}},2795:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(21)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(275)),y=a(n(724)),v=o(n(726)),g=a(n(728)),E=n(37),_=a(n(2796)),O=a(n(2797));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=(0,v.default)({store:new _.default,module:"clusterdashboards",authKey:"custom-monitoring",name:"CUSTOM_MONITORING_DASHBOARD"})(u=function(e){(0,d.default)(n,e);var r=C(n);function n(){var e;(0,i.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).showCreate=function(){e.props.trigger("custom.monitoring.create",S(S({},e.props.match.params),{},{module:"clusterdashboards"}))},e.showEdit=function(t){e.props.trigger("custom.monitoring.edit",S(S({},e.props.match.params),{},{readOnly:!e.props.tableProps.enabledActions.includes("edit"),detail:t}))},e}return(0,s.default)(n,[{key:"getColumns",value:function(){var e=this;return[{title:t("NAME"),dataIndex:"title",render:function(t,r){return m.default.createElement(h.default,{title:m.default.createElement("div",{className:O.default.title,onClick:function(){return e.showEdit(r)}},(0,E.getDisplayName)(r)),description:r.description||"-"})}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",width:150,render:function(e){return(0,E.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]}},{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps;return m.default.createElement("div",null,m.default.createElement(v.ListPage,this.props,m.default.createElement(y.default,(0,c.default)({},t,{tabs:this.tabs})),m.default.createElement(g.default,(0,c.default)({},r,{itemActions:this.itemActions,columns:this.getColumns(),onCreate:this.showCreate,searchType:"name"}))))}},{key:"itemActions",get:function(){var e=this.props,r=e.name,n=e.trigger;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(e){return n("resource.baseinfo.edit",{detail:e})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(e){return n("resource.yaml.edit",{detail:e})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(e){return n("resource.delete",{type:r,detail:e})}}]}}]),n}(m.default.Component))||u;r.default=T},2796:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(74)),d=r(5);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var p=(a=function(e){(0,c.default)(r,e);var t=f(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).module="clusterdashboards",e}return(0,u.default)(r,[{key:"createGrafana",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.submitting(request.post("/kapis/monitoring.kubesphere.io/v1alpha3/".concat(this.getPath(t),"/clusterdashboards/").concat(e.grafanaDashboardName,"/template"),e))}}]),r}(n(r(277)).default),(0,s.default)(a.prototype,"createGrafana",[d.action],Object.getOwnPropertyDescriptor(a.prototype,"createGrafana"),a.prototype),a);t.default=p},2797:function(e,t,r){e.exports={title:"m4_SNQXnKSZC2zYTgw2nP"}},2798:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1410)),o=n(r(1423)),u=n(r(1424)),c=n(r(1425)),l=n(r(1427)),i=n(r(1428)),s=n(r(1431)),d=n(r(1433)),f=n(r(1434)),p=n(r(1435)),m=n(r(1437)),h=n(r(1442)),y=n(r(2890)),v=n(r(1444)),g=n(r(1447)),E=n(r(1448)),_=n(r(2918)),O=n(r(2922)),b=n(r(2926)),S=n(r(2930)),C=n(r(2931)),T=n(r(2943)),k=n(r(2953)),R=n(r(2976)),D=n(r(2981)),A=n(r(2984)),M=n(r(2989)),N=n(r(2994)),P=n(r(2999)),I=n(r(1152)),w="/clusters/:cluster",L=[{path:"".concat(w,"/nodes/:node"),component:C.default},{path:"".concat(w,"/edgenodes/:node"),component:T.default},{path:"".concat(w,"/customresources/:name"),component:A.default},{path:"".concat(w,"/roles/:name"),component:M.default},{path:["".concat(w,"/alert-rules/builtin/:name"),"".concat(w,"/alert-rules/:name")],component:E.default},{path:"".concat(w,"/log-collections/:component/:name"),component:N.default},{path:"".concat(w,"/components/:namespace/:name"),component:D.default},{path:"".concat(w,"/gateways/:component/:gatewayName"),component:I.default},{path:"".concat(w,"/storageclasses/:name"),component:R.default},{path:"".concat(w,"/ippools/:name"),component:P.default},{path:"".concat(w,"/pv/:name"),component:b.default},{path:"".concat(w,"/volume-snapshot-content/:name"),component:_.default},{path:"".concat(w,"/volume-snapshot-classes/:name"),component:O.default},{path:"".concat(w,"/projects/:namespace"),component:S.default,routes:[{path:"".concat(w,"/projects/:namespace/deployments/:name"),component:a.default},{path:"".concat(w,"/projects/:namespace/statefulsets/:name"),component:o.default},{path:"".concat(w,"/projects/:namespace/daemonsets/:name"),component:u.default},{path:"".concat(w,"/projects/:namespace/jobs/:name"),component:c.default},{path:"".concat(w,"/projects/:namespace/cronjobs/:name"),component:l.default},{path:"".concat(w,"/projects/:namespace/services/:name"),component:i.default},{path:"".concat(w,"/projects/:namespace/ingresses/:name"),component:s.default},{path:"".concat(w,"/projects/:namespace/secrets/:name"),component:d.default},{path:"".concat(w,"/projects/:namespace/configmaps/:name"),component:f.default},{path:"".concat(w,"/projects/:namespace/serviceaccounts/:name"),component:p.default},{path:"".concat(w,"/projects/:namespace/pods/:podName/containers/:containerName"),component:h.default},{path:"".concat(w,"/projects/:namespace/pods/:podName"),component:m.default},{path:"".concat(w,"/projects/:namespace/volume-snapshots/:name"),component:g.default},{path:"".concat(w,"/projects/:namespace/volumes/:name"),component:v.default},{path:"".concat(w,"/projects/:namespace/networkpolicies/:name"),component:y.default},{path:"".concat(w,"/projects/:namespace"),component:k.default}]}];t.default=L},2890:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=n(5),y=n(70),v=a(n(1141)),g=a(n(32)),E=n(25),_=n(37),O=n(635),b=a(n(744)),S=a(n(2891));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=(0,y.inject)("rootStore")(o=(0,y.observer)(o=(0,O.trigger)(o=function(e){(0,d.default)(n,e);var r=C(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).name="Network Policy",e.module="networkpolicies",e.store=new v.default(e.module),e.fetchData=(0,l.default)(c.default.mark((function t(){var r;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.match.params,t.next=3,e.store.fetchDetail(r);case 3:case"end":return t.stop()}}),t)}))),e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,h.toJS)(e.store.detail),success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var r=(0,h.toJS)(e.store.detail),n=e.props.match.params,a=n.cluster,o=n.namespace;if(!(0,g.default)(r))return[{name:t("CLUSTER"),value:a},{name:t("PROJECT"),value:o},{name:t("CREATION_TIME_TCAP"),value:(0,_.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator}]},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return m.default.createElement(E.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,_.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("NETWORK_POLICY_PL"),url:"/clusters/".concat(this.cluster,"/networkpolicies")}]};return m.default.createElement(b.default,(0,u.default)({stores:e},r,{routes:(0,S.default)(this.props.match.path)}))}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,r=e.cluster,n=e.namespace;return"".concat(t?"/".concat(t):"","/clusters/").concat(r,"/projects/").concat(n,"/").concat(this.module)}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(m.default.Component))||o)||o)||o;r.default=T},2891:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(634),u=a(n(2892));r.default=function(e){return[{path:"".concat(e,"/egress"),title:t("EGRESS_RULES"),component:u.default,exact:!0},{path:"".concat(e,"/ingress"),title:t("INGRESS_RULES"),component:u.default,exact:!0},(0,o.getIndexRoute)({path:e,to:"".concat(e,"/egress"),exact:!0})]}},2892:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=n(25),y=a(n(16)),v=a(n(2893)),g=a(n(32)),E=a(n(723)),_=a(n(2897));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=(0,m.inject)("detailStore")(o=(0,m.observer)(o=function(e){(0,i.default)(n,e);var r=b(n);function n(e){var t;return(0,c.default)(this,n),(t=r.call(this,e)).renderLabels=function(e){return e?(0,v.default)((0,y.default)(e,"matchLabels",[])).map((function(e){return f.default.createElement("div",null,f.default.createElement("label",{className:_.default.label},f.default.createElement("span",null,e[0]),e[1]))})):""},t.renderDetailLabels=function(e,t){var r=(0,y.default)(e,t);return(0,v.default)((0,y.default)(r,"matchLabels",[])).map((function(e){return f.default.createElement("label",{className:_.default.label},f.default.createElement("span",null,e[0]),e[1])})).reduce((function(e,t){return null===e?t:f.default.createElement(f.default.Fragment,null,e," and ",t)}),null)},t.renderIpBlock=function(e){return e?f.default.createElement("label",null,(0,v.default)(e).map((function(e){return"cidr"===e[0]?"".concat(e[1]):e.join(": ")})).reduce((function(e,t){return null===e?t:f.default.createElement(f.default.Fragment,null,e," ",t)}),null)):""},t.renderPolicyDetail=function(e){var r=(0,y.default)(e,"namespace",""),n=(0,y.default)(e,"ipBlock"),a=(0,y.default)(n,"except"),o=e.direction,u=t.renderIpBlock(n),c=t.renderDetailLabels(e,"specPodSelector"),l=t.renderDetailLabels(e,"namespaceSelector"),i=t.renderDetailLabels(e,"podSelector"),s=(0,y.default)(e,"ports",[]).map((function(e){return"".concat(e.protocol,": ").concat(e.port)})).reduce((function(e,t){return null===e?t:f.default.createElement(f.default.Fragment,null,e," and ",t)}),null);return f.default.createElement("div",null,f.default.createElement("span",null,"This rule allows pods in the namespace '",r,"' "),!(0,g.default)(c)&&f.default.createElement("span",null," with the label ",c," "),f.default.createElement("span",null,"egress"===o?"to connect to ":"to receive traffic from "),(0,g.default)(n)?(0,g.default)(i)&&(0,g.default)(l)?"all pods in the same namespace ":f.default.createElement("label",null,!(0,g.default)(i)&&f.default.createElement("span",null,(0,g.default)(l)?"pods in the same namespace ":"pods "," ","with labels ",i," "),!(0,g.default)(l)&&f.default.createElement("span",null,(0,g.default)(i)?"all pods in the namespace ":"in namespaces ","with the labels ",l," ")):f.default.createElement("label",null,a&&"all IPs in "," subnet '",u,"'"," "),(0,g.default)(s)?"on all ports":f.default.createElement("span",null,"on port",s.length>1?"s":""," ",s))},t.store=e.detailStore,t}return(0,l.default)(n,[{key:"render",value:function(){var e=this,r=this.tableData;return f.default.createElement(E.default,{title:"egress"===this.direction?t("EGRESS_RULES"):t("INGRESS_RULES")},f.default.createElement(h.Table,{dataSource:r,className:_.default.table,columns:this.columns,expandedRowRender:function(t){return f.default.createElement("div",{className:_.default.detail},e.renderPolicyDetail(t))}}))}},{key:"direction",get:function(){var e=this.props.match.path.match(/:name\/([a-z]*)/);return e?e[1]:"egress"}},{key:"columns",get:function(){var e=this;return[{title:t("TARGET"),children:[{title:t("PROJECT"),dataIndex:"namespace"},{title:t("LABEL"),dataIndex:"specPodSelector",render:function(t){return e.renderLabels(t)}}]},{title:t("DESTINATION"),children:[{title:t("PROJECT"),dataIndex:"namespaceSelector",render:function(t,r){if((0,g.default)((0,y.default)(r,"ipBlock")))return(0,y.default)(t,"matchLabels")?e.renderLabels(t):(0,y.default)(r,"namespace")}},{title:t("LABEL"),dataIndex:"podSelector",render:function(t,r){if((0,g.default)((0,y.default)(r,"ipBlock")))return(0,y.default)(t,"matchLabels")?e.renderLabels(t):"Any"}},{title:"CIDR",dataIndex:"ipBlock",className:_.default.cidr,render:function(t){return e.renderIpBlock(t)}},{title:t("PORT"),dataIndex:"ports",render:function(e){return(0,g.default)(e)?"Any":e.map((function(e){return f.default.createElement("div",null,e.protocol,": ",e.port)}))}}]}]}},{key:"tableData",get:function(){var e=this,t=this.store.detail,r=(0,p.toJS)((0,y.default)(t,"_originData")),n=(0,y.default)(r,"metadata.namespace"),a=(0,y.default)(r,"spec.podSelector"),o=(0,y.default)(r,"spec.".concat(this.direction),[]),c="ingress"===this.direction?"from":"to",l=[];return o.forEach((function(t){var r=(0,y.default)(t,"ports",[]);(0,y.default)(t,"".concat(c),[]).forEach((function(t){l.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({namespace:n,specPodSelector:a,ports:r,direction:e.direction},t))}))})),l}}]),n}(f.default.Component))||o)||o;r.default=S},2897:function(e,t,r){e.exports={table:"_2jp9kN4_38QJX3B1TZ9Ftp",label:"_2Hw0fFtfjsbVXCAHlEEubO",cidr:"uvSCuV6-RK5uwdkpiADxO",expand:"_1rMG6fGu71EIIK6tq5_F",project:"Qxahb28xUq3NCIVGvWS1q",detail:"_330L3c_vQjHipHBTa7rR9d"}},2918:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=n(70),v=n(25),g=a(n(729)),E=n(37),_=n(635),O=a(n(1396)),b=a(n(744)),S=a(n(2919));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T=(0,y.inject)("rootStore")(o=(0,y.observer)(o=(0,_.trigger)(o=function(e){(0,d.default)(n,e);var r=C(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new O.default,e.fetchData=(0,l.default)(c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchDetail(e.props.match.params);case 2:case"end":return t.stop()}}),t)}))),e.getOperations=function(){var r,n=e.props.match.params,a=n.cluster,o=n.namespace;return[{key:"view",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:(r=(0,l.default)(c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.trigger("resource.yaml.edit",{readOnly:!0,detail:e.store.detail,yaml:e.store.detail._originData});case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),onClick:function(){e.trigger("volume.snapshotContent.baseInfo.edit",{store:e.store,cluster:a,namespace:o,detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:e.returnTolist})}}]},e.getAttrs=function(){var r=e.store.detail,n=void 0===r?{}:r,a=n.createTime,o=n.creator,u=n.status,c=n.restoreSize,l=n.snapshotClassName,i=n.snapshotHandle,s=n.driver,d=n.deletionPolicy;return(0,h.default)(n)?null:[{name:t("STATUS"),value:m.default.createElement("div",null,m.default.createElement(g.default,{type:u,name:t(u.toUpperCase())}))},{name:t("CAPACITY"),value:"".concat((0,E.memoryFormat)(c,"Gi"),"Gi")},{name:t("VOLUME_SNAPSHOT_CLASS"),value:l},{name:t("SNAPSHOT_HANDLE"),value:i},{name:t("PROVISIONER"),value:s},{name:t("DELETION_POLICY"),value:d},{name:t("CREATION_TIME_TCAP"),value:(0,E.getLocalTime)(a).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:""===o?"-":o}]},e.returnTolist=function(){e.props.rootStore.routing.push(e.listUrl)},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return m.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,authKey:this.authKey,name:(0,E.getDisplayName)(this.store.detail),desc:this.store.detail.description,attrs:this.getAttrs(),operations:this.getOperations(),icon:"storage",breadcrumbs:[{label:t("VOLUME_SNAPSHOT_CONTENT_PL"),url:this.listUrl}]};return m.default.createElement(b.default,(0,u.default)({stores:e},r,{routes:(0,S.default)(this.props.match.path)}))}},{key:"name",get:function(){return"VOLUME_SNAPSHOT_CONTENT"}},{key:"module",get:function(){return"snapshot-content"}},{key:"authKey",get:function(){return"volumes"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/volume-snapshots/").concat(this.module)}}]),n}(m.default.Component))||o)||o)||o;r.default=T},2919:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(762)),u=n(r(765)),c=n(r(2920));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",exact:!0,component:c.default},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",exact:!0,component:o.default},(0,a.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},2920:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=o(n(0)),p=n(70),m=n(25),h=a(n(723)),y=a(n(854)),v=a(n(32)),g=a(n(2921));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var _=(0,p.inject)("detailStore")(u=(0,p.observer)(u=function(e){(0,i.default)(n,e);var r=E(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new y.default,e.renderItem=function(){var r=e.store.detail;return f.default.createElement("div",null,f.default.createElement("div",{className:g.default.ItemBox},f.default.createElement("div",{className:g.default.leftBox},f.default.createElement(m.Icon,{name:"snapshot",size:"40"}),f.default.createElement("div",{className:g.default.rightBox},f.default.createElement("span",{className:g.default.title},r.name),f.default.createElement("span",{className:g.default.des},t("NAME")))),f.default.createElement("div",{className:g.default.titleBox},f.default.createElement("span",{className:g.default.title},r.snapshotClassName),f.default.createElement("span",{className:g.default.des},t("VOLUME_SNAPSHOT_CLASS")))))},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.detailStore.detail,t=e.volumeSnapshot,r=e.namespace,n=e.status,a=e.cluster;"ready"!==n?this.store.isLoading=!1:this.store.fetchDetail({cluster:a,name:t,namespace:r})}},{key:"render",value:function(){var e=this.store,r=e.detail,n=e.isLoading;return f.default.createElement(h.default,{title:t("VOLUME_SNAPSHOT_PL")},!(0,v.default)(r)&&f.default.createElement(m.Loading,{spinning:n},this.renderItem()))}}]),n}(f.Component))||u)||u;r.default=_},2921:function(e,t,r){e.exports={ItemBox:"_1fxvFDRBXomWXMXThPuGiO",leftBox:"_2i20s7mRN2aF2FYpKovLCt",rightBox:"_2od794bHFxQpdtTn7X-fkA",title:"_27BSz92lxWakrFD9ymm2A3",toolTip:"_3UNOqG8qLUxZlBapo3qr5Z",des:"_2yKnVC3aGLnopPAOx8d-hn",mode_title:"_1zTSWtxQ1s3FuIVK6c_AJd",titleBox:"_1EQfuxx1JyPD3obadFjEbe",IconLine:"WFEYMWanZFc5X5ji7EDzw",cardBox:"_11Nc11agNjqy5SvwpHgDnb",text:"_3iZaDwgdoUnaHTHBRCk0Uo"}},2922:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=n(70),v=n(25),g=n(37),E=n(635),_=a(n(874)),O=a(n(744)),b=a(n(2923));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var C=(0,y.inject)("rootStore")(o=(0,y.observer)(o=(0,E.trigger)(o=function(e){(0,d.default)(n,e);var r=S(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new _.default,e.state={detail:{}},e.fetchData=(0,l.default)(c.default.mark((function t(){var r;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchDetail(e.props.match.params);case 2:r=t.sent,e.setState({detail:r});case 4:case"end":return t.stop()}}),t)}))),e.getOperations=function(){var r,n=e.props.match.params,a=n.cluster,o=n.namespace,u=e.state.detail;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){e.trigger("volume.snapshotContent.baseInfo.edit",{store:e.store,cluster:a,namespace:o,detail:e.store.detail,success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:(r=(0,l.default)(c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.trigger("volume.snapshot.yaml.edit",{store:e.store,detail:u,yaml:u._originData,success:e.fetchData});case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("resource.delete",{title:t("DETELE_VOLUME_SNAPSHOT_CLASS"),type:e.name,detail:u,success:e.returnTolist})}}]},e.getAttrs=function(){var r=e.store.detail,n=void 0===r?{}:r,a=n.createTime,o=n.driver,u=n.deletionPolicy;return(0,h.default)(n)?null:[{name:t("PROVISIONER"),value:o},{name:t("DELETION_POLICY"),value:u},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(a).format("YYYY-MM-DD HH:mm:ss")}]},e.returnTolist=function(){e.props.rootStore.routing.push(e.listUrl)},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return m.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,authKey:this.authKey,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,attrs:this.getAttrs(),operations:this.getOperations(),icon:"storage",breadcrumbs:[{label:t("VOLUME_SNAPSHOT_CLASS_PL"),url:this.listUrl}]};return m.default.createElement(O.default,(0,u.default)({stores:e},r,{routes:(0,b.default)(this.props.match.path)}))}},{key:"name",get:function(){return"VOLUME_SNAPSHOT_CLASS"}},{key:"module",get:function(){return"volume-snapshot-classes"}},{key:"authKey",get:function(){return"volumes"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/").concat(this.module)}}]),n}(m.default.Component))||o)||o)||o;r.default=C},2923:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2924));t.default=function(e){return[{path:"".concat(e,"/volume-snapshot"),title:"VOLUME_SNAPSHOT_PL",exact:!0,component:o.default},(0,a.getIndexRoute)({path:e,to:"".concat(e,"/volume-snapshot"),exact:!0})]}},2924:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(37),h=a(n(854)),y=a(n(727)),v=a(n(723)),g=a(n(729)),E=a(n(835)),_=a(n(2925));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var C=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=S(n);function n(e){var a;return(0,c.default)(this,n),(a=r.call(this,e)).handleFetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.store.detail,r=t.cluster,n=t.name;e.keyword&&(e.name=e.keyword,delete e.keyword),a.volumeSnapshotStore.fetchList(b({volumeSnapshotClassName:n,cluster:r},e))},a.getColumns=function(){return[{title:t("NAME"),dataIndex:"name",render:function(e,t){return f.default.createElement(y.default,{icon:"snapshot",iconSize:40,title:(0,m.getDisplayName)(t),to:"/clusters/".concat(t.cluster,"/projects/").concat(t.namespace,"/volume-snapshots/").concat(e),desc:t.snapshotClassName,noLink:!0})}},{title:t("STATUS"),dataIndex:"backupStatus",width:"20.5%",render:function(e,r){return f.default.createElement(g.default,{type:r.readyToUse?"ready":"failed",name:r.readyToUse?t("READY"):t("UNREADY")})}},{title:t("CAPACITY"),dataIndex:"restoreSize",width:"20.5%",render:function(e){return e}},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",width:"20.5%",render:function(e){return(0,m.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},a.volumeSnapshotStore=e.volumeSnapshotStore||new h.default,a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.handleFetch()}},{key:"render",value:function(){var e=this.volumeSnapshotStore.list,r=e.data,n=e.filters,a=e.isLoading,o={total:e.total,page:e.page,limit:e.limit};return f.default.createElement(v.default,{title:t("VOLUME_SNAPSHOT_PL"),loading:a,empty:t("NO_AVAILABLE_RESOURCE_VALUE",{resource:t("VOLUME_SNAPSHOT")}),className:_.default.noPadding},f.default.createElement(E.default,{className:_.default.table,data:r,columns:this.getColumns(),searchType:"name",keyword:n.name,filters:n,placeholder:t("SEARCH_BY_NAME"),pagination:o,isLoading:a,onFetch:this.handleFetch}))}},{key:"store",get:function(){return this.props.detailStore}},{key:"storageClassName",get:function(){return this.store.detail.name}}]),n}(f.default.Component))||o)||o;r.default=C},2925:function(e,t,r){e.exports={noPadding:"_160nVM5I48EClrJRzVwIZM"}},2926:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(49)),l=a(n(50)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=a(n(32)),y=a(n(16)),v=n(70),g=n(25),E=a(n(729)),_=n(37),O=n(635),b=n(5),S=a(n(962)),C=a(n(744)),T=a(n(2927));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var R=(0,v.inject)("rootStore")(o=(0,v.observer)(o=(0,O.trigger)(o=function(e){(0,d.default)(n,e);var r=k(n);function n(){var e;(0,i.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new S.default,e.fetchData=(0,l.default)(c.default.mark((function t(){return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchDetail(e.props.match.params);case 2:case"end":return t.stop()}}),t)}))),e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,b.toJS)(e.store.detail),success:e.fetchData})}},{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,readOnly:!0})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",disabled:["Bound","Released"].indexOf((0,y.default)(e.store.detail,"phase"))>-1,onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:(0,b.toJS)(e.store.detail),success:e.returnTolist})}}]},e.getAttrs=function(){var r=e.store.detail,n=void 0===r?{}:r,a=n.createTime,o=n.phase,u=n.storageClassName,c=n.volumeHandle,l=n.persistentVolumeReclaimPolicy,i=n.accessModes,s=void 0===i?["-"]:i,d=n.capacity,f=n.volumeMode;return(0,h.default)((0,b.toJS)(n))?null:[{name:t("STATUS"),value:m.default.createElement("div",null,m.default.createElement(E.default,{type:o,name:t("PV_STATUS_".concat(o.toUpperCase()))}))},{name:t("CAPACITY"),value:d},{name:t("ACCESS_MODE_TCAP"),value:s.join(",")},{name:t("STORAGE_CLASS"),value:u},{name:t("VOLUME_HANDLE"),value:c},{name:t("RECLAIM_POLICY"),value:l},{name:t("VOLUME_MODE"),value:t("VOLUME_MODE_".concat(f.toUpperCase()))},{name:t("CREATION_TIME_TCAP"),value:(0,_.getLocalTime)(a).format("YYYY-MM-DD HH:mm:ss")}]},e.returnTolist=function(){e.props.rootStore.routing.push(e.listUrl)},e}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return m.default.createElement(g.Loading,{className:"ks-page-loading"});var r={module:this.module,authKey:this.authKey,name:(0,_.getDisplayName)(this.store.detail),desc:this.store.detail.description,attrs:this.getAttrs(),operations:this.isFedManaged?[]:this.getOperations(),icon:"storage",breadcrumbs:[{label:t("PERSISTENT_VOLUME_PL"),url:this.listUrl}]};return m.default.createElement(C.default,(0,u.default)({stores:e},r,{routes:(0,T.default)(this.props.match.path)}))}},{key:"name",get:function(){return"PERSISTENT_VOLUME"}},{key:"module",get:function(){return"persistentvolumes"}},{key:"authKey",get:function(){return"persistentvolumes"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/volumes/PV")}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),n}(m.default.Component))||o)||o)||o;r.default=R},2927:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(762)),u=n(r(765)),c=n(r(2928));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",exact:!0,component:c.default},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",exact:!0,component:o.default},(0,a.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},2928:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(25),h=a(n(723)),y=a(n(763)),v=n(37),g=n(5),E=a(n(32)),_=a(n(2929));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=f.default.createElement("div",null,f.default.createElement("div",null,t("ACCESS_MODE_TCAP"),":"),f.default.createElement("div",null,"RWO (ReadWriteOnce): ",t("ACCESS_MODE_RWO")),f.default.createElement("div",null,"ROX (ReadOnlyMany): ",t("ACCESS_MODE_ROX")),f.default.createElement("div",null,"RWX (ReadWriteMany): ",t("ACCESS_MODE_RWX"))),C=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=b(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new y.default,e.renderItem=function(){var r=e.store.detail;return f.default.createElement("div",null,f.default.createElement("div",{className:_.default.ItemBox},f.default.createElement("div",{className:_.default.leftBox},f.default.createElement(m.Icon,{name:"storage",size:"40"}),f.default.createElement("div",{className:_.default.rightBox},f.default.createElement("span",{className:_.default.title},r.name),f.default.createElement("span",{className:_.default.des},t("STORAGE_CLASS_VALUE",{value:r.storageClassName})))),f.default.createElement("div",{className:_.default.titleBox},f.default.createElement("span",{className:_.default.title},(0,v.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")),f.default.createElement("span",{className:_.default.des},t("CREATION_TIME")))),f.default.createElement("div",{className:_.default.IconLine},f.default.createElement("div",{className:_.default.cardBox},f.default.createElement(m.Icon,{name:"bm",size:30}),f.default.createElement("div",{className:_.default.text},f.default.createElement("span",{className:_.default.title},r.storageProvisioner),f.default.createElement("span",{className:_.default.des},t("PROVISIONER")))),f.default.createElement("div",{className:_.default.cardBox},f.default.createElement("img",{src:"/assets/Accessmodes.svg",size:48}),f.default.createElement("div",{className:_.default.text},f.default.createElement("span",{className:_.default.title},e.mapperAccessMode((0,g.toJS)(r.accessModes))),f.default.createElement("span",{className:_.default.des},e.renderAccessTitle()))),f.default.createElement("div",{className:_.default.cardBox},f.default.createElement(m.Icon,{name:"database",size:30}),f.default.createElement("div",{className:_.default.text},f.default.createElement("span",{className:_.default.title},r.capacity),f.default.createElement("span",{className:_.default.des},t("CAPACITY"))))))},e.renderAccessTitle=function(){return f.default.createElement("div",{className:_.default.mode_title},t("ACCESS_MODE"),f.default.createElement(m.Tooltip,{content:S},f.default.createElement(m.Icon,{name:"question",size:16,className:_.default.toolTip})))},e.mapperAccessMode=function(e){var t=(0,v.map_accessModes)(e);return f.default.createElement(f.default.Fragment,null,f.default.createElement("span",null,t.join(",")))},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.detailStore.detail,t=e._originData,r=e.phase,n=e.cluster;"Bound"!==r?this.store.isLoading=!1:this.store.fetchDetail(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({cluster:n},t.spec.claimRef))}},{key:"render",value:function(){var e=this.store,r=e.detail,n=e.isLoading;return f.default.createElement(h.default,{title:t("PERSISTENT_VOLUME_CLAIM")},!(0,E.default)(r)&&f.default.createElement(m.Loading,{spinning:n},this.renderItem()))}}]),n}(f.default.Component))||o)||o;r.default=C},2929:function(e,t,r){e.exports={ItemBox:"_2mELQmeBTiwa56m4FRuCho",leftBox:"W7Qki2xI0vvqvcb2Q1F2M",rightBox:"_3RqsKWBD7eq3vXQvgCfOsD",title:"_3KYfcJ0CU8B4xFsFQda5Te",toolTip:"_37f2XY7RCBfmVNY1BOdNx8",des:"_2L3vvzzxhB-Zrg5WrqyiuM",titleBox:"_2gmisrquKxEER676oJ7GxM",IconLine:"_1IDNa6yWd9AhFr_21sUGZO",cardBox:"NqsBGhYtt3JFydHzSmjZq",text:"_17aFPuXEkGgpOO2vxoLjb-"}},2930:function(e,t,r){"use strict";var n=r(6),a=r(72);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=n(r(49)),c=n(r(50)),l=n(r(12)),i=n(r(13)),s=n(r(19)),d=n(r(20)),f=n(r(18)),p=a(r(0)),m=r(70),h=r(25),y=r(634),v=n(r(753));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var E=(0,m.inject)("rootStore")(o=(0,m.observer)(o=function(e){(0,s.default)(n,e);var t,r=g(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).store=new v.default,t.init(e.match.params),t}return(0,i.default)(n,[{key:"init",value:(t=(0,c.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.store.initializing=!0,e.next=3,Promise.all([this.store.fetchDetail(t),this.props.rootStore.getRules(t)]);case 3:this.store.initializing=!1;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){return this.store.initializing?p.default.createElement(h.Loading,{className:"ks-page-loading"}):p.default.createElement(m.Provider,{projectStore:this.store},(0,y.renderRoutes)(this.props.route.routes))}},{key:"project",get:function(){return this.props.match.params.namespace}}]),n}(p.Component))||o)||o;t.default=E},2931:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=a(n(16)),y=a(n(32)),v=n(25),g=n(37),E=n(296),_=n(635),O=a(n(837)),b=a(n(816)),S=a(n(729)),C=a(n(2932));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var k=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,_.trigger)(o=function(e){(0,i.default)(n,e);var r=T(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new O.default,e.fetchData=function(){var t=e.props.match.params,r=t.cluster,n=t.node;e.store.fetchDetail({name:n,cluster:r})},e.getOperations=function(){var r=e.store.detail.unschedulable;return[{key:"cordon",type:r?"control":"danger",text:r?t("UNCORDON"):t("CORDON"),action:"edit",onClick:e.handleCordon},{key:"eidtLabel",icon:"pen",text:t("EDIT_LABELS"),action:"edit",onClick:function(){return e.trigger("node.labels",{title:t("LABEL_PL"),detail:e.store.detail,success:e.fetchData})}},{key:"taintManagement",icon:"wrench",text:t("EDIT_TAINTS"),action:"edit",onClick:function(){return e.trigger("node.taint",{detail:e.store.detail,success:e.fetchData})}}]},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,y.default)(r)){var n=(0,E.getNodeStatus)(r),a=f.default.createElement(S.default,{type:n,name:t("NODE_STATUS_".concat(n.toUpperCase()))}),o=(0,h.default)(r,"status.addresses[0].address","-"),u=r.nodeInfo||{};return[{name:t("STATUS"),value:a},{name:t("IP_ADDRESS"),value:o},{name:t("ROLE"),value:-1===(0,E.getNodeRoles)(r.labels).indexOf("master")?t("WORKER"):t("CONTROL_PLANE")},{name:t("OS_VERSION"),value:u.osImage},{name:t("OS_TYPE"),value:t(u.operatingSystem.toUpperCase())},{name:t("KERNEL_VERSION"),value:u.kernelVersion},{name:t("CONTAINER_RUNTIME"),value:u.containerRuntimeVersion},{name:t("KUBELET_VERSION"),value:u.kubeletVersion},{name:t("KUBE_PROXY_VERSION"),value:u.kubeProxyVersion},{name:t("ARCHITECTURE"),value:u.architecture.toUpperCase()},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")}]}},e.handleCordon=function(){var t=(0,p.toJS)(e.store.detail);t.unschedulable?e.store.uncordon(t).then(e.fetchData):e.store.cordon(t).then(e.fetchData)},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("CLUSTER_NODE_PL"),url:this.listUrl}]};return f.default.createElement(b.default,(0,u.default)({stores:e,routes:C.default},r))}},{key:"module",get:function(){return"nodes"}},{key:"name",get:function(){return"CLUSTER_NODE"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/nodes")}}]),n}(f.default.Component))||o)||o)||o;r.default=k},2932:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(765)),u=n(r(2933)),c=n(r(2940)),l=n(r(2941)),i=n(r(2942)),s="/clusters/:cluster/nodes/:node",d=[{path:"".concat(s,"/status"),title:"RUNNING_STATUS",component:u.default,exact:!0},{path:"".concat(s,"/pods"),title:"Pods",component:c.default,exact:!0},{path:"".concat(s,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(s,"/monitors"),title:"MONITORING",component:l.default,exact:!0},{path:"".concat(s,"/events"),title:"EVENT_PL",component:i.default,exact:!0},(0,a.getIndexRoute)({path:s,to:"".concat(s,"/status"),exact:!0})];t.default=d},2933:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(5),p=n(70),m=a(n(16)),h=a(n(32)),y=a(n(877)),v=n(37),g=a(n(723)),E=a(n(275)),_=a(n(1449)),O=a(n(2935)),b=a(n(2937)),S=a(n(2939));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var T=["node_cpu_utilisation","node_memory_utilisation","node_disk_size_utilisation","node_pod_utilisation"],k=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,l.default)(n,e);var r=C(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e)).store=e.detailStore,t.monitoringStore=new y.default({cluster:t.cluster}),t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this.store.detail,t=e.name,r=e.role,n=void 0===r?[]:r;this.monitoringStore.fetchMetrics({resources:[t],metrics:T,step:"180s",fillZero:!n.includes("edge")})}},{key:"renderResourceStatus",value:function(){var e=(0,f.toJS)(this.monitoringStore.data);return d.default.createElement(g.default,{className:S.default.resources,title:t("RESOURCE_USAGE"),loading:this.monitoringStore.isLoading},d.default.createElement(_.default,{tabs:[{key:"cpu",icon:"cpu",unit:"%",legend:["CPU_USAGE"],title:"CPU_USAGE",data:(0,m.default)(e,"node_cpu_utilisation.data.result")},{key:"memory",icon:"memory",unit:"%",legend:["MEMORY_USAGE"],title:"MEMORY_USAGE",data:(0,m.default)(e,"node_memory_utilisation.data.result")},{key:"pod",icon:"pod",unit:"%",legend:["MAXIMUM_PODS"],title:"MAXIMUM_PODS",data:(0,m.default)(e,"node_pod_utilisation.data.result")},{key:"storage",icon:"database",unit:"%",legend:["DISK_USAGE"],title:"DISK_USAGE",data:(0,m.default)(e,"node_disk_size_utilisation.data.result")}]}))}},{key:"renderAllocatedResources",value:function(){var e=this.store.detail;return d.default.createElement(g.default,{className:S.default.allocated,title:t("ALLOCATED_RESOURCES")},d.default.createElement(E.default,{title:1===(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]'))?t("CPU_CORE_PERCENT_SI",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}):t("CPU_CORE_PERCENT_PL",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}),description:t("CPU_REQUEST_SCAP")}),d.default.createElement(E.default,{title:1===(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_CORE_PERCENT_SI",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}):t("CPU_CORE_PERCENT_PL",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}),description:t("CPU_LIMIT_SCAP")}),d.default.createElement(E.default,{title:t("MEMORY_GIB_PERCENT",{gib:(0,v.memoryFormat)((0,m.default)(e,'annotations["node.kubesphere.io/memory-requests"]'),"Gi"),percent:(0,m.default)(e,'annotations["node.kubesphere.io/memory-requests-fraction"]')}),description:t("MEMORY_REQUEST_SCAP")}),d.default.createElement(E.default,{title:t("MEMORY_GIB_PERCENT",{gib:(0,v.memoryFormat)((0,m.default)(e,'annotations["node.kubesphere.io/memory-limits"]'),"Gi"),percent:(0,m.default)(e,'annotations["node.kubesphere.io/memory-limits-fraction"]')}),description:t("MEMORY_LIMIT_SCAP")}))}},{key:"renderConditions",value:function(){var e=this.store.detail.conditions;return d.default.createElement(g.default,{title:t("HEALTH_STATUS")},d.default.createElement("div",{className:S.default.conditions},e.map((function(e,t){return d.default.createElement(O.default,{key:e.type||t,data:e})}))))}},{key:"renderTanits",value:function(){var e=this.store.detail.taints;return(0,h.default)(e)?null:d.default.createElement(g.default,{title:t("TAINTS"),empty:t("NO_TAINTS_TIPS")},e&&d.default.createElement("div",null,e.map((function(e,t){return d.default.createElement(b.default,{key:e.type||t,data:e})}))))}},{key:"render",value:function(){return d.default.createElement("div",{className:S.default.main},this.renderResourceStatus(),this.renderAllocatedResources(),this.renderConditions(),this.renderTanits())}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(d.default.Component))||o)||o;r.default=k},2934:function(e,t,r){e.exports={wrapper:"_1RTOu4WuOVY0Fca7CPEdB9",tabHeader:"Qd42i__2a3FJ2DzYpVXqd",tabHeaderItem:"_2ICL_nLZjLbTcDxms5nROn",active:"_2NpglgYkusPNf1fA7U4yCm",tabContent:"UsMeMpWi8k2TLXu-TzcHv",chartWrapper:"_1WcDqnOpkmr5xePLz3bOpj"}},2935:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(0)),u=n(25),c=n(37),l=n(296),i=a(n(275)),s=a(n(2936)),d=function(e){var r=e.data;if(!l.NODE_CONDITION_ICONS[r.type])return null;var n=(0,l.getConditionsStatus)(r),a=o.default.createElement("div",null,o.default.createElement("div",{className:"tooltip-title"},r.reason),o.default.createElement("p",{className:"tooltip-desc"},r.message),o.default.createElement("p",{className:"tooltip-desc"},t("lastHeartbeatTime"),":"," ",(0,c.getLocalTime)(r.lastHeartbeatTime).format("YYYY-MM-DD HH:mm:ss")));return o.default.createElement("div",{className:s.default.card},o.default.createElement("div",{className:s.default.icon},o.default.createElement(u.Icon,{name:l.NODE_CONDITION_ICONS[r.type],size:40}),o.default.createElement(u.Tooltip,{content:a},"Running"===n?o.default.createElement(u.Icon,{className:s.default.check,name:"check",type:"light",size:12}):o.default.createElement(u.Icon,{className:s.default.substract,name:"substract",type:"light",size:12}))),o.default.createElement(i.default,{title:t("NODE_".concat(r.type.toUpperCase())),description:t("NODE_".concat(r.type.toUpperCase(),"_DESC"))}))};r.default=d},2936:function(e,t,r){e.exports={card:"_3gY1SwAB3Qyzo33NcoETa2",icon:"_3XS03qiViW-ikPky4F7m_x",check:"_2heWfhm7p3vRjks91Lxqps",substract:"_2VlaH5DM4vl23eEoRXmg0V"}},2937:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(0)),u=n(25),c=a(n(2938)),l=function(e){var r=e.data;return o.default.createElement("div",{className:c.default.card},o.default.createElement(u.Columns,null,o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("KEY"),":")," ",r.key)),o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("VALUE"),":")," ",r.value)),o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("POLICY"),":")," ",r.effect))))};r.default=l},2938:function(e,t,r){e.exports={card:"_33OfSfo5noeVvDTt0pECNi"}},2939:function(e,t,r){e.exports={charts:"_2JLcedz0mAjNBgUVbRpAlV",resources:"_2izO-GxzIDv54VNolZBX0N",allocated:"_1Ip9txFboGAHGxjdTg1JDy",conditions:"v93LP2ROQDO2QGQL3qZvm"}},2940:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(806));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,d.inject)("detailStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).store=e.props.detailStore,e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.match.params.cluster;return s.default.createElement(f.default,{detail:this.store.detail,limit:6,prefix:"/clusters/".concat(e)})}}]),r}(s.default.Component))||a)||a;t.default=m},2941:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(109)),l=a(n(21)),i=a(n(12)),s=a(n(13)),d=a(n(19)),f=a(n(20)),p=a(n(18)),m=a(n(0)),h=n(70),y=a(n(16)),v=a(n(32)),g=n(725),E=a(n(877)),_=n(779),O=n(735),b=a(n(785));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var T={cpu_utilisation:"node_cpu_utilisation",cpu_load1:"node_load1",cpu_load5:"node_load5",cpu_load15:"node_load15",memory_utilisation:"node_memory_utilisation",disk_utilisation:"node_disk_size_utilisation",disk_inode_utilisation:"node_disk_inode_utilisation",device_size_utilisation:"node_device_size_utilisation",disk_inode_usage:"node_disk_inode_usage",disk_inode_total:"node_disk_inode_total",disk_read_iops:"node_disk_read_iops",disk_write_iops:"node_disk_write_iops",disk_read_throughput:"node_disk_read_throughput",disk_write_throughput:"node_disk_write_throughput",net_transmitted:"node_net_bytes_transmitted",net_received:"node_net_bytes_received"},k=(0,h.inject)("detailStore")(o=(0,h.observer)(o=function(e){(0,d.default)(n,e);var r=C(n);function n(e){var a;return(0,i.default)(this,n),(a=r.call(this,e)).fetchData=function(e){var t=a.store.detail,r=t.name,n=t.role,o=void 0===n?[]:n;a.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({resources:[r],metrics:Object.values(T),fillZero:!o.includes("edge")},e))},a.getMonitoringCfgs=function(){var e=(0,y.default)(a.metrics,"".concat(T.device_size_utilisation,".data.result"),[]),r=e&&e.map((function(e){return e.metric.device}));return[{type:"utilisation",title:"CPU_USAGE",unit:"%",legend:["CPU_USAGE"],data:(0,y.default)(a.metrics,"".concat(T.cpu_utilisation,".data.result"))},{type:"load",title:"AVERAGE_CPU_LOAD",legend:[t("TIME_M",{num:1}),t("TIME_M",{num:5}),t("TIME_M",{num:15})],data:[(0,y.default)(a.metrics,"".concat(T.cpu_load1,".data.result[0]"),{}),(0,y.default)(a.metrics,"".concat(T.cpu_load5,".data.result[0]"),{}),(0,y.default)(a.metrics,"".concat(T.cpu_load15,".data.result[0]"),{})]},{type:"utilisation",title:"MEMORY_USAGE",unit:"%",legend:["MEMORY_USAGE"],data:(0,y.default)(a.metrics,"".concat(T.memory_utilisation,".data.result"))},{type:"utilisation",title:"DISK_USAGE_DETAILS",unit:"%",legend:["AVERAGE_USAGE"].concat((0,c.default)(r)),data:[(0,y.default)(a.metrics,"".concat(T.disk_utilisation,".data.result[0]"))].concat((0,c.default)(e))},{type:"utilisation",title:"INODE_USAGE",unit:"%",legend:["INODE_USAGE"],data:(0,y.default)(a.metrics,"".concat(T.disk_inode_utilisation,".data.result")),renderTooltip:function(){var e=(0,g.getChartData)({unit:"",legend:["USAGE"],valuesData:[(0,y.default)(a.metrics,"".concat(T.disk_inode_usage,".data.result[0].values"),[])]}),t=(0,g.getChartData)({unit:"",legend:["USAGE"],valuesData:[(0,y.default)(a.metrics,"".concat(T.disk_inode_total,".data.result[0].values"),[])]});return m.default.createElement(b.default,{usageData:e,totalData:t})}},{type:"iops",title:"IOPS",legend:["READ","WRITE"],data:[(0,y.default)(a.metrics,"".concat(T.disk_read_iops,".data.result[0]"),{}),(0,y.default)(a.metrics,"".concat(T.disk_write_iops,".data.result[0]"),{})]},{type:"throughput",title:"DISK_THROUGHPUT",unitType:"throughput",legend:["READ","WRITE"],data:[(0,y.default)(a.metrics,"".concat(T.disk_read_throughput,".data.result[0]"),{}),(0,y.default)(a.metrics,"".concat(T.disk_write_throughput,".data.result[0]"),{})]},{type:"bandwidth",title:"NETWORK_TRAFFIC",unitType:"bandwidth",legend:["OUT","IN"],data:[(0,y.default)(a.metrics,"".concat(T.net_transmitted,".data.result[0]"),{}),(0,y.default)(a.metrics,"".concat(T.net_received,".data.result[0]"),{})]}]},a.monitorStore=new E.default({cluster:a.cluster}),a}return(0,s.default)(n,[{key:"render",value:function(){var e=this.store.detail.createTime,t=this.monitorStore,r=t.isLoading,n=t.isRefreshing,a=this.getMonitoringCfgs();return m.default.createElement(_.Controller,{createTime:e,onFetch:this.fetchData,loading:r,refreshing:n,isEmpty:(0,v.default)(this.metrics)},a.map((function(e){var t=(0,g.getAreaChartOps)(e);return(0,v.default)(t.data)?null:m.default.createElement(O.SimpleArea,(0,u.default)({key:t.title,width:"100%"},t))})))}},{key:"store",get:function(){return this.props.detailStore}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"metrics",get:function(){return this.monitorStore.data}}]),n}(m.default.Component))||o)||o;r.default=k},2942:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=r(70),d=r(37),f=r(762);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,s.inject)("detailStore")(a=(0,s.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"fetchData",value:function(){var e={"involvedObject.name":this.store.detail.name,"involvedObject.kind":this.kind};this.eventStore.fetchList({cluster:this.cluster,fieldSelector:(0,d.joinSelector)(e)})}}]),r}(f.Component))||a)||a;t.default=m},2943:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=a(n(16)),y=a(n(32)),v=n(25),g=n(37),E=n(296),_=n(635),O=a(n(837)),b=a(n(816)),S=a(n(729)),C=a(n(2944));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var k=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,_.trigger)(o=function(e){(0,i.default)(n,e);var r=T(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new O.default,e.fetchData=function(){var t=e.props.match.params,r=t.cluster,n=t.node;e.store.fetchDetail({name:n,cluster:r})},e.getOperations=function(){var r=e.store.detail.unschedulable;return[{key:"cordon",type:r?"control":"danger",text:r?t("UNCORDON"):t("CORDON"),action:"edit",onClick:e.handleCordon},{key:"eidtLabel",icon:"pen",text:t("EDIT_LABELS"),action:"edit",onClick:function(){return e.trigger("node.labels",{title:t("LABEL_PL"),detail:e.store.detail,success:e.fetchData})}},{key:"taintManagement",icon:"wrench",text:t("EDIT_TAINTS"),action:"edit",onClick:function(){return e.trigger("node.taint",{detail:e.store.detail,success:e.fetchData})}}]},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,y.default)(r)){var n=(0,E.getNodeStatus)(r),a=f.default.createElement(S.default,{type:n,name:t("NODE_STATUS_".concat(n.toUpperCase()))}),o=(0,h.default)(r,"status.addresses[0].address","-"),u=r.nodeInfo||{};return[{name:t("STATUS"),value:a},{name:t("IP_ADDRESS"),value:o},{name:t("ROLE"),value:(0,E.getNodeRoles)(r.labels).map((function(e){return t(e.replace(/[- ]/g,"_").toUpperCase())})).join("/")||"-"},{name:t("OS_VERSION"),value:u.osImage},{name:t("OS_TYPE"),value:t(u.operatingSystem.toUpperCase())},{name:t("KERNEL_VERSION"),value:u.kernelVersion},{name:t("CONTAINER_RUNTIME"),value:u.containerRuntimeVersion},{name:t("KUBELET_VERSION"),value:u.kubeletVersion},{name:t("KUBE_PROXY_VERSION"),value:u.kubeProxyVersion},{name:t("ARCHITECTURE"),value:u.architecture.toUpperCase()},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")}]}},e.handleCordon=function(){var t=(0,p.toJS)(e.store.detail);t.unschedulable?e.store.uncordon(t).then(e.fetchData):e.store.cordon(t).then(e.fetchData)},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("EDGE_NODE_PL"),url:this.listUrl}]};return f.default.createElement(b.default,(0,u.default)({stores:e,routes:C.default},r))}},{key:"module",get:function(){return"edgenodes"}},{key:"name",get:function(){return"EDGE_NODE"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/edgenodes")}}]),n}(f.default.Component))||o)||o)||o;r.default=k},2944:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(765)),u=n(r(2945)),c=n(r(2951)),l=n(r(2952)),i="/clusters/:cluster/edgenodes/:node",s=[{path:"".concat(i,"/status"),title:"RUNNING_STATUS",component:u.default,exact:!0},{path:"".concat(i,"/pods"),title:"POD_PL",component:c.default,exact:!0},{path:"".concat(i,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(i,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,a.getIndexRoute)({path:i,to:"".concat(i,"/status"),exact:!0})];t.default=s},2945:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(5),p=n(70),m=a(n(16)),h=a(n(32)),y=a(n(877)),v=n(37),g=a(n(723)),E=a(n(275)),_=a(n(1449)),O=a(n(2946)),b=a(n(2948)),S=a(n(2950));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var T=["node_cpu_utilisation","node_memory_utilisation","node_disk_size_utilisation","node_pod_utilisation"],k=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,l.default)(n,e);var r=C(n);function n(e){var t;return(0,u.default)(this,n),(t=r.call(this,e)).store=e.detailStore,t.monitoringStore=new y.default({cluster:t.cluster}),t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this.store.detail,t=e.name,r=e.role,n=void 0===r?[]:r;this.monitoringStore.fetchMetrics({resources:[t],metrics:T,step:"180s",fillZero:!n.includes("edge")})}},{key:"renderResourceStatus",value:function(){var e=(0,f.toJS)(this.monitoringStore.data);return d.default.createElement(g.default,{className:S.default.resources,title:t("RESOURCE_USAGE"),loading:this.monitoringStore.isLoading},d.default.createElement(_.default,{tabs:[{key:"cpu",icon:"cpu",unit:"%",legend:["CPU_USAGE"],title:"CPU_USAGE",data:(0,m.default)(e,"node_cpu_utilisation.data.result")},{key:"memory",icon:"memory",unit:"%",legend:["MEMORY_USAGE"],title:"MEMORY_USAGE",data:(0,m.default)(e,"node_memory_utilisation.data.result")},{key:"pod",icon:"pod",unit:"%",legend:["MAXIMUM_PODS"],title:"MAXIMUM_PODS",data:(0,m.default)(e,"node_pod_utilisation.data.result")},{key:"storage",icon:"database",unit:"%",legend:["DISK_USAGE"],title:"DISK_USAGE",data:(0,m.default)(e,"node_disk_size_utilisation.data.result")}]}))}},{key:"renderAllocatedResources",value:function(){var e=this.store.detail;return d.default.createElement(g.default,{className:S.default.allocated,title:t("ALLOCATED_RESOURCES")},d.default.createElement(E.default,{title:1===(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]'))?t("CPU_CORE_PERCENT_SI",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}):t("CPU_CORE_PERCENT_PL",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}),description:t("CPU_REQUEST_SCAP")}),d.default.createElement(E.default,{title:1===(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_CORE_PERCENT_SI",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}):t("CPU_CORE_PERCENT_PL",{core:(0,v.cpuFormat)((0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,m.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}),description:t("CPU_LIMIT_SCAP")}),d.default.createElement(E.default,{title:t("MEMORY_GIB_PERCENT",{gib:(0,v.memoryFormat)((0,m.default)(e,'annotations["node.kubesphere.io/memory-requests"]'),"Gi"),percent:(0,m.default)(e,'annotations["node.kubesphere.io/memory-requests-fraction"]')}),description:t("MEMORY_REQUEST_SCAP")}),d.default.createElement(E.default,{title:t("MEMORY_GIB_PERCENT",{gib:(0,v.memoryFormat)((0,m.default)(e,'annotations["node.kubesphere.io/memory-limits"]'),"Gi"),percent:(0,m.default)(e,'annotations["node.kubesphere.io/memory-limits-fraction"]')}),description:t("MEMORY_LIMIT_SCAP")}))}},{key:"renderConditions",value:function(){var e=this.store.detail.conditions;return d.default.createElement(g.default,{title:t("HEALTH_STATUS")},d.default.createElement("div",{className:S.default.conditions},e.map((function(e,t){return d.default.createElement(O.default,{key:e.type||t,data:e})}))))}},{key:"renderTanits",value:function(){var e=this.store.detail.taints;return(0,h.default)(e)?null:d.default.createElement(g.default,{title:t("TAINTS"),empty:t("NO_TAINTS_TIPS")},e&&d.default.createElement("div",null,e.map((function(e,t){return d.default.createElement(b.default,{key:e.type||t,data:e})}))))}},{key:"render",value:function(){return d.default.createElement("div",{className:S.default.main},this.renderResourceStatus(),this.renderAllocatedResources(),this.renderConditions(),this.renderTanits())}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(d.default.Component))||o)||o;r.default=k},2946:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(0)),u=n(25),c=n(37),l=n(296),i=a(n(275)),s=a(n(2947)),d=function(e){var r=e.data;if(!l.NODE_CONDITION_ICONS[r.type])return null;var n=(0,l.getConditionsStatus)(r),a=o.default.createElement("div",null,o.default.createElement("div",{className:"tooltip-title"},r.reason),o.default.createElement("p",{className:"tooltip-desc"},r.message),o.default.createElement("p",{className:"tooltip-desc"},t("LATEST_UPDATE_VALUE",{value:(0,c.getLocalTime)(r.lastHeartbeatTime).format("YYYY-MM-DD HH:mm:ss")})));return o.default.createElement("div",{className:s.default.card},o.default.createElement("div",{className:s.default.icon},o.default.createElement(u.Icon,{name:l.NODE_CONDITION_ICONS[r.type],size:40}),o.default.createElement(u.Tooltip,{content:a},"Running"===n?o.default.createElement(u.Icon,{className:s.default.check,name:"check",type:"light",size:12}):o.default.createElement(u.Icon,{className:s.default.substract,name:"substract",type:"light",size:12}))),o.default.createElement(i.default,{title:t("NODE_".concat(r.type.toUpperCase())),description:t("NODE_".concat(r.type.toUpperCase(),"_DESC"))}))};r.default=d},2947:function(e,t,r){e.exports={card:"Kh3LUefQi7XfqAml1jJcj",icon:"_3iy83CfEy08rg9_-QKFkq7",check:"_17SNYe2bxLoE0pvH1a2aDg",substract:"_3eJAVhQ8al4C0aso0N6wDI"}},2948:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(n(0)),u=n(25),c=a(n(2949)),l=function(e){var r=e.data;return o.default.createElement("div",{className:c.default.card},o.default.createElement(u.Columns,null,o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("KEY"),":"),r.key)),o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("VALUE"),":"),r.value)),o.default.createElement(u.Column,null,o.default.createElement("p",null,o.default.createElement("span",null,t("POLICY"),":")," ",t(r.effect.toUpperCase())))))};r.default=l},2949:function(e,t,r){e.exports={card:"_1Ens6X0pfcZc-RZ6-o7rji"}},2950:function(e,t,r){e.exports={charts:"ZmLO9iLSnLt1J6Gz4uKwS",resources:"lyqB5tNGCKuC1h5-5HtLB",allocated:"_1JOW87aTOtJJdxN1fWMTGb",conditions:"_1DY4TX4djJSe-gKH5iAwVJ"}},2951:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(806));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,d.inject)("detailStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).store=e.props.detailStore,e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.match.params.cluster;return s.default.createElement(f.default,{detail:this.store.detail,limit:6,prefix:"/clusters/".concat(e)})}}]),r}(s.default.Component))||a)||a;t.default=m},2952:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=r(70),d=r(37),f=r(762);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,s.inject)("detailStore")(a=(0,s.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"fetchData",value:function(){var e={"involvedObject.name":this.store.detail.name,"involvedObject.kind":this.kind};this.eventStore.fetchList({cluster:this.cluster,fieldSelector:(0,d.joinSelector)(e)})}}]),r}(f.Component))||a)||a;t.default=m},2953:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(5),h=n(70),y=a(n(16)),v=a(n(32)),g=a(n(190)),E=n(25),_=n(37),O=n(635),b=a(n(753)),S=a(n(811)),C=a(n(937)),T=a(n(816)),k=a(n(729)),R=a(n(2954));function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var N=(0,h.inject)("rootStore")(o=(0,h.observer)(o=(0,O.trigger)(o=function(e){(0,s.default)(n,e);var r=M(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new b.default,e.quotaStore=new S.default,e.limitRangeStore=new C.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){var r=e.name,n=(0,m.toJS)(e.store.detail),a=e.limitRangeStore.list.data;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",type:"control",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:r,detail:(0,g.default)(n,"workspace"),success:e.fetchData})}},{key:"editQuota",icon:"pen",text:t("EDIT_PROJECT_QUOTAS"),action:"edit",onClick:function(){return e.trigger("project.quota.edit",{type:r,detail:n,success:function(){return e.quotaStore.fetch(e.params)}})}},{key:"edit-default-resource",icon:"pen",action:"edit",text:t("EDIT_DEFAULT_CONTAINER_QUOTAS"),onClick:function(){return e.trigger("project.default.resource",A(A({},e.props.match.params),{},{store:e.limitRangeStore,detail:a[0],success:function(){return e.limitRangeStore.fetchListByK8s(e.params)}}))}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",show:e.store.detail.workspace!==globals.config.systemWorkspace,onClick:function(){return e.trigger("resource.delete",{type:r,detail:(0,g.default)(n,"workspace"),success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var r=(0,m.toJS)(e.store.detail);if(!(0,v.default)(r))return[{name:t("STATUS"),value:p.default.createElement(k.default,{type:r.status,name:t(r.status)})},{name:t("CLUSTER"),value:e.props.match.params.cluster},{name:t("WORKSPACE"),value:r.workspace},{name:t("CREATION_TIME_TCAP"),value:(0,_.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator||"-"}]},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.quotaStore.fetch(this.params),this.limitRangeStore.fetchListByK8s(this.params)}},{key:"render",value:function(){var e={detailStore:this.store,quotaStore:this.quotaStore,limitRangeStore:this.limitRangeStore};if(this.store.isLoading&&!this.store.detail.name)return p.default.createElement(E.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,_.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("PROJECT_PL"),url:this.listUrl}]};return p.default.createElement(T.default,(0,u.default)({stores:e,routes:R.default},r))}},{key:"module",get:function(){return"projects"}},{key:"name",get:function(){return"PROJECT"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/projects")}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}},{key:"params",get:function(){return(0,y.default)(this.props.match,"params",{})}}]),n}(p.default.Component))||o)||o)||o;r.default=N},2954:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2955)),u=n(r(2963)),c=n(r(2964)),l=n(r(2970)),i="/clusters/:cluster/projects/:namespace",s=[{path:"".concat(i,"/overview"),title:"OVERVIEW",component:o.default,exact:!0},{path:"".concat(i,"/pods"),title:"POD_PL",component:u.default,exact:!0},{path:"".concat(i,"/gateway"),title:"GATEWAY",component:c.default,exact:!0},{path:"".concat(i,"/quota"),title:"QUOTA_PL",component:l.default,exact:!0},(0,a.getIndexRoute)({path:i,to:"".concat(i,"/overview"),exact:!0})];t.default=s},2955:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(276),p=n(70),m=a(n(290)),h=n(25),y=a(n(723)),v=a(n(749)),g=a(n(1450)),E=a(n(637)),_=a(n(737)),O=a(n(2962));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var S=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,l.default)(n,e);var r=b(n);function n(){var e;(0,u.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).fedStore=new _.default({module:"namespaces"}),e.clusterStore=new E.default,e}return(0,c.default)(n,[{key:"componentDidMount",value:function(){if(this.isFedManaged){var e=this.props.detailStore.detail.name;this.fedStore.fetchDetail({name:e,namespace:e}),this.clusterStore.fetchList({limit:-1})}}},{key:"renderPlacement",value:function(){var e=this.fedStore.detail,r=e.clusters,n=void 0===r?[]:r,a=e.name,o=(0,m.default)(this.clusterStore.list.data,"name");return d.default.createElement(y.default,{title:t("CLUSTER_PL")},d.default.createElement(h.Alert,{type:"warning",message:t("MULTI_CLUSTER_PROJECT_TIP"),hideIcon:!0}),d.default.createElement("div",{className:O.default.clusters},n.map((function(e){return o[e.name]?d.default.createElement(f.Link,{key:e.name,className:O.default.cluster,to:"/clusters/".concat(e.name,"/projects/").concat(a)},d.default.createElement(v.default,{cluster:o[e.name],theme:"light",tagClass:"float-right"})):null}))))}},{key:"render",value:function(){var e=this.props.detailStore.detail;return d.default.createElement(d.default.Fragment,null,this.isFedManaged&&this.renderPlacement(),d.default.createElement(g.default,{match:this.props.match,workspace:e.workspace}))}},{key:"isFedManaged",get:function(){return this.props.detailStore.detail.isFedManaged}}]),n}(d.default.Component))||o)||o;r.default=S},2962:function(e,t,r){e.exports={clusters:"_2cmfLkh2-73OlEHQZ0JznP",cluster:"Eh3sYZ8Yv_OZPh6LmU4ij"}},2963:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(806));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,d.inject)("detailStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).store=e.props.detailStore,e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.match.params.cluster;return s.default.createElement(f.default,{detail:this.store.detail,limit:6,prefix:"/clusters/".concat(e)})}}]),r}(s.default.Component))||a)||a;t.default=m},2964:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c,l,i=a(n(71)),s=a(n(49)),d=a(n(50)),f=a(n(21)),p=a(n(91)),m=a(n(12)),h=a(n(13)),y=a(n(135)),v=a(n(19)),g=a(n(20)),E=a(n(18)),_=a(n(74)),O=(a(n(92)),a(n(0))),b=a(n(1028)),S=n(25),C=a(n(767)),T=n(5),k=n(70),R=a(n(32)),D=a(n(723)),A=a(n(2969));function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,g.default)(this,r)}}var I=(0,k.inject)("detailStore","rootStore")(o=(0,k.observer)((u=function(e){(0,v.default)(n,e);var r=P(n);function n(){var e;(0,m.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new C.default,(0,p.default)(e,"gatewayList",c,(0,y.default)(e)),(0,p.default)(e,"isLoading",l,(0,y.default)(e)),e.getProjectGateway=function(){var t=N({},e.props.match.params);return e.store.getGatewayByProject(N(N({},t),{},{cluster:e.cluster}))},e.getInitGateway=(0,d.default)(s.default.mark((function t(){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.getProjectGateway();case 3:r=t.sent,e.gatewayList=r,e.isLoading=!1;case 6:case"end":return t.stop()}}),t)}))),e.renderClusterGatewayTitle=function(){return O.default.createElement("div",{className:"title"},t("CLUSTER_GATEWAY"))},e.renderProjectTitle=function(){return O.default.createElement("div",{className:"title"},t("PROJECT_GATEWAY"))},e.renderOperations=function(r){var n=r.url,a=r.disabled;return O.default.createElement(S.Button,{disabled:a,onClick:function(){e.props.rootStore.routing.push(n)}},t("VIEW_DETAILS"))},e.renderGatewayCard=function(){return e.gatewayList.every((function(e){return(0,R.default)((0,T.toJS)(e))}))?e.renderEmpty():e.gatewayList.map((function(t,r,n){var a=0===r;return O.default.createElement(b.default,(0,i.default)({key:r,type:a?"cluster":"project",detail:t,actions:e.enableActions},e.props,{store:e.store,getData:e.getInitGateway,title:a?e.renderClusterGatewayTitle():e.renderProjectTitle(),prefix:a?"":e.prefix,renderOperations:function(t){return e.renderOperations(t)},gatewayList:(0,T.toJS)(n)}))}))},e}return(0,h.default)(n,[{key:"componentDidMount",value:function(){this.getInitGateway()}},{key:"renderEmpty",value:function(){return O.default.createElement(D.default,{className:"margin-t12 margin-b12"},O.default.createElement("div",{className:A.default.empty},O.default.createElement("div",{className:A.default.icon},O.default.createElement(S.Icon,{name:"loadbalancer",size:40})),O.default.createElement("div",{className:A.default.text},O.default.createElement("div",null,t("GATEWAY_NOT_ENABLED")),O.default.createElement("p",null,t("ENABLE_GATEWAY_TIP")))))}},{key:"render",value:function(){return O.default.createElement("div",null,O.default.createElement(S.Loading,{spinning:this.isLoading},O.default.createElement("div",null,this.renderGatewayCard())))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"namespace",get:function(){return this.props.match.params.namespace}},{key:"prefix",get:function(){var e=this.props.detailStore.detail.workspace;return"/".concat(e,"/clusters/").concat(this.cluster,"/projects/").concat(this.namespace,"/gateways")}},{key:"enableActions",get:function(){return globals.app.getActions(N(N({module:"project-settings"},this.props.match.params),{},{project:this.namespace}))}}]),n}(O.default.Component),c=(0,_.default)(u.prototype,"gatewayList",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=(0,_.default)(u.prototype,"isLoading",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=u))||o)||o;r.default=I},2969:function(e,t,r){e.exports={empty:"_1pASR0wnOOZ188jGyMPDDu",icon:"_36P6BNJUIu_o_9LugrstnV",text:"_2hrgMPH6R-G9psZHUOvDko"}},2970:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(5),f=r(70),p=n(r(1453)),m=n(r(1454));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var y=(0,f.inject)("quotaStore","limitRangeStore")(a=(0,f.observer)(a=function(e){(0,c.default)(r,e);var t=h(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=(0,d.toJS)(this.props.limitRangeStore.list.data)[0],t=(0,d.toJS)(this.props.quotaStore.data);return s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{detail:e}),s.default.createElement(m.default,{detail:t}))}}]),r}(s.default.Component))||a)||a;t.default=y},2976:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c,l=a(n(71)),i=a(n(49)),s=a(n(136)),d=a(n(21)),f=a(n(50)),p=a(n(91)),m=a(n(12)),h=a(n(13)),y=a(n(135)),v=a(n(19)),g=a(n(20)),E=a(n(18)),_=a(n(74)),O=(a(n(92)),a(n(0))),b=a(n(16)),S=a(n(32)),C=n(70),T=n(25),k=n(37),R=n(635),D=n(5),A=a(n(873)),M=a(n(1395)),N=a(n(2977)),P=a(n(1138)),I=a(n(733)),w=a(n(816)),L=a(n(2978));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,g.default)(this,r)}}var V=(0,C.inject)("rootStore")(o=(0,C.observer)(o=(0,R.trigger)((u=function(e){(0,v.default)(n,e);var r=U(n);function n(){var e;(0,m.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new A.default,e.accessorStore=new M.default,e.validateWebhookCFStore=new N.default,e.CrdStore=new P.default,e.state={shouldAddCrd:!1},(0,p.default)(e,"ksVersion",c,(0,y.default)(e)),e.fetchData=(0,f.default)(i.default.mark((function t(){var r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.match.params,t.next=3,e.accessorStore.getKsVersion(r);case 3:return e.ksVersion=t.sent,t.next=6,e.store.fetchDetail(r);case 6:(0,k.compareVersion)("".concat(e.ksVersion),"v3.3")<0?Promise.all([e.validateWebhookCFStore.fetchDetailWithoutWarning(x(x({},r),{},{name:"storageclass-accessor.storage.kubesphere.io"})),e.CrdStore.fetchDetailWithoutWarning(x(x({},r),{},{name:"accessors.storage.kubesphere.io"}))]).then((function(t){var r=(0,s.default)(t,2),n=r[0],a=r[1],o=n.urlNotSupport,u=a.urlNotSupport;o||u?e.setState({shouldAddCrd:!0}):(0,S.default)(n)||(0,S.default)(a)||e.checkHasAccessor()})):e.checkHasAccessor();case 7:case"end":return t.stop()}}),t)}))),e.checkHasAccessor=(0,f.default)(i.default.mark((function t(){var r,n,a,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.match.params,n=(0,b.default)(e.store.detail,"name"),t.next=4,e.accessorStore.fetchDetailWithoutWarning(x(x({},r),{},{name:"".concat(n,"-accessor")}));case 4:if(!(a=t.sent).urlNotSupport){t.next=9;break}e.setState({shouldAddCrd:!0}),t.next=15;break;case 9:if(!(0,S.default)(a)){t.next=15;break}return o=I.default.accessors(n),t.next=13,e.accessorStore.create(o,x({},r));case 13:return t.next=15,e.accessorStore.fetchDetail({cluster:r.cluster,name:"".concat(r.name,"-accessor")});case 15:case"end":return t.stop()}}),t)}))),e.getOperations=function(){var r=e.state.shouldAddCrd,n=e.props.match.params.cluster,a=(0,k.compareVersion)("".concat(e.ksVersion),"v3.3")>=0;return[{key:"editYaml",type:"default",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:(0,D.toJS)(e.store.detail),readOnly:!1,success:e.fetchData})}},{key:"setDefault",icon:"pen",text:t("SET_AS_DEFAULT_STORAGE_CLASS"),action:"edit",onClick:function(){return e.trigger("storageclass.set.default",{detail:(0,D.toJS)(e.store.detail),defaultStorageClass:e.defaultStorageClass.name,success:e.fetchData})}},{key:"accessor",icon:function(){return O.default.createElement(O.default.Fragment,null,O.default.createElement("img",{src:"/assets/storageclass-tree.svg",style:{width:"16px",marginRight:"12px"}}))},text:t("SET_AUTHORIZATION_RULES"),action:"edit",show:a,onClick:function(){return e.trigger("storageclass.accessor",{storageClassName:(0,b.default)(e.store.detail,"name"),shouldAddCrd:r,store:e.accessorStore,detail:(0,D.toJS)(e.accessorStore.detail),cluster:n,success:e.fetchData})}},{key:"funcManage",icon:"slider",text:t("SET_VOLUME_OPERATIONS"),action:"edit",onClick:function(){return e.trigger("storageclass.volume.function.update",{detail:(0,D.toJS)(e.store.detail),StorageClassStore:e.store,success:e.fetchData})}},{key:"autoResizer",icon:function(){return O.default.createElement(O.default.Fragment,null,O.default.createElement("img",{src:"/assets/storageclass_autoresizer.svg",style:{width:"16px",marginRight:"12px"}}))},text:t("SET_AUTO_EXPANSION"),action:"edit",disabled:!a||!(0,b.default)((0,D.toJS)(e.store.detail),"allowVolumeExpansion",!1),onClick:function(){return e.trigger("storageclass.pvc.autoresizer",{detail:(0,D.toJS)(e.store.detail),StorageClassStore:e.store,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("storageclass.delete",{type:e.name,detail:(0,D.toJS)(e.store.detail),accessorStore:e.accessorStore,cluster:n,success:e.returnTolist})}}]},e.getAttrs=function(){var r=e.store.detail,n=void 0===r?{}:r;return(0,S.default)(n)?null:[{name:t("PROVISIONER"),value:n.provisioner},{name:t("DEFAULT_STORAGE_CLASS"),value:n.default?t("YES"):"-"},{name:t("ALLOW_VOLUME_EXPANSION"),value:n.allowVolumeExpansion?t("TRUE"):t("FALSE")},{name:t("RECLAIM_POLICY"),value:n.reclaimPolicy},{name:t("ALLOW_VOLUME_SNAPSHOT"),value:n.supportSnapshot?t("TRUE"):t("FALSE")}]},e.returnTolist=function(){e.props.rootStore.routing.push(e.listUrl)},e}return(0,h.default)(n,[{key:"componentDidMount",value:function(){this.store.fetchList({limit:-1}),this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return O.default.createElement(T.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,k.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("STORAGE_CLASS_PL"),url:this.listUrl}]};return O.default.createElement(w.default,(0,l.default)({stores:e,routes:L.default},r))}},{key:"defaultStorageClass",get:function(){return(0,D.toJS)(this.store.list).data.find((function(e){return e.default}))||{}}},{key:"name",get:function(){return"STORAGE_CLASS"}},{key:"module",get:function(){return"storageclasses"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/storageclasses")}}]),n}(O.default.Component),c=(0,_.default)(u.prototype,"ksVersion",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=u))||o)||o)||o;r.default=V},2977:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(19)),u=n(r(20)),c=n(r(18));function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var i=function(e){(0,o.default)(r,e);var t=l(r);function r(){var e;(0,a.default)(this,r);for(var n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))).module="validatingwebhookconfigurations",e}return r}(n(r(277)).default);t.default=i},2978:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2979)),u="/clusters/:cluster/storageclasses/:name",c=[{name:"volumes",path:"".concat(u,"/volumes"),title:"PERSISTENT_VOLUME_CLAIM_PL",component:o.default},(0,a.getIndexRoute)({path:u,to:"".concat(u,"/volumes"),exact:!0}),(0,a.getIndexRoute)({path:"*",to:"/404",exact:!0})];t.default=c},2979:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(21)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(37),h=a(n(763)),y=a(n(16)),v=n(25),g=a(n(723)),E=a(n(727)),_=a(n(741)),O=a(n(729)),b=a(n(835)),S=a(n(3)),C=a(n(2980));function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var D=(0,p.inject)("detailStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=R(n);function n(e){var a;return(0,c.default)(this,n),(a=r.call(this,e)).handleFetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.store.detail,r=t.cluster,n=t.name;e.keyword&&(e.name=e.keyword,delete e.keyword),a.volumeStore.fetchList(k({storageClassName:n,cluster:r},e))},a.getColumns=function(){return[{title:t("NAME"),dataIndex:"name",render:function(e,t){return f.default.createElement(E.default,{icon:"storage",title:(0,m.getDisplayName)(t),noLink:!0})}},{title:t("STATUS"),dataIndex:"phase",width:"13%",render:function(e){return f.default.createElement(O.default,{type:e,name:t("VOLUME_STATUS_".concat(e.toUpperCase()))})}},{title:t("CAPACITY"),dataIndex:"capacity",width:"13%",render:function(e){return e||"-"}},{title:t("MOUNT_STATUS"),dataIndex:"inUse",width:"13%",render:function(e){return e?t("MOUNTED"):t("NOT_MOUNTED")}},{title:t("PROJECT"),dataIndex:"namespace",key:"namespace",width:"13%",customizable:!0},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",width:"21%",render:function(e){return(0,m.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},a.renderResizeItem=function(e){var t=e.src,r=e.title,n=e.des,a=e.iconName,o=e.key;return f.default.createElement("div",{key:o,className:(0,S.default)(C.default.item,C.default.item_bg)},a?f.default.createElement(v.Icon,{name:a,size:40}):f.default.createElement("img",{src:t,className:C.default.icon}),f.default.createElement("div",null,f.default.createElement("span",{className:C.default.title},r),f.default.createElement("span",{className:C.default.des},n)))},a.renderResize=function(){var e=a.props.detailStore.detail.annotations,r=JSON.parse((0,y.default)(e,"resize.kubesphere.io/enabled","false")),n=JSON.parse((0,y.default)(e,"restart.kubesphere.io/enabled","false")),o=(0,y.default)(e,"resize.kubesphere.io/storage-limit","10000Gi"),u=(0,y.default)(e,"resize.kubesphere.io/threshold","10%"),c=(0,y.default)(e,"resize.kubesphere.io/increase","10%"),l=(0,y.default)(e,"restart.kubesphere.io/max-time","300"),i={title:t("VALUE_TIMEOUT",{value:l}),src:"/assets/history_duotone.svg",des:t("RESTART_WORKLOAD_AUTOMATICALLY")},s=[{iconName:"storage",title:o,des:t("MAXIMUM_SIZE_SCAP")},{src:"/assets/chart.svg",title:u,des:t("THRESHOLD")},{iconName:"stretch",title:c,des:t("INCREMENT")}];return n&&s.push(i),r&&f.default.createElement(g.default,null,f.default.createElement("div",{className:(0,S.default)(C.default.item,C.default.top)},f.default.createElement("img",{src:"/assets/storageclass_autoresizer.svg",className:C.default.icon}),f.default.createElement("div",null,f.default.createElement("span",{className:C.default.title},t("AUTO_EXPANSION")),f.default.createElement("span",{className:C.default.des},t("AUTO_EXPANSION_DESC")))),f.default.createElement("div",{className:C.default.bottom},s.map((function(e,t){return a.renderResizeItem(k(k({},e),{},{key:t}))}))))},a.volumeStore=e.volumeStore||new h.default,a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.handleFetch()}},{key:"render",value:function(){var e=this.volumeStore.list,r=e.data,n=e.filters,a=e.isLoading,o={total:e.total,page:e.page,limit:e.limit};return f.default.createElement(f.default.Fragment,null,this.renderResize(),f.default.createElement(_.default,{title:t("PERSISTENT_VOLUME_CLAIM_PL"),loading:a,empty:t("NO_AVAILABLE_RESOURCE_VALUE",{resource:t("PERSISTENT_VOLUME_CLAIM")})},f.default.createElement(b.default,{className:C.default.table,data:r,columns:this.getColumns(),searchType:"name",keyword:n.name,filters:n,placeholder:t("SEARCH_BY_NAME"),pagination:o,isLoading:a,onFetch:this.handleFetch})))}},{key:"store",get:function(){return this.props.detailStore}},{key:"storageClassName",get:function(){return this.store.detail.name}}]),n}(f.default.Component))||o)||o;r.default=D},2980:function(e,t,r){e.exports={table:"_2kjHtHOfFmm6itggAkoQAL",top:"_5cglYSZWbQvrCmvoMyqxP",item:"_21kLc98uyqQuBRc4Q-dyhM",icon:"_1vTN6gl6PThH5CifVSvUo6",title:"_1QIhBOEC_Y-VZV4BPZvjdr",des:"_3NV29u5T-Tku0Cp7CeL7d",bottom:"z1wHL-lLdkBj_ZwzB6voh",item_bg:"_2TzaGW5k734_6hWUzqgCSv"}},2981:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(70),m=n(25),h=n(37),y=n(289),v=a(n(1136)),g=a(n(729)),E=a(n(816)),_=a(n(2982));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var b=(0,p.inject)("rootStore")(o=(0,p.observer)(o=function(e){(0,i.default)(n,e);var r=O(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new v.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[]},e.getAttrs=function(){var r=e.store.detail,n=(0,y.getComponentStatus)(r);return[{name:t("STATUS"),value:f.default.createElement(g.default,{type:n,name:t(n)})},{name:t("CLUSTER"),value:e.props.match.params.cluster},{name:t("PROJECT"),value:r.namespace},{name:t("REPLICA_COUNT"),value:"".concat(r.healthyBackends,"/").concat(r.totalBackends)},{name:t("CREATION_TIME_TCAP"),value:(0,h.getLocalTime)(r.startedAt).format("YYYY-MM-DD HH:mm:ss")}]},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(m.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,h.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("SYSTEM_COMPONENT_PL"),url:this.listUrl}]};return f.default.createElement(E.default,(0,u.default)({stores:e,routes:_.default},r))}},{key:"name",get:function(){return"SYSTEM_COMPONENT"}},{key:"module",get:function(){return"components"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/components")}}]),n}(f.default.Component))||o)||o;r.default=b},2982:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2983)),u="/clusters/:cluster/components/:namespace/:name",c=[{path:"".concat(u,"/service-details"),title:"POD_PL",component:o.default,exact:!0},(0,a.getIndexRoute)({path:u,to:"".concat(u,"/service-details"),exact:!0})];t.default=c},2983:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(806)),p=n(r(748));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var h=(0,d.inject)("detailStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=m(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).serviceStore=new p.default,e}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.serviceStore.fetchDetail(this.props.match.params)}},{key:"render",value:function(){var e=this.props.match.params.cluster;return this.serviceStore.isLoading?null:s.default.createElement(f.default,{detail:this.serviceStore.detail,prefix:"/clusters/".concat(e)})}},{key:"module",get:function(){return this.props.module}},{key:"store",get:function(){return this.props.detailStore}}]),r}(s.default.Component))||a)||a;t.default=h},2984:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=a(n(32)),y=n(25),v=n(37),g=n(635),E=a(n(1138)),_=a(n(816)),O=a(n(2985));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,g.trigger)(o=function(e){(0,i.default)(n,e);var r=b(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new E.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[]},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,h.default)(r))return[{name:t("CLUSTER"),value:e.props.match.params.cluster},{name:t("SCOPE_TCAP"),value:r.scope},{name:t("CREATION_TIME_TCAP"),value:(0,v.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator||"-"}]},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(y.Loading,{className:"ks-page-loading"});var r={module:this.module,name:this.store.detail.kind,desc:this.store.detail.name,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("".concat(this.name,"_PL")),url:this.listUrl}]};return f.default.createElement(_.default,(0,u.default)({stores:e,routes:O.default},r))}},{key:"module",get:function(){return"customresourcedefinitions"}},{key:"name",get:function(){return"CRD"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/customresources")}}]),n}(f.default.Component))||o)||o)||o;r.default=S},2985:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2986)),u="/clusters/:cluster/customresources/:name",c=[{path:"".concat(u,"/resources"),title:"RESOURCE_STATUS",component:o.default,exact:!0},(0,a.getIndexRoute)({path:u,to:"".concat(u,"/resources"),exact:!0})];t.default=c},2986:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(109)),c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(0)),m=n(5),h=n(70),y=a(n(727)),v=a(n(728)),g=n(37),E=n(635),_=a(n(2987)),O=a(n(2988));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var T=(0,h.inject)("rootStore","detailStore")(o=(0,h.observer)(o=(0,E.trigger)(o=function(e){(0,s.default)(n,e);var r=C(n);function n(e){var t;(0,l.default)(this,n),(t=r.call(this,e)).getData=function(e){t.store.fetchList(S(S({},e),{},{cluster:t.props.match.params.cluster}))};var a=t.props.detailStore.detail,o=a.group,u=a.latestVersion,c=a.kind,i=a.module;return t.store=new _.default({kind:c,module:i,apiVersion:"apis/".concat(o,"/").concat(u)}),t}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.store.list,r=e.data,n=e.name,a=e.page,o=e.total,u=e.limit,c=e.isLoading,l={page:a,total:o,limit:u},i={name:n};return p.default.createElement("div",null,p.default.createElement("div",{className:O.default.title},t("CUSTOM_RESOURCE_PL")),p.default.createElement(v.default,{data:(0,m.toJS)(r),columns:this.columns,isLoading:c,onFetch:this.getData,itemActions:this.itemActions,enabledActions:this.enabledActions,pagination:l,filters:i,showEmpty:!1,searchType:"name",hideCustom:!0}))}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"customresourcedefinitions",cluster:this.props.match.params.cluster})}},{key:"itemActions",get:function(){var e=this;return[this.enabledActions.includes("edit")?{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(t){return e.trigger("resource.yaml.edit",{detail:t,yaml:t._originData,success:e.getData})}}:{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(t){return e.trigger("resource.yaml.edit",{detail:t,yaml:t._originData,readOnly:!0})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(t){return e.trigger("resource.delete",{type:"CUSTOM_RESOURCE",detail:t,success:e.getData})}}]}},{key:"columns",get:function(){var e=this.props.detailStore.detail.scope;return[{title:t("NAME"),dataIndex:"name",render:function(e,t){return p.default.createElement(y.default,{title:(0,g.getDisplayName)(t),desc:t.description,noLink:!0})}}].concat((0,u.default)("Namespaced"===e?[{title:t("PROJECT_DEVOPS_PROJECT"),dataIndex:"namespace"}]:[]),[{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",render:function(e){return(0,g.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}])}}]),n}(p.default.Component))||o)||o)||o;r.default=T},2987:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,u,c=n(r(49)),l=n(r(21)),i=n(r(56)),s=n(r(50)),d=n(r(91)),f=n(r(12)),p=n(r(13)),m=n(r(74)),h=(n(r(92)),n(r(16))),y=n(r(73)),v=r(5),g=n(r(186));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(a=function(){function e(t){var r=this,n=t.module,a=t.kind,c=t.apiVersion;(0,f.default)(this,e),(0,d.default)(this,"list",o,this),this.getListUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(r.apiVersion).concat(r.getPath(e),"/").concat(r.module)},this.getDetailUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(r.getListUrl(e),"/").concat(e.name)},(0,d.default)(this,"submitting",u,this),this.module=n,this.kind=a,this.apiVersion=c}var t,r;return(0,p.default)(e,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,r=e.namespace,n="";return t&&(n+="/klusters/".concat(t)),r&&(n+="/namespaces/".concat(r)),n}},{key:"fetchList",value:(r=(0,s.default)(c.default.mark((function e(){var t,r,n,a,o,u,l,s,d,f,p=this,m=arguments;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},r=t.cluster,n=t.namespace,a=t.page,o=void 0===a?this.list.page:a,u=t.name,l=(0,i.default)(t,["cluster","namespace","page","name"]),this.list.isLoading=!0,(s=l).limit=this.list.limit,this.list.continues[o]&&(s.continue=this.list.continues[o]),u&&(s.fieldSelector="metadata.name=".concat(u)),e.next=8,request.get(this.getListUrl({cluster:r,namespace:n}),s);case 8:d=e.sent,f=d.items.map((function(e){return _({cluster:r,namespace:n},p.mapper(e))})),this.list.continues[Number(o)+1]=d.metadata.continue,1===o&&(this.list.total=f.length+(d.metadata.remainingItemCount||0)),(0,v.extendObservable)(this.list,{data:f,page:Number(o),name:u}),this.list.isLoading=!1;case 14:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"update",value:(t=(0,s.default)(c.default.mark((function e(t,r){var n,a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get(this.getDetailUrl(t));case 2:return n=e.sent,(a=(0,h.default)(n,"metadata.resourceVersion"))&&(0,y.default)(r,"metadata.resourceVersion",a),e.abrupt("return",this.submitting(request.put(this.getDetailUrl(t),r)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"patch",value:function(e,t){return this.submitting(request.patch(this.getDetailUrl(e),t))}},{key:"delete",value:function(e){return this.submitting(request.delete(this.getDetailUrl(e)))}},{key:"mapper",get:function(){return g.default.default}}]),e}(),o=(0,m.default)(a.prototype,"list",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],page:1,limit:8,total:0,continues:{1:""},isLoading:!0}}}),u=(0,m.default)(a.prototype,"submitting",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.isSubmitting=!0,setTimeout((function(){t.catch((function(){})).finally((function(){e.isSubmitting=!1}))}),500),t}}}),(0,m.default)(a.prototype,"fetchList",[v.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchList"),a.prototype),(0,m.default)(a.prototype,"update",[v.action],Object.getOwnPropertyDescriptor(a.prototype,"update"),a.prototype),(0,m.default)(a.prototype,"patch",[v.action],Object.getOwnPropertyDescriptor(a.prototype,"patch"),a.prototype),(0,m.default)(a.prototype,"delete",[v.action],Object.getOwnPropertyDescriptor(a.prototype,"delete"),a.prototype),a);t.default=O},2988:function(e,t,r){e.exports={title:"_2jttfh7kRfWWvaOvcR-zmM"}},2989:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=a(n(16)),y=a(n(32)),v=n(25),g=n(37),E=n(635),_=a(n(747)),O=a(n(816)),b=a(n(2990));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var C=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,E.trigger)(o=function(e){(0,i.default)(n,e);var r=S(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new _.default("clusterroles"),e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",show:e.showEdit,onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,p.toJS)(e.store.detail),success:e.fetchData})}},{key:"editRole",icon:"pen",text:t("EDIT_PERMISSIONS"),action:"edit",show:e.showEdit,onClick:function(){return e.trigger("role.edit",{module:e.module,detail:(0,p.toJS)(e.store.detail),roleTemplates:(0,p.toJS)(e.store.roleTemplates.data),success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",show:e.showEdit,onClick:function(){return e.trigger("role.delete",{type:e.name,detail:(0,p.toJS)(e.store.detail),cluster:e.props.match.params.cluster,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,y.default)(r))return[{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator}]},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData(),this.store.fetchRoleTemplates(this.props.match.params)}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,authKey:this.authKey,name:(0,h.default)(this.store.detail,"name"),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("CLUSTER_ROLE_PL"),url:this.listUrl}]};return f.default.createElement(O.default,(0,u.default)({stores:e,routes:b.default},r))}},{key:"module",get:function(){return this.store.module}},{key:"authKey",get:function(){return"clusterroles"}},{key:"name",get:function(){return"CLUSTER_ROLE"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/roles")}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"showEdit",get:function(){var e=this.props.match.params.name;return!globals.config.presetClusterRoles.includes(e)}}]),n}(f.default.Component))||o)||o)||o;r.default=C},2990:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(965)),u=n(r(966)),c="/clusters/:cluster/roles/:name",l=[{path:"".concat(c,"/authorizations"),title:"PERMISSION_PL",component:o.default,exact:!0},{path:"".concat(c,"/users"),title:"AUTHORIZED_USER_PL",component:u.default,exact:!0},(0,a.getIndexRoute)({path:c,to:"".concat(c,"/authorizations"),exact:!0})];t.default=l},2994:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(635),m=a(n(16)),h=n(70),y=a(n(1408)),v=a(n(816)),g=n(25),E=a(n(1409)),_=a(n(2995)),O=a(n(2998));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=(0,h.inject)("rootStore")(o=(0,h.observer)(o=(0,p.trigger)(o=function(e){(0,i.default)(n,e);var r=b(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new y.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",type:"control",text:t("EDIT"),action:"edit",onClick:function(){return e.trigger("log.collection.edit",{success:e.fetchData})}},{key:"changeStatus",text:t("CHANGE_STATUS"),icon:"pin",action:"edit",onClick:function(){return e.trigger("log.collection.active.switch",{data:{enabled:Number(e.store.detail.enabled)},success:e.fetchData})}},{key:"delete",text:t("DELETE"),icon:"trash",action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}},{key:"editYaml",text:t("EDIT_YAML"),icon:"pen",action:"edit",onClick:function(){e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}}]},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getAttrs",value:function(){return[{name:t("STATUS"),value:(0,m.default)(this.store,"detail.enabled")?t("ENABLED"):t("DISABLED")}]}},{key:"render",value:function(){var e={detailStore:this.store},r=this.store.detail,n=(0,m.default)(r,"type",""),a=(0,m.default)(E.default,"".concat(n,".ICON")),o=(0,m.default)(E.default,"".concat(n,".title"),t("LOADING")),c=a?f.default.createElement(a,{className:O.default.icon,width:32,height:32}):"Loading";if(this.store.isLoading)return f.default.createElement(g.Loading,{className:"ks-page-loading"});var l={module:this.module,name:o,icon:c,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("LOG_RECEIVER_PL"),url:this.listUrl}]};return f.default.createElement(v.default,(0,u.default)({stores:e,routes:_.default},l))}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/log-collections/").concat(this.component)}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"component",get:function(){return this.props.match.params.component}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(f.default.Component))||o)||o)||o;r.default=S},2995:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(2996)),u="/clusters/:cluster/log-collections/:component/:name",c=[{path:"".concat(u,"/resource-status"),title:"RESOURCE_STATUS",component:o.default,exact:!0},(0,a.getIndexRoute)({path:u,to:"".concat(u,"/resource-status"),exact:!0})];t.default=c},2996:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(12)),c=a(n(13)),l=a(n(19)),i=a(n(20)),s=a(n(18)),d=a(n(0)),f=n(70),p=a(n(16)),m=a(n(723)),h=a(n(1411)),y=a(n(2997));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var g=(0,f.inject)("detailStore")(o=(0,f.observer)(o=function(e){(0,l.default)(n,e);var r=v(n);function n(){return(0,u.default)(this,n),r.apply(this,arguments)}return(0,c.default)(n,[{key:"render",value:function(){var e=(0,p.default)(this.props.detailStore,"detail",{}),r=e.address,n=e.config,a=void 0===n?{}:n,o=e.type;return d.default.createElement(m.default,null,d.default.createElement(h.default,{className:y.default.attributes},"kafka"===o&&d.default.createElement(h.default.Item,{className:y.default.item,name:t("TOPIC"),value:a.topics}),d.default.createElement(h.default.Item,{className:y.default.item,name:t("ADDRESS"),value:r}),"es"===o&&d.default.createElement(h.default.Item,{className:y.default.item,name:t("INDEX_PREFIX"),value:a.logstashPrefix})))}}]),n}(d.default.Component))||o)||o;r.default=g},2997:function(e,t,r){e.exports={attributes:"_1fcFwLiMNf2V7HyrLmivLq",item:"V_5vTiOowYSB3wAuDhlip"}},2998:function(e,t,r){e.exports={icon:"_3OH5gauRQWhyK_uriQN9S9"}},2999:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u=a(n(71)),c=a(n(12)),l=a(n(13)),i=a(n(19)),s=a(n(20)),d=a(n(18)),f=a(n(0)),p=n(5),m=n(70),h=a(n(16)),y=a(n(32)),v=n(25),g=n(1306),E=n(37),_=n(635),O=a(n(1074)),b=a(n(816)),S=a(n(3e3));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var T=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,_.trigger)(o=function(e){(0,i.default)(n,e);var r=C(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new O.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){var r=e.name,n=(0,p.toJS)(e.store.detail);return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",type:"control",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:r,detail:n,success:e.fetchData})}},{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(){return e.trigger("resource.yaml.edit",{detail:n,readOnly:!0})}},{key:"modify",icon:"enterprise",text:t("ASSIGN_WORKSPACE"),action:"edit",onClick:function(){return e.trigger("network.ipool.assignworkspace",{detail:n})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:r,detail:n,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,y.default)(r)){var n=new g.Netmask(r.cidr);return[{name:t("NETWORK_SEGMENT"),value:r.cidr},{name:t("NETWORK"),value:n.base},{name:t("START_IP_ADDRESS"),value:n.base},{name:t("END_IP_ADDRESS"),value:n.broadcast},{name:t("CREATION_TIME_TCAP"),value:(0,E.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator||"-"}]}},e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(v.Loading,{className:"ks-page-loading"});var r={module:this.module,name:(0,E.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("POD_IP_POOL_PL"),url:this.listUrl}]};return f.default.createElement(b.default,(0,u.default)({stores:e,routes:S.default},r))}},{key:"module",get:function(){return"ippools"}},{key:"name",get:function(){return"POD_IP_POOL"}},{key:"listUrl",get:function(){var e=this.props.match.params.cluster;return"/clusters/".concat(e,"/ippools")}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"params",get:function(){return(0,h.default)(this.props.match,"params",{})}}]),n}(f.default.Component))||o)||o)||o;r.default=T},3e3:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(634),o=n(r(3001)),u=n(r(3003)),c="/clusters/:cluster/ippools/:name",l=[{path:"".concat(c,"/workspaces"),title:"Workspaces",component:o.default,exact:!0},{path:"".concat(c,"/pods"),title:"Pods",component:u.default,exact:!0},(0,a.getIndexRoute)({path:c,to:"".concat(c,"/workspaces"),exact:!0})];t.default=l},3001:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c=a(n(21)),l=a(n(12)),i=a(n(13)),s=a(n(19)),d=a(n(20)),f=a(n(18)),p=a(n(74)),m=a(n(0)),h=a(n(16)),y=a(n(32)),v=n(5),g=n(70),E=a(n(723)),_=a(n(275)),O=a(n(770)),b=a(n(3002));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var k=(0,g.inject)("detailStore")(o=(0,g.observer)((u=function(e){(0,s.default)(n,e);var r=T(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=e.props.detailStore,e.workspaceStore=new O.default,e.fetchWorkspaces=function(){var t=e.store.detail,r=(0,h.default)(t,"status.workspaces",{});e.workspaceStore.fetchList({names:Object.keys(r).join(","),limit:-1})},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.fetchWorkspaces()}},{key:"render",value:function(){var e=this.store.detail,r=(0,h.default)(e,"status.workspaces",{}),n=this.workspaces;return m.default.createElement(E.default,{title:t("WORKSPACES")},m.default.createElement("div",{className:b.default.wrapper},(0,y.default)(r)&&m.default.createElement("div",{className:b.default.empty},t("IPPOOL_WORKSPACE_EMPTY_TIP")),Object.keys(r).map((function(e){var a=n[e]||{};return m.default.createElement("div",{key:e,className:b.default.item},m.default.createElement(_.default,{icon:"enterprise",title:e,description:a.description||t("WORKSPACE")}),m.default.createElement(_.default,{title:r[e].allocations,description:t("USED_IP_ADDRESSES")}),m.default.createElement(_.default,{title:a.manager,description:t("MANAGER")}))}))))}},{key:"workspaces",get:function(){return this.workspaceStore.list.data.reduce((function(e,t){return C(C({},e),{},(0,c.default)({},t.name,t))}),{})}}]),n}(m.default.Component),(0,p.default)(u.prototype,"workspaces",[v.computed],Object.getOwnPropertyDescriptor(u.prototype,"workspaces"),u.prototype),o=u))||o)||o;r.default=k},3002:function(e,t,r){e.exports={wrapper:"_21Nur-ML8E1lmqmL3lRt3i",item:"_1bL8xFnk72nG93G57IoCla",empty:"_18lwhh8wev9Vr_5zWvrNMe"}},3003:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=n(r(12)),u=n(r(13)),c=n(r(19)),l=n(r(20)),i=n(r(18)),s=n(r(0)),d=r(70),f=n(r(806));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=(0,d.inject)("detailStore")(a=(0,d.observer)(a=function(e){(0,c.default)(r,e);var t=p(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).store=e.props.detailStore,e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.match.params.cluster;return s.default.createElement(f.default,{detail:this.store.detail,limit:6,prefix:"/clusters/".concat(e)})}}]),r}(s.default.Component))||a)||a;t.default=m},3021:function(e,r,n){"use strict";var a=n(6);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,u,c,l,i=a(n(71)),s=a(n(49)),d=a(n(50)),f=a(n(91)),p=a(n(12)),m=a(n(13)),h=a(n(135)),y=a(n(19)),v=a(n(20)),g=a(n(18)),E=a(n(74)),_=(a(n(92)),a(n(0))),O=n(70),b=n(635),S=a(n(724)),C=a(n(767)),T=n(5),k=n(25),R=a(n(1028)),D=a(n(3022));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,v.default)(this,r)}}var M=(0,O.inject)("rootStore","clusterStore")(o=(0,O.observer)(o=(0,b.trigger)((u=function(e){(0,y.default)(n,e);var r=A(n);function n(){var e;(0,p.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).store=new C.default,(0,f.default)(e,"hostGateway",c,(0,h.default)(e)),(0,f.default)(e,"isLoading",l,(0,h.default)(e)),e.getData=(0,d.default)(s.default.mark((function t(){var r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,r=e.props.match.params.cluster,t.next=4,e.store.getGateway({cluster:r});case 4:e.hostGateway=t.sent,e.isLoading=!1;case 6:case"end":return t.stop()}}),t)}))),e.handleTabChange=function(t){e.props.rootStore.routing.push("/clusters/".concat(e.cluster,"/gateways/").concat(t))},e.renderGatewayCard=function(){return"cluster"===e.component?_.default.createElement(k.Loading,{spinning:e.isLoading},_.default.createElement(R.default,(0,i.default)({type:"cluster"},e.props,{actions:e.enabledActions,prefix:e.prefix,detail:e.hostGateway,store:e.store,getData:e.getData}))):_.default.createElement(D.default,e.props)},e}return(0,m.default)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e){e.match.params.component!==this.component&&"cluster"===this.component&&this.getData()}},{key:"render",value:function(){return _.default.createElement(_.default.Fragment,null,_.default.createElement(S.default,{icon:"loadbalancer",title:t("GATEWAY_SETTINGS"),description:t("CLUSTER_GATEWAY_DESC"),tabs:this.tabs}),this.renderGatewayCard())}},{key:"component",get:function(){return this.props.match.params.component}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"prefix",get:function(){return this.props.match.url}},{key:"tabs",get:function(){return{value:this.component,onChange:this.handleTabChange,options:[{value:"cluster",label:t("CLUSTER_GATEWAY")},{value:"project",label:t("PROJECT_GATEWAY_PL")}]}}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"cluster-settings",cluster:this.cluster})}}]),n}(_.default.Component),c=(0,E.default)(u.prototype,"hostGateway",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=(0,E.default)(u.prototype,"isLoading",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=u))||o)||o)||o;r.default=M},3022:function(e,r,n){"use strict";var a=n(6),o=n(72);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var u,c=a(n(71)),l=a(n(49)),i=a(n(21)),s=a(n(56)),d=a(n(50)),f=a(n(12)),p=a(n(13)),m=a(n(19)),h=a(n(20)),y=a(n(18)),v=a(n(0)),g=a(n(767)),E=o(n(726)),_=a(n(728)),O=n(25),b=a(n(32));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,h.default)(this,r)}}var k=(0,E.default)({store:new g.default,name:"PROJECT_GATEWAY",module:"gateways"})(u=function(e){(0,m.default)(n,e);var r=T(n);function n(){var e;(0,f.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getData=(0,d.default)(l.default.mark((function t(){var r,n,a,o,u=arguments;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>0&&void 0!==u[0]?u[0]:{},n=r.silent,a=(0,s.default)(r,["silent"]),o=e.props.store,n&&(o.list.silent=!0),t.next=5,o.fetchList(C(C({},e.props.match.params),a));case 5:o.list.silent=!1;case 6:case"end":return t.stop()}}),t)}))),e.getGatewayResource=function(e){var t=e.name.split("kubesphere-router-")[1],r="kubesphere-system"===t?"":t;return{cluster:e.cluster,namespace:r}},e.handleFetch=function(t,r){e.routing.query(C(C({},t),{},{type:e.type}),r)},e.getColumns=function(){var r=e.props.getSortOrder;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:r("name"),render:function(t,r){return v.default.createElement(v.default.Fragment,null,v.default.createElement("span",{style:{fontWeight:700,cursor:"auto",marginRight:"4px"}},t),e.renderDisabledTip(r))}},{title:t("ACCESS_MODE"),dataIndex:"type"},{title:t("IP_ADDRESS"),dataIndex:"defaultIngress"},{title:t("NODE_PORTS"),dataIndex:"ports",render:function(e){return(0,b.default)(e)?"-":e.map((function(e){return"".concat(e.name.toUpperCase(),": ").concat(e.nodePort)})).join("/")}},{title:t("REPLICA_COUNT"),dataIndex:"replicas"},{title:t("TRACING"),dataIndex:"serviceMeshEnable",render:function(e){return e?t("ON"):t("OFF")}}]},e}return(0,p.default)(n,[{key:"renderDisabledTip",value:function(e){return e.createTime?null:v.default.createElement(O.Tooltip,{content:t("UPDATE_GATEWAY_DESC"),placement:"top"},v.default.createElement(O.Icon,{size:20,name:"update",color:{primary:"#f5a623 ",secondary:"#ffe1be"}}))}},{key:"render",value:function(){var e=this.props.tableProps;return v.default.createElement(E.ListPage,(0,c.default)({},this.props,{getData:this.getData,noWatch:!0}),v.default.createElement(_.default,(0,c.default)({},e,{itemActions:this.itemActions,tableActions:this.tableActions,columns:this.getColumns(),onCreate:null,searchType:"name"})))}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"itemActions",get:function(){var e=this,r=this.props.trigger;return[{key:"edit",icon:"pen",text:t("EDIT"),action:"edit",show:function(e){return e.createTime},onClick:function(t){r("gateways.edit",C(C({detail:t._originData},e.getGatewayResource(t)),{},{success:e.routing.query}))}},{key:"update",icon:"update",text:t("UPDATE"),action:"manage",show:function(e){return!e.createTime},onClick:function(t){return r("gateways.update",C(C({detail:t._originData},e.getGatewayResource(t)),{},{success:e.routing.query}))}},{key:"delete",icon:"trash",text:t("DISABLE"),action:"delete",onClick:function(t){return r("gateways.delete",C(C({type:e.props.name,detail:t},e.getGatewayResource(t)),{},{resource:t.name,success:e.routing.query}))}}]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.tableProps,a=r.trigger;return C(C({},n.tableActions),{},{selectActions:[{key:"delete",type:"danger",text:t("DISABLE"),action:"delete",onClick:function(){return a("gateways.batch.delete",{type:e.props.name,rowKey:"name",success:e.routing.query})}}],onFetch:this.handleFetch})}}]),n}(v.default.Component))||u;r.default=k},715:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(70),o=r(634),u=n(r(1383)),c=n(r(2649)),l=(0,a.inject)("rootStore")((function(e){return e.rootStore.registerActions(u.default),(0,o.renderRoutes)(c.default)}));t.default=l},791:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(71)),o=n(r(21)),u=n(r(12)),c=n(r(13)),l=n(r(19)),i=n(r(20)),s=n(r(18)),d=n(r(0)),f=r(70),p=n(r(32)),m=r(279),h=n(r(835)),y=n(r(1133)),v=n(r(2694));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var O=function(e){(0,l.default)(r,e);var t=_(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).routing=e.props.rootStore.routing,e.fetchProjects=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.props,n=r.cluster,a=r.clusterStore;return a.fetchProjects(E(E({cluster:n},a.projects.filters),t))},e.handleClusterChange=function(t){e.props.clusterStore.setProject(t),e.props.onFetch({},!0)},e}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=(0,m.parse)(location.search.slice(1));e.namespace&&this.props.clusterStore.project!==e.namespace&&this.props.clusterStore.setProject(e.namespace)}},{key:"renderCustomFilter",value:function(){var e=this.props,t=e.module,r=e.cluster,n=e.clusterStore;return d.default.createElement(v.default,{module:t,cluster:r,list:n.projects,namespace:n.project,onFetch:this.fetchProjects,onChange:this.handleClusterChange})}},{key:"render",value:function(){return d.default.createElement(h.default,(0,a.default)({customFilter:this.renderCustomFilter(),showEmpty:this.showEmpty},this.props))}},{key:"showEmpty",get:function(){var e=this.props,t=e.data,r=e.isLoading,n=e.filters,a=e.clusterStore;return(0,p.default)(t)&&!r&&(0,p.default)(n)&&!a.project}}]),r}(d.default.Component),b=(0,f.inject)("rootStore","clusterStore")((0,f.observer)((0,y.default)(O)));t.default=b},866:function(e,t,r){"use strict";var n=r(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o,u,c=n(r(21)),l=n(r(136)),i=n(r(49)),s=n(r(50)),d=n(r(109)),f=n(r(91)),p=n(r(12)),m=n(r(13)),h=n(r(135)),y=n(r(19)),v=n(r(20)),g=n(r(18)),E=n(r(74)),_=(n(r(92)),r(5)),O=n(r(32)),b=n(r(16)),S=n(r(73)),C=n(r(849)),T=r(37),k=r(289);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,v.default)(this,r)}}var M=(a=function(e){(0,y.default)(a,e);var t,r,n=A(a);function a(){var e;(0,p.default)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return e=n.call.apply(n,[this].concat(r)),(0,f.default)(e,"health",o,(0,h.default)(e)),(0,f.default)(e,"etcd",u,(0,h.default)(e)),e.getApi=function(){var t=e.module?"/".concat(e.module):"";return"".concat(e.apiVersion,"/components").concat(t)},e.getNewRefreshedResult=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,d.default)(r);return t.forEach((function(t,r){var a=(0,b.default)(t,"metric.__name__"),o=null;if(a){var u=(0,b.default)(t,"metric.quantile"),c=(0,b.default)(t,"metric.verb"),l=(0,b.default)(t,"metric.result"),i=n.find((function(e){return u?(0,b.default)(e,"metric.quantile")===u:c?(0,b.default)(e,"metric.verb")===c:l?(0,b.default)(e,"metric.result")===l:(0,b.default)(e,"metric.__name__")===a}));(0,O.default)(i)?n.push(t):o=i}else o=n[r];if(!(0,O.default)(o)){var s=e.getNewValues(o.values,t.value);(0,S.default)(o,"values",s)}})),n},e}return(0,m.default)(a,[{key:"fetchHealthMetrics",value:(r=(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.health.isLoading=!0,e.next=3,this.requestHealthMetrics();case 3:this.health.isLoading=!1;case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"requestHealthMetrics",value:(t=(0,s.default)(i.default.mark((function e(){var t,r,n,a,o,u,c,s,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.cluster&&globals.app.isMultiCluster?"kapis/clusters/".concat(this.cluster,"/resources.kubesphere.io/v1alpha2/componenthealth"):"kapis/resources.kubesphere.io/v1alpha2/componenthealth",e.next=3,(0,T.to)(request.get(t));case 3:r=e.sent,n=r.kubesphereStatus||[],a=(0,C.default)(n,"namespace"),o=n.some((function(e){return"kube-scheduler"===(0,b.default)(e,"label.component")&&(0,b.default)(e,"healthyBackends",0)})),u=n.some((function(e){return"kube-controller-manager"===(0,b.default)(e,"label.component")&&(0,b.default)(e,"healthyBackends",0)})),c={kubernetes:(0,b.default)(r,"kubernetesStatus",[]),node:(0,b.default)(r,"nodeStatus",{}),kubesphere:(0,b.default)(a,"kubesphere-system",[]),openpitrix:(0,b.default)(a,"openpitrix-system",[]),istio:(0,b.default)(a,"istio-system",[]),monitoring:(0,b.default)(a,"kubesphere-monitoring-system",[]),logging:(0,b.default)(a,"kubesphere-logging-system",[]),devops:(0,b.default)(a,"kubesphere-devops-system",[]),kubeSystem:(0,b.default)(a,"kube-system",[])},s={},d={},Object.entries(c).forEach((function(e){var t=(0,l.default)(e,2),r=t[0],n=t[1],a={total:0,health:0},o={total:0,health:0};"node"===r?(a.total=(0,b.default)(n,"totalNodes",0),a.health=(0,b.default)(n,"healthyNodes",0)):"kubernetes"===r?(a.total=n.length,a.health=n.filter((function(e){return"Healthy"===(0,k.getComponentStatus)(e)})).length):n.forEach((function(e){a.total+=e.totalBackends,a.health+=e.healthyBackends;var t=(0,k.getComponentStatus)(e);o.health+="Healthy"===t?1:0,o.total+="Stopped"===t?0:1})),s[r]=a,d[r]=o})),this.health=D(D({},this.health||{}),{data:c,counts:s,componentCounts:d,supportKsScheduler:o,supportControllerManager:u});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),a}(n(r(768)).default),o=(0,E.default)(a.prototype,"health",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},counts:{},supportKsScheduler:!1,supportControllerManager:!1,isLoading:!1}}}),u=(0,E.default)(a.prototype,"etcd",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,E.default)(a.prototype,"fetchHealthMetrics",[_.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchHealthMetrics"),a.prototype),(0,E.default)(a.prototype,"requestHealthMetrics",[_.action],Object.getOwnPropertyDescriptor(a.prototype,"requestHealthMetrics"),a.prototype),a);t.default=M}}]);